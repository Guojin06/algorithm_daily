# Day38 - å­æ•°ç»„ç³»åˆ—DP

**æ—¥æœŸ**ï¼š2025å¹´11æœˆ8æ—¥  
**å­¦ä¹ é‡ç‚¹**ï¼šå­æ•°ç»„DPé—®é¢˜å…¥é—¨ï¼ˆè¿ç»­å­æ•°ç»„çš„çŠ¶æ€è®¾è®¡ï¼‰

---

## ğŸ“‹ ä»Šæ—¥è®¡åˆ’

### å­æ•°ç»„ç³»åˆ—DP
- [x] æœ€å¤§å­æ•°ç»„å’Œï¼ˆç»å…¸DPï¼Œå¿…åšâ­ï¼‰âœ…
- [ ] ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ï¼ˆæ­£è´Ÿè½¬æ¢çš„çŠ¶æ€è®¾è®¡ï¼‰

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

1. ç†è§£"è¿ç»­å­æ•°ç»„"çš„çŠ¶æ€å®šä¹‰æŠ€å·§
2. æŒæ¡"ä»¥iç»“å°¾"çš„çŠ¶æ€è®¾è®¡æ€æƒ³
3. å­¦ä¹ æ­£è´Ÿæ•°åˆ‡æ¢åœºæ™¯çš„å¤šçŠ¶æ€DP
4. ç†è§£å­æ•°ç»„é—®é¢˜çš„ç©ºé—´ä¼˜åŒ–æ–¹æ³•

---

## ğŸ“ æ ¸å¿ƒçŸ¥è¯†ç‚¹

### å­æ•°ç»„é—®é¢˜çš„çŠ¶æ€è®¾è®¡æ¨¡æ¿

**å…³é”®æ€æƒ³**ï¼šå®šä¹‰ `dp[i]` = **ä»¥ `nums[i]` ç»“å°¾**çš„æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„çš„æœ€ä¼˜å€¼

#### ä¸ºä»€ä¹ˆè¦"ä»¥iç»“å°¾"ï¼Ÿ

```
é—®é¢˜ï¼šæ±‚æ‰€æœ‰è¿ç»­å­æ•°ç»„çš„æŸä¸ªæœ€ä¼˜å€¼

é”™è¯¯æ€è·¯ï¼šdp[i] = å‰iä¸ªå…ƒç´ çš„æœ€ä¼˜å€¼
âŒ æ— æ³•ä¿è¯è¿ç»­æ€§ï¼

æ­£ç¡®æ€è·¯ï¼šdp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€ä¼˜å€¼
âœ… æ¯ä¸ªä½ç½®éƒ½å¿…é¡»é€‰ï¼Œå¤©ç„¶ä¿è¯è¿ç»­ï¼
```

#### é€šç”¨æ¡†æ¶

```cpp
// 1. çŠ¶æ€å®šä¹‰
dp[i] = ä»¥nums[i]ç»“å°¾çš„[æœ€å¤§å’Œ/æœ€å¤§ä¹˜ç§¯/...]

// 2. çŠ¶æ€è½¬ç§»
dp[i] = max/min(
    nums[i],           // ä»å½“å‰ä½ç½®é‡æ–°å¼€å§‹
    dp[i-1] op nums[i] // å»¶ç»­å‰ä¸€ä¸ªå­æ•°ç»„ï¼ˆopå¯èƒ½æ˜¯+ã€*ç­‰ï¼‰
)

// 3. ç­”æ¡ˆ
max(dp[0], dp[1], ..., dp[n-1])  // éå†æ‰€æœ‰ç»“å°¾ä½ç½®
```

---

## ğŸ“ é¢˜ç›®è§£ç­”

---

## é¢˜ç›®1ï¼šæœ€å¤§å­æ•°ç»„å’Œ â­â­â­

**é¢˜ç›®é“¾æ¥**ï¼š[LeetCode 53 - æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/)

**é¢˜ç›®æè¿°**ï¼š  
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚

**ç¤ºä¾‹**ï¼š
```
è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]
è¾“å‡ºï¼š6
è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6

è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š1

è¾“å…¥ï¼šnums = [5,4,-1,7,8]
è¾“å‡ºï¼š23
```

---

### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ï¼ˆæ ‡å‡†è§£æ³•ï¼‰

#### æ€è·¯åˆ†æ

è¿™æ˜¯**å­æ•°ç»„DPçš„å¼€å±±ä¹‹ä½œ**ï¼Œä¹Ÿæ˜¯ç†è§£"ä»¥iç»“å°¾"çŠ¶æ€å®šä¹‰çš„æœ€ä½³ä¾‹é¢˜ã€‚

**çŠ¶æ€å®šä¹‰**ï¼š
- `dp[i]` = ä»¥ `nums[i]` ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ

**ä¸ºä»€ä¹ˆè¿™æ ·å®šä¹‰ï¼Ÿ**
```
å¦‚æœå®šä¹‰dp[i] = å‰iä¸ªå…ƒç´ ä¸­å­æ•°ç»„çš„æœ€å¤§å’Œï¼š
- æ— æ³•ä¿è¯è¿ç»­æ€§
- ä¸çŸ¥é“æ˜¯å¦åŒ…å«nums[i]

å¦‚æœå®šä¹‰dp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å’Œï¼š
âœ… å¿…é¡»åŒ…å«nums[i]ï¼Œå¤©ç„¶è¿ç»­
âœ… çŠ¶æ€è½¬ç§»æ¸…æ™°
```

**çŠ¶æ€è½¬ç§»**ï¼š
```
å¯¹äºä½ç½®iï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š
1. ä»nums[i]é‡æ–°å¼€å§‹ï¼šdp[i] = nums[i]
2. å»¶ç»­å‰é¢çš„å­æ•°ç»„ï¼šdp[i] = dp[i-1] + nums[i]

å–æœ€å¤§å€¼ï¼š
dp[i] = max(nums[i], dp[i-1] + nums[i])
```

**è½¬ç§»å›¾è§£**ï¼š
```
nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]
         â†“   â†“   â†“  â†“   â†“  â†“  â†“   â†“  â†“
dp   = [-2, 1, -2, 4,  3, 5, 6,  1, 5]

å…³é”®å†³ç­–ç‚¹ï¼š
- i=1: max(1, -2+1) = 1  â†’ é‡æ–°å¼€å§‹
- i=3: max(4, -2+4) = 4  â†’ é‡æ–°å¼€å§‹
- i=7: max(-5, 6+(-5)) = 1 â†’ å»¶ç»­
```

#### ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        // æœ€å¤§å­æ•°ç»„å’Œ - æ ‡å‡†DPè§£æ³•
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n)
        // ç©ºé—´å¤æ‚åº¦ï¼šO(n)
        
        int n = nums.size();
        
        // dp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
        vector<int> dp(n);
        dp[0] = nums[0];
        
        for (int i = 1; i < n; i++) {
            // é€‰æ‹©1ï¼šä»ié‡æ–°å¼€å§‹
            // é€‰æ‹©2ï¼šå»¶ç»­å‰é¢çš„å­æ•°ç»„
            dp[i] = max(nums[i], dp[i-1] + nums[i]);
        }
        
        // ç­”æ¡ˆï¼šéå†æ‰€æœ‰ç»“å°¾ä½ç½®
        return *max_element(dp.begin(), dp.end());
    }
};
```

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```cpp
// æµ‹è¯•1ï¼šåŒ…å«è´Ÿæ•°
vector<int> nums1 = {-2,1,-3,4,-1,2,1,-5,4};
cout << maxSubArray(nums1) << endl;  // 6

// æµ‹è¯•2ï¼šå…¨æ­£æ•°
vector<int> nums2 = {1,2,3,4,5};
cout << maxSubArray(nums2) << endl;  // 15

// æµ‹è¯•3ï¼šå…¨è´Ÿæ•°
vector<int> nums3 = {-5,-4,-3,-2,-1};
cout << maxSubArray(nums3) << endl;  // -1

// æµ‹è¯•4ï¼šå•å…ƒç´ 
vector<int> nums4 = {5};
cout << maxSubArray(nums4) << endl;  // 5
```

---

### æˆ‘çš„å®ç° âœ…

**æäº¤æ—¶é—´**ï¼š2025å¹´11æœˆ8æ—¥  
**é€šè¿‡çŠ¶æ€**ï¼šâœ… Accepted

```cpp
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int n = nums.size();

        // dp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
        vector<int> dp(n);
        dp[0] = nums[0];

        for(int i = 1; i < n; i++)
        {
            // é€‰æ‹©1ï¼Œä»ié‡æ–°å¼€å§‹
            // é€‰æ‹©2ï¼Œå»¶ç»­å‰é¢çš„å­æ•°ç»„
            dp[i] = max(nums[i], dp[i-1] + nums[i]);
        }
        return *max_element(dp.begin(), dp.end());
    }
};
```

---

### ğŸ” ç®—æ³•æ­£ç¡®æ€§è¯¦è§£

#### ä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•æ˜¯æ­£ç¡®çš„ï¼Ÿ

**æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡ç»´æŠ¤"ä»¥æ¯ä¸ªä½ç½®ç»“å°¾çš„æœ€å¤§å’Œ"ï¼Œè‡ªç„¶åœ°æšä¸¾äº†æ‰€æœ‰å¯èƒ½çš„å­æ•°ç»„ã€‚

#### è¯æ˜æ­¥éª¤

**1. çŠ¶æ€å®šä¹‰çš„å®Œå¤‡æ€§**

```
å®šä¹‰ï¼šdp[i] = ä»¥nums[i]ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ

å…³é”®ï¼šä»»ä½•è¿ç»­å­æ•°ç»„éƒ½æœ‰ä¸€ä¸ª"ç»“å°¾ä½ç½®"
- å­æ•°ç»„[0,0]çš„ç»“å°¾æ˜¯0
- å­æ•°ç»„[1,3]çš„ç»“å°¾æ˜¯3
- å­æ•°ç»„[2,n-1]çš„ç»“å°¾æ˜¯n-1

ç»“è®ºï¼šé€šè¿‡æšä¸¾æ‰€æœ‰ç»“å°¾ä½ç½®ï¼Œæˆ‘ä»¬èƒ½è¦†ç›–æ‰€æœ‰å¯èƒ½çš„å­æ•°ç»„ï¼
```

**2. çŠ¶æ€è½¬ç§»çš„æ­£ç¡®æ€§**

```cpp
dp[i] = max(nums[i], dp[i-1] + nums[i]);
```

**ä¸ºä»€ä¹ˆåªæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Ÿ**

```
å¯¹äºä»¥ä½ç½®iç»“å°¾çš„å­æ•°ç»„ï¼Œå‰ä¸€ä¸ªå…ƒç´ è¦ä¹ˆï¼š
1. ä¸å­˜åœ¨ â†’ å­æ•°ç»„å°±æ˜¯[i,i]ï¼Œå’Œä¸ºnums[i]
2. å­˜åœ¨ â†’ é‚£å¿…ç„¶æ˜¯nums[i-1]ï¼Œæ­¤æ—¶å­æ•°ç»„æ˜¯"ä»¥i-1ç»“å°¾çš„æŸä¸ªå­æ•°ç»„"å»¶ä¼¸åˆ°i

å…³é”®è§‚å¯Ÿï¼š
- å¦‚æœæˆ‘ä»¬é€‰æ‹©å»¶ç»­ï¼Œé‚£å‰é¢çš„éƒ¨åˆ†ä¸€å®šæ˜¯"ä»¥i-1ç»“å°¾çš„æœ€ä¼˜å­æ•°ç»„"
- å› ä¸ºå¦‚æœä¸æ˜¯æœ€ä¼˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ›¿æ¢æˆæœ€ä¼˜çš„ï¼Œå¾—åˆ°æ›´å¤§çš„å’Œ
```

**3. ç­”æ¡ˆæ­£ç¡®æ€§**

```cpp
return *max_element(dp.begin(), dp.end());
```

```
ä¸ºä»€ä¹ˆæ˜¯max(dp[0..n-1])ï¼Ÿ

å› ä¸ºï¼š
- æœ€ä¼˜å­æ•°ç»„å¯ä»¥ä»¥ä»»ä½•ä½ç½®ç»“å°¾
- dp[i]ä»£è¡¨ä»¥iç»“å°¾çš„æœ€ä¼˜è§£
- å…¨å±€æœ€ä¼˜ = æ‰€æœ‰å¯èƒ½ç»“å°¾ä½ç½®çš„æœ€ä¼˜è§£ä¸­çš„æœ€å¤§å€¼
```

#### å›¾è§£è¯æ˜

```
nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]

æšä¸¾æ‰€æœ‰å¯èƒ½çš„å­æ•°ç»„ï¼š
ç»“å°¾=0: [-2]                              dp[0]=-2
ç»“å°¾=1: [-2,1] vs [1]                     dp[1]=1  (é€‰æ‹©é‡æ–°å¼€å§‹)
ç»“å°¾=2: [1,-3] vs [-3]                    dp[2]=-2 (é€‰æ‹©å»¶ç»­)
ç»“å°¾=3: [-2,1,-3,4] vs [4]               dp[3]=4  (é€‰æ‹©é‡æ–°å¼€å§‹)
ç»“å°¾=4: [4,-1]                            dp[4]=3  (é€‰æ‹©å»¶ç»­)
ç»“å°¾=5: [4,-1,2]                          dp[5]=5  (é€‰æ‹©å»¶ç»­)
ç»“å°¾=6: [4,-1,2,1]                        dp[6]=6  (é€‰æ‹©å»¶ç»­) â† æœ€å¤§ï¼
ç»“å°¾=7: [4,-1,2,1,-5]                     dp[7]=1  (é€‰æ‹©å»¶ç»­)
ç»“å°¾=8: [4,-1,2,1,-5,4] vs [4]           dp[8]=5  (é€‰æ‹©å»¶ç»­)

ç­”æ¡ˆ = max(dp) = 6
å¯¹åº”å­æ•°ç»„ï¼š[4,-1,2,1]
```

#### æ—¶é—´å¤æ‚åº¦è¯æ˜

```
å¤–å±‚å¾ªç¯ï¼šO(n)
æ¯æ¬¡å¾ªç¯å†…ï¼š
  - dp[i] = max(...)  â†’ O(1)
max_elementï¼šO(n)

æ€»æ—¶é—´ï¼šO(n) + O(n) = O(n)
```

---

### ğŸ“š max_element å‡½æ•°è¯¦è§£

`max_element` æ˜¯C++ STL `<algorithm>` å¤´æ–‡ä»¶ä¸­çš„å‡½æ•°ã€‚

#### åŸºæœ¬ç”¨æ³•

```cpp
#include <algorithm>

vector<int> vec = {3, 1, 4, 1, 5, 9, 2, 6};

// è¿”å›æŒ‡å‘æœ€å¤§å…ƒç´ çš„è¿­ä»£å™¨
auto it = max_element(vec.begin(), vec.end());

// è§£å¼•ç”¨å¾—åˆ°æœ€å¤§å€¼
int maxVal = *it;  // 9

// è·å–æœ€å¤§å€¼çš„ä½ç½®
int pos = it - vec.begin();  // 5
```

#### å‡½æ•°ç­¾å

```cpp
template <class ForwardIterator>
ForwardIterator max_element(ForwardIterator first, ForwardIterator last);
```

**å‚æ•°**ï¼š
- `first`: èŒƒå›´èµ·å§‹è¿­ä»£å™¨
- `last`: èŒƒå›´ç»“æŸè¿­ä»£å™¨ï¼ˆä¸åŒ…å«ï¼‰

**è¿”å›å€¼**ï¼š
- è¿”å›æŒ‡å‘èŒƒå›´å†…æœ€å¤§å…ƒç´ çš„**è¿­ä»£å™¨**
- å¦‚æœèŒƒå›´ä¸ºç©ºï¼Œè¿”å› `last`

#### ä¸ºä»€ä¹ˆè¿”å›è¿­ä»£å™¨è€Œä¸æ˜¯å€¼ï¼Ÿ

```cpp
// å¥½å¤„1ï¼šå¯ä»¥è·å–ä½ç½®
auto it = max_element(vec.begin(), vec.end());
int index = it - vec.begin();

// å¥½å¤„2ï¼šå¯ä»¥ä¿®æ”¹å…ƒç´ 
*it = 100;  // ä¿®æ”¹æœ€å¤§å…ƒç´ 

// å¥½å¤„3ï¼šå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸ºç©º
if (it != vec.end()) {
    cout << *it << endl;
}
```

#### ä¸ max å‡½æ•°çš„å¯¹æ¯”

| å‡½æ•° | ç”¨é€” | å‚æ•° | è¿”å›å€¼ |
|------|------|------|--------|
| `max(a, b)` | ä¸¤ä¸ªå€¼ä¸­çš„è¾ƒå¤§è€… | 2ä¸ªå€¼ | å€¼ |
| `max({a,b,c})` | å¤šä¸ªå€¼ä¸­çš„æœ€å¤§ | åˆå§‹åŒ–åˆ—è¡¨ | å€¼ |
| `max_element(begin, end)` | å®¹å™¨ä¸­çš„æœ€å¤§ | è¿­ä»£å™¨èŒƒå›´ | è¿­ä»£å™¨ |

#### ç¤ºä¾‹å¯¹æ¯”

```cpp
// æƒ…å†µ1ï¼šæ¯”è¾ƒä¸¤ä¸ªå€¼
int a = 5, b = 3;
int result1 = max(a, b);  // 5

// æƒ…å†µ2ï¼šæ¯”è¾ƒå¤šä¸ªå€¼ï¼ˆC++11ï¼‰
int result2 = max({5, 3, 8, 2});  // 8

// æƒ…å†µ3ï¼šåœ¨å®¹å™¨ä¸­æ‰¾æœ€å¤§å€¼
vector<int> vec = {5, 3, 8, 2};
int result3 = *max_element(vec.begin(), vec.end());  // 8
```

#### ç›¸å…³å‡½æ•°

```cpp
// æœ€å°å…ƒç´ 
auto minIt = min_element(vec.begin(), vec.end());
int minVal = *minIt;

// åŒæ—¶è·å–æœ€å¤§å’Œæœ€å°
auto [minIt, maxIt] = minmax_element(vec.begin(), vec.end());
int minVal = *minIt;
int maxVal = *maxIt;
```

#### è‡ªå®šä¹‰æ¯”è¾ƒ

```cpp
// æŒ‰ç»å¯¹å€¼æ‰¾æœ€å¤§
vector<int> vec = {-10, 5, -3, 8};
auto it = max_element(vec.begin(), vec.end(), 
    [](int a, int b) {
        return abs(a) < abs(b);
    }
);
cout << *it << endl;  // -10 (ç»å¯¹å€¼æœ€å¤§)
```

#### å¸¸è§é”™è¯¯

```cpp
// âŒ é”™è¯¯1ï¼šå¿˜è®°è§£å¼•ç”¨
vector<int> vec = {1, 2, 3};
int wrong = max_element(vec.begin(), vec.end());  // é”™ï¼è¿”å›çš„æ˜¯è¿­ä»£å™¨

// âœ… æ­£ç¡®ï¼šè§£å¼•ç”¨
int correct = *max_element(vec.begin(), vec.end());

// âŒ é”™è¯¯2ï¼šèŒƒå›´ä¸ºç©º
vector<int> empty;
int wrong = *max_element(empty.begin(), empty.end());  // æœªå®šä¹‰è¡Œä¸ºï¼

// âœ… æ­£ç¡®ï¼šå…ˆæ£€æŸ¥
if (!empty.empty()) {
    int correct = *max_element(empty.begin(), empty.end());
}

// âŒ é”™è¯¯3ï¼šæ•°ç»„å†™æ³•é”™è¯¯
int arr[5] = {1, 2, 3, 4, 5};
int wrong = *max_element(arr, arr + 5);  // âœ… è¿™æ ·æ˜¯å¯¹çš„
int wrong2 = *max_element(arr.begin(), arr.end());  // âŒ æ•°ç»„æ²¡æœ‰.begin()
```

#### åœ¨æœ¬é¢˜ä¸­çš„ä½¿ç”¨

```cpp
// æˆ‘ä»¬çš„ä½¿ç”¨
return *max_element(dp.begin(), dp.end());

// ç­‰ä»·å†™æ³•1ï¼šæ‰‹åŠ¨å¾ªç¯
int result = dp[0];
for (int i = 1; i < n; i++) {
    result = max(result, dp[i]);
}
return result;

// ç­‰ä»·å†™æ³•2ï¼šä½¿ç”¨accumulate + è‡ªå®šä¹‰å‡½æ•°
return *max_element(dp.begin(), dp.end());  // æœ€ç®€æ´

// æ—¶é—´å¤æ‚åº¦ï¼šéƒ½æ˜¯O(n)
```

#### æ€§èƒ½è¯´æ˜

```cpp
// max_element çš„å®ç°åŸç†ï¼ˆç®€åŒ–ç‰ˆï¼‰
template <class ForwardIterator>
ForwardIterator max_element(ForwardIterator first, ForwardIterator last) {
    if (first == last) return last;
    
    ForwardIterator largest = first;
    while (++first != last) {
        if (*largest < *first) {
            largest = first;
        }
    }
    return largest;
}

// æ—¶é—´å¤æ‚åº¦ï¼šO(n)
// ç©ºé—´å¤æ‚åº¦ï¼šO(1)
```

---

### æ–¹æ³•äºŒï¼šç©ºé—´ä¼˜åŒ–ï¼ˆæ»šåŠ¨å˜é‡ï¼‰

#### ä¼˜åŒ–åˆ†æ

è§‚å¯ŸçŠ¶æ€è½¬ç§»ï¼š
```python
dp[i] = max(nums[i], dp[i-1] + nums[i])
```

**å…³é”®å‘ç°**ï¼š
- `dp[i]` åªä¾èµ– `dp[i-1]`
- å¯ä»¥ç”¨ä¸€ä¸ªå˜é‡æ»šåŠ¨æ›´æ–°

#### ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        // æœ€å¤§å­æ•°ç»„å’Œ - ç©ºé—´ä¼˜åŒ–ç‰ˆ
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n)
        // ç©ºé—´å¤æ‚åº¦ï¼šO(1)
        
        // maxEndingHere = ä»¥å½“å‰ä½ç½®ç»“å°¾çš„æœ€å¤§å’Œ
        int maxEndingHere = nums[0];
        int result = nums[0];
        
        for (int i = 1; i < nums.size(); i++) {
            // æ›´æ–°ï¼šä»¥iç»“å°¾çš„æœ€å¤§å’Œ
            maxEndingHere = max(nums[i], maxEndingHere + nums[i]);
            // æ›´æ–°å…¨å±€æœ€å¤§å€¼
            result = max(result, maxEndingHere);
        }
        
        return result;
    }
};
```

---

### æ–¹æ³•ä¸‰ï¼šåˆ†æ²»æ³•ï¼ˆè¿›é˜¶æ€è·¯ï¼‰

#### æ€è·¯åˆ†æ

**åˆ†æ²»æ€æƒ³**ï¼š
```
æœ€å¤§å­æ•°ç»„å¯èƒ½å‡ºç°åœ¨ä¸‰ä¸ªä½ç½®ï¼š
1. å®Œå…¨åœ¨å·¦åŠéƒ¨åˆ†
2. å®Œå…¨åœ¨å³åŠéƒ¨åˆ†  
3. è·¨è¶Šä¸­ç‚¹ï¼ˆå·¦åŠéƒ¨åˆ†çš„åç¼€ + å³åŠéƒ¨åˆ†çš„å‰ç¼€ï¼‰
```

#### ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        // æœ€å¤§å­æ•°ç»„å’Œ - åˆ†æ²»æ³•
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n log n)
        // ç©ºé—´å¤æ‚åº¦ï¼šO(log n) - é€’å½’æ ˆ
        return divideAndConquer(nums, 0, nums.size() - 1);
    }
    
private:
    int divideAndConquer(vector<int>& nums, int left, int right) {
        // åŸºæœ¬æƒ…å†µ
        if (left == right) {
            return nums[left];
        }
        
        // åˆ†æ²»
        int mid = left + (right - left) / 2;
        
        // 1. å·¦åŠéƒ¨åˆ†çš„æœ€å¤§å’Œ
        int leftMax = divideAndConquer(nums, left, mid);
        
        // 2. å³åŠéƒ¨åˆ†çš„æœ€å¤§å’Œ
        int rightMax = divideAndConquer(nums, mid + 1, right);
        
        // 3. è·¨è¶Šä¸­ç‚¹çš„æœ€å¤§å’Œ
        // 3.1 ä»midå‘å·¦çš„æœ€å¤§åç¼€å’Œ
        int leftSuffixMax = INT_MIN;
        int leftSum = 0;
        for (int i = mid; i >= left; i--) {
            leftSum += nums[i];
            leftSuffixMax = max(leftSuffixMax, leftSum);
        }
        
        // 3.2 ä»mid+1å‘å³çš„æœ€å¤§å‰ç¼€å’Œ
        int rightPrefixMax = INT_MIN;
        int rightSum = 0;
        for (int i = mid + 1; i <= right; i++) {
            rightSum += nums[i];
            rightPrefixMax = max(rightPrefixMax, rightSum);
        }
        
        // è·¨è¶Šä¸­ç‚¹çš„æœ€å¤§å’Œ
        int crossMax = leftSuffixMax + rightPrefixMax;
        
        // è¿”å›ä¸‰è€…æœ€å¤§å€¼
        return max({leftMax, rightMax, crossMax});
    }
};
```

---

### å¤æ‚åº¦å¯¹æ¯”

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | æ¨èåº¦ |
|------|-----------|-----------|--------|
| æ ‡å‡†DP | O(n) | O(n) | â­â­â­â­ |
| ç©ºé—´ä¼˜åŒ– | O(n) | O(1) | â­â­â­â­â­ |
| åˆ†æ²»æ³• | O(n log n) | O(log n) | â­â­â­ |

**æ¨è**ï¼šé¢è¯•ä¼˜å…ˆä½¿ç”¨**ç©ºé—´ä¼˜åŒ–ç‰ˆ**ï¼ˆä»£ç ç®€æ´ï¼Œæ•ˆç‡æœ€é«˜ï¼‰

---

### ğŸ“Œ æ ¸å¿ƒè¦ç‚¹

#### 1. çŠ¶æ€å®šä¹‰çš„æœ¬è´¨

```
"ä»¥iç»“å°¾" çš„çŠ¶æ€å®šä¹‰é€‚ç”¨äºï¼š
âœ… è¿ç»­å­æ•°ç»„é—®é¢˜
âœ… éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½ç»“å°¾çš„åœºæ™¯
âœ… çŠ¶æ€ä¹‹é—´æœ‰æ˜ç¡®çš„è¿ç»­å…³ç³»
```

#### 2. è½¬ç§»æ–¹ç¨‹çš„ç†è§£

```cpp
dp[i] = max(nums[i], dp[i-1] + nums[i]);

// å¯ä»¥æ”¹å†™ä¸ºï¼š
dp[i] = nums[i] + max(0, dp[i-1]);

// å«ä¹‰ï¼š
// - å¦‚æœå‰é¢çš„å’Œæ˜¯æ­£çš„ï¼Œå°±åŠ ä¸Š
// - å¦‚æœå‰é¢çš„å’Œæ˜¯è´Ÿçš„ï¼Œä¸å¦‚é‡æ–°å¼€å§‹
```

#### 3. ç­”æ¡ˆçš„è·å–

```cpp
// âŒ é”™è¯¯ï¼šreturn dp[n-1];
// åŸå› ï¼šæœ€å¤§å’Œçš„å­æ•°ç»„ä¸ä¸€å®šä»¥æœ€åä¸€ä¸ªå…ƒç´ ç»“å°¾

// âœ… æ­£ç¡®ï¼šreturn *max_element(dp.begin(), dp.end());
// åŸå› ï¼šéœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„ç»“å°¾ä½ç½®
```

---

### ğŸ› å¸¸è§é”™è¯¯

#### é”™è¯¯1ï¼šçŠ¶æ€å®šä¹‰æ··æ·†

```cpp
// âŒ é”™è¯¯ï¼šdp[i] = å‰iä¸ªå…ƒç´ çš„æœ€å¤§å­æ•°ç»„å’Œ
dp[i] = max(dp[i-1], ?);  // ä¸çŸ¥é“æ€ä¹ˆè½¬ç§»

// âœ… æ­£ç¡®ï¼šdp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å’Œ
dp[i] = max(nums[i], dp[i-1] + nums[i]);
```

#### é”™è¯¯2ï¼šå¿˜è®°æ›´æ–°å…¨å±€æœ€å¤§å€¼

```cpp
// âŒ é”™è¯¯ï¼šåªè®°å½•å½“å‰çš„dpå€¼
for (int i = 1; i < n; i++) {
    dp[i] = max(nums[i], dp[i-1] + nums[i]);
}
return dp[n-1];  // é”™ï¼

// âœ… æ­£ç¡®ï¼šè¾¹æ›´æ–°è¾¹è®°å½•æœ€å¤§å€¼
int result = dp[0];
for (int i = 1; i < n; i++) {
    dp[i] = max(nums[i], dp[i-1] + nums[i]);
    result = max(result, dp[i]);
}
return result;
```

#### é”™è¯¯3ï¼šè¾¹ç•Œå¤„ç†é—æ¼

```cpp
// âŒ é”™è¯¯ï¼šdp[0]æ²¡æœ‰åˆå§‹åŒ–
vector<int> dp(n, 0);
for (int i = 0; i < n; i++) {  // ä»0å¼€å§‹ä¼šå‡ºé”™
    dp[i] = max(nums[i], dp[i-1] + nums[i]);
}

// âœ… æ­£ç¡®ï¼šæ˜¾å¼åˆå§‹åŒ–
dp[0] = nums[0];
for (int i = 1; i < n; i++) {  // ä»1å¼€å§‹
    dp[i] = max(nums[i], dp[i-1] + nums[i]);
}
```

---

## é¢˜ç›®2ï¼šä¹˜ç§¯æœ€å¤§å­æ•°ç»„ â­â­â­

**é¢˜ç›®é“¾æ¥**ï¼š[LeetCode 152 - ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode.cn/problems/maximum-product-subarray/)

**é¢˜ç›®æè¿°**ï¼š  
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„éç©ºè¿ç»­å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚

**ç¤ºä¾‹**ï¼š
```
è¾“å…¥ï¼šnums = [2,3,-2,4]
è¾“å‡ºï¼š6
è§£é‡Šï¼šå­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6

è¾“å…¥ï¼šnums = [-2,0,-1]
è¾“å‡ºï¼š0
è§£é‡Šï¼šç»“æœä¸èƒ½ä¸º 2ï¼Œå› ä¸º [-2,-1] ä¸æ˜¯è¿ç»­å­æ•°ç»„

è¾“å…¥ï¼šnums = [-2,3,-4]
è¾“å‡ºï¼š24
è§£é‡Šï¼šå­æ•°ç»„ [-2,3,-4] ä¹˜ç§¯æœ€å¤§
```

---

### æ–¹æ³•ï¼šåŒçŠ¶æ€DP

#### æ€è·¯åˆ†æ

**ä¸æœ€å¤§å­æ•°ç»„å’Œçš„åŒºåˆ«**ï¼š
```
åŠ æ³•ï¼š
- è´Ÿæ•°æ€»æ˜¯"æ‹‰ä½"å’Œ
- åªéœ€è¦ç»´æŠ¤æœ€å¤§å€¼

ä¹˜æ³•ï¼š
- è´Ÿæ•° Ã— è´Ÿæ•° = æ­£æ•°
- ä¸€ä¸ªå¾ˆå°çš„è´Ÿæ•°ï¼Œé‡åˆ°è´Ÿæ•°å¯èƒ½å˜æœ€å¤§ï¼
- éœ€è¦åŒæ—¶ç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼
```

**å…³é”®å‘ç°**ï¼š
```
å½“å‰ä½ç½®çš„æœ€å¤§ä¹˜ç§¯å¯èƒ½æ¥è‡ªï¼š
1. nums[i] æœ¬èº«ï¼ˆé‡æ–°å¼€å§‹ï¼‰
2. maxProduct[i-1] Ã— nums[i]ï¼ˆå»¶ç»­æœ€å¤§å€¼ï¼‰
3. minProduct[i-1] Ã— nums[i]ï¼ˆå¦‚æœnums[i]<0ï¼Œè´Ÿè´Ÿå¾—æ­£ï¼ï¼‰
```

**çŠ¶æ€å®šä¹‰**ï¼š
- `maxDP[i]` = ä»¥ `nums[i]` ç»“å°¾çš„æœ€å¤§ä¹˜ç§¯
- `minDP[i]` = ä»¥ `nums[i]` ç»“å°¾çš„æœ€å°ä¹˜ç§¯ï¼ˆå¯èƒ½æ˜¯è´Ÿæ•°ï¼‰

**çŠ¶æ€è½¬ç§»**ï¼š
```python
maxDP[i] = max(
    nums[i],
    maxDP[i-1] * nums[i],
    minDP[i-1] * nums[i]  # è´Ÿè´Ÿå¾—æ­£ï¼
)

minDP[i] = min(
    nums[i],
    maxDP[i-1] * nums[i],  # æ­£è´Ÿå¾—è´Ÿï¼
    minDP[i-1] * nums[i]
)
```

#### è½¬ç§»å›¾è§£

```
nums = [2, 3, -2, 4]

i=0: 
maxDP[0] = 2, minDP[0] = 2

i=1:
maxDP[1] = max(3, 2*3, 2*3) = 6
minDP[1] = min(3, 2*3, 2*3) = 3

i=2:
maxDP[2] = max(-2, 6*(-2), 3*(-2)) = -2
minDP[2] = min(-2, 6*(-2), 3*(-2)) = -12

i=3:
maxDP[3] = max(4, (-2)*4, (-12)*4) = 48  âŒ ä¸è¿ç»­ï¼
         = max(4, (-2)*4, (-12)*4) = 4   âœ“ é‡æ–°å¼€å§‹
```

ç­‰ç­‰ï¼Œè®©æˆ‘é‡æ–°åˆ†æï¼š

```
nums = [2, 3, -2, 4]

i=0: max=2, min=2

i=1: max=max(3, 2*3, 2*3)=6
     min=min(3, 2*3, 2*3)=3

i=2: max=max(-2, 6*(-2), 3*(-2))=max(-2,-12,-6)=-2
     min=min(-2, 6*(-2), 3*(-2))=min(-2,-12,-6)=-12

i=3: max=max(4, -2*4, -12*4)=max(4,-8,-48)=4
     min=min(4, -2*4, -12*4)=min(4,-8,-48)=-48

ç­”æ¡ˆ = max(2, 6, -2, 4) = 6
```

#### ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxProduct(vector<int>& nums) {
        // ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ - åŒçŠ¶æ€DP
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n)
        // ç©ºé—´å¤æ‚åº¦ï¼šO(n)
        
        int n = nums.size();
        
        // maxDP[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§ä¹˜ç§¯
        // minDP[i] = ä»¥nums[i]ç»“å°¾çš„æœ€å°ä¹˜ç§¯
        vector<int> maxDP(n);
        vector<int> minDP(n);
        
        maxDP[0] = nums[0];
        minDP[0] = nums[0];
        
        for (int i = 1; i < n; i++) {
            // å½“å‰å…ƒç´ ã€å»¶ç»­æœ€å¤§ã€å»¶ç»­æœ€å°ï¼ˆè´Ÿè´Ÿå¾—æ­£ï¼‰
            maxDP[i] = max({
                nums[i],
                maxDP[i-1] * nums[i],
                minDP[i-1] * nums[i]
            });
            
            minDP[i] = min({
                nums[i],
                maxDP[i-1] * nums[i],
                minDP[i-1] * nums[i]
            });
        }
        
        return *max_element(maxDP.begin(), maxDP.end());
    }
};
```

---

### ç©ºé—´ä¼˜åŒ–ç‰ˆ

#### ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxProduct(vector<int>& nums) {
        // ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ - ç©ºé—´ä¼˜åŒ–ç‰ˆ
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n)
        // ç©ºé—´å¤æ‚åº¦ï¼šO(1)
        
        // æ»šåŠ¨å˜é‡
        int maxEndingHere = nums[0];
        int minEndingHere = nums[0];
        int result = nums[0];
        
        for (int i = 1; i < nums.size(); i++) {
            // ä¿å­˜æ—§å€¼ï¼ˆå› ä¸ºæ›´æ–°maxEndingHereä¼šå½±å“minEndingHereçš„è®¡ç®—ï¼‰
            int prevMax = maxEndingHere;
            int prevMin = minEndingHere;
            
            // æ›´æ–°æœ€å¤§å€¼
            maxEndingHere = max({
                nums[i],
                prevMax * nums[i],
                prevMin * nums[i]
            });
            
            // æ›´æ–°æœ€å°å€¼
            minEndingHere = min({
                nums[i],
                prevMax * nums[i],
                prevMin * nums[i]
            });
            
            // æ›´æ–°å…¨å±€æœ€å¤§å€¼
            result = max(result, maxEndingHere);
        }
        
        return result;
    }
};
```

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```cpp
// æµ‹è¯•1ï¼šåŒ…å«è´Ÿæ•°
vector<int> nums1 = {2,3,-2,4};
cout << maxProduct(nums1) << endl;  // 6

// æµ‹è¯•2ï¼šä¸¤ä¸ªè´Ÿæ•°
vector<int> nums2 = {-2,3,-4};
cout << maxProduct(nums2) << endl;  // 24

// æµ‹è¯•3ï¼šåŒ…å«0
vector<int> nums3 = {-2,0,-1};
cout << maxProduct(nums3) << endl;  // 0

// æµ‹è¯•4ï¼šå…¨è´Ÿæ•°
vector<int> nums4 = {-2,-3,-4};
cout << maxProduct(nums4) << endl;  // 12

// æµ‹è¯•5ï¼šå•å…ƒç´ 
vector<int> nums5 = {5};
cout << maxProduct(nums5) << endl;  // 5
```

---

### ğŸ“Œ æ ¸å¿ƒè¦ç‚¹

#### 1. ä¸ºä»€ä¹ˆéœ€è¦ç»´æŠ¤æœ€å°å€¼ï¼Ÿ

```
åœºæ™¯ï¼šnums = [-2, 3, -4]

å¦‚æœåªç»´æŠ¤æœ€å¤§å€¼ï¼š
i=0: max = -2
i=1: max = max(3, -2*3) = 3
i=2: max = max(-4, 3*(-4)) = -4  âŒ æ¼æ‰äº† (-2)*3*(-4)=24

ç»´æŠ¤æœ€å°å€¼åï¼š
i=0: max=-2, min=-2
i=1: max=3, min=-6  (ä¿ç•™äº†-6)
i=2: max=max(-4, 3*(-4), (-6)*(-4)) = 24  âœ…
```

#### 2. ä¸‰ä¸ªå€™é€‰å€¼çš„å«ä¹‰

```python
max(nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i])
     â†“              â†“                    â†“
   é‡æ–°å¼€å§‹      å»¶ç»­æœ€å¤§å€¼         è´Ÿè´Ÿå¾—æ­£ï¼ˆå…³é”®ï¼ï¼‰
```

#### 3. çŠ¶æ€æ›´æ–°çš„é¡ºåºé—®é¢˜

```cpp
// âŒ é”™è¯¯ï¼šç›´æ¥æ›´æ–°ä¼šäº’ç›¸å½±å“
maxDP[i] = max({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
minDP[i] = min({nums[i], maxDP[i]*nums[i], minDP[i-1]*nums[i]});
                            // â†‘ è¿™é‡Œç”¨çš„æ˜¯æ–°çš„maxDP[i]ï¼

// âœ… æ–¹æ³•1ï¼šä¿å­˜æ—§å€¼
int prevMax = maxDP[i-1];
int prevMin = minDP[i-1];
maxDP[i] = max({nums[i], prevMax*nums[i], prevMin*nums[i]});
minDP[i] = min({nums[i], prevMax*nums[i], prevMin*nums[i]});

// âœ… æ–¹æ³•2ï¼šç”¨æ•°ç»„ï¼ˆé¿å…è¦†ç›–ï¼‰
maxDP[i] = max({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
minDP[i] = min({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
```

---

### ğŸ› å¸¸è§é”™è¯¯

#### é”™è¯¯1ï¼šåªç»´æŠ¤æœ€å¤§å€¼

```cpp
// âŒ é”™è¯¯ï¼šæ¼æ‰è´Ÿè´Ÿå¾—æ­£çš„æƒ…å†µ
maxDP[i] = max(nums[i], maxDP[i-1] * nums[i]);

// âœ… æ­£ç¡®ï¼šåŒæ—¶ç»´æŠ¤æœ€å¤§å’Œæœ€å°
maxDP[i] = max({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
minDP[i] = min({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
```

#### é”™è¯¯2ï¼šå¿˜è®°"é‡æ–°å¼€å§‹"é€‰é¡¹

```cpp
// âŒ é”™è¯¯ï¼šnums[i]ä¸º0æ—¶ä¼šå‡ºé”™
maxDP[i] = max(maxDP[i-1]*nums[i], minDP[i-1]*nums[i]);

// âœ… æ­£ç¡®ï¼šnums[i]æœ¬èº«ä¹Ÿæ˜¯å€™é€‰
maxDP[i] = max({nums[i], maxDP[i-1]*nums[i], minDP[i-1]*nums[i]});
```

#### é”™è¯¯3ï¼šçŠ¶æ€æ›´æ–°é¡ºåºé”™è¯¯ï¼ˆç©ºé—´ä¼˜åŒ–æ—¶ï¼‰

```cpp
// âŒ é”™è¯¯ï¼šmaxEndingHereè¢«æå‰æ›´æ–°
maxEndingHere = max({nums[i], maxEndingHere*nums[i], minEndingHere*nums[i]});
minEndingHere = min({nums[i], maxEndingHere*nums[i], minEndingHere*nums[i]});
                                    // â†‘ ç”¨äº†æ–°å€¼ï¼

// âœ… æ­£ç¡®ï¼šç”¨ä¸´æ—¶å˜é‡ä¿å­˜æ—§å€¼
int prevMax = maxEndingHere, prevMin = minEndingHere;
maxEndingHere = max({nums[i], prevMax*nums[i], prevMin*nums[i]});
minEndingHere = min({nums[i], prevMax*nums[i], prevMin*nums[i]});
```

---

## ğŸ’¡ ä»Šæ—¥æ€»ç»“

### æ ¸å¿ƒæ”¶è·

#### 1. å­æ•°ç»„DPçš„çŠ¶æ€è®¾è®¡æ¨¡å¼

```
æ¨¡å¼ï¼š"ä»¥iç»“å°¾"çš„çŠ¶æ€å®šä¹‰

é€‚ç”¨åœºæ™¯ï¼š
âœ… è¿ç»­å­æ•°ç»„é—®é¢˜
âœ… éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½ç»“å°¾
âœ… çŠ¶æ€ä¹‹é—´æœ‰è¿ç»­å…³ç³»

æ ‡å‡†æ¡†æ¶ï¼š
dp[i] = ä»¥nums[i]ç»“å°¾çš„æœ€ä¼˜å€¼
ç­”æ¡ˆ = max(dp[0..n-1])
```

#### 2. åŠ æ³• vs ä¹˜æ³•çš„å·®å¼‚

| ç‰¹å¾ | æœ€å¤§å­æ•°ç»„å’Œ | æœ€å¤§å­æ•°ç»„ç§¯ |
|------|-------------|-------------|
| çŠ¶æ€æ•°é‡ | 1ä¸ªï¼ˆæœ€å¤§å€¼ï¼‰ | 2ä¸ªï¼ˆæœ€å¤§+æœ€å°ï¼‰ |
| è´Ÿæ•°å½±å“ | æ€»æ˜¯æ‹‰ä½ | å¯èƒ½å˜æœ€å¤§ï¼ˆè´Ÿè´Ÿå¾—æ­£ï¼‰ |
| è½¬ç§»æ¥æº | 2ä¸ªé€‰æ‹© | 3ä¸ªé€‰æ‹© |
| å…³é”®æŠ€å·§ | é‡æ–°å¼€å§‹ | ç»´æŠ¤æœ€å°å€¼ |

#### 3. ç©ºé—´ä¼˜åŒ–çš„é€šç”¨æŠ€å·§

```python
# åŸåˆ™ï¼šdp[i]åªä¾èµ–dp[i-1]æ—¶ï¼Œå¯ä»¥ç”¨æ»šåŠ¨å˜é‡

# æ³¨æ„äº‹é¡¹ï¼š
1. ä¿å­˜æ—§å€¼ï¼ˆå¦‚æœæœ‰å¤šä¸ªçŠ¶æ€äº’ç›¸ä¾èµ–ï¼‰
2. æ›´æ–°é¡ºåºï¼ˆé¿å…è¦†ç›–ï¼‰
3. åŠæ—¶æ›´æ–°å…¨å±€ç­”æ¡ˆ
```

---

### é¢˜ç›®å¯¹æ¯”

| é¢˜ç›® | çŠ¶æ€æ•° | è½¬ç§»é€‰æ‹© | å…³é”®ç‚¹ | éš¾åº¦ |
|------|--------|---------|--------|------|
| æœ€å¤§å­æ•°ç»„å’Œ | 1 | 2ä¸ª | é‡æ–°å¼€å§‹ | â­â­ |
| æœ€å¤§å­æ•°ç»„ç§¯ | 2 | 3ä¸ª | è´Ÿè´Ÿå¾—æ­£ | â­â­â­ |

---

### æ–¹æ³•è®ºæ›´æ–°

#### å­æ•°ç»„DPé€šç”¨æ¨¡æ¿

```cpp
// 1. çŠ¶æ€å®šä¹‰
dp[i] = ä»¥nums[i]ç»“å°¾çš„[æœ€å¤§å’Œ/æœ€å¤§ç§¯/...]

// 2. çŠ¶æ€è½¬ç§»
dp[i] = best(
    nums[i],              // é‡æ–°å¼€å§‹
    extend(dp[i-1], nums[i])  // å»¶ç»­å‰é¢
)

// 3. ç­”æ¡ˆ
result = *max_element(dp.begin(), dp.end())  // æˆ– *min_element

// 4. ç©ºé—´ä¼˜åŒ–ï¼ˆå¦‚æœå¯èƒ½ï¼‰
ç”¨æ»šåŠ¨å˜é‡ä»£æ›¿æ•°ç»„
```

---

## ğŸ“š ç›¸å…³é¢˜ç›®æ¨è

### åŒç±»å‹é¢˜ç›®
1. [ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode.cn/problems/maximum-sum-circular-subarray/) - å­æ•°ç»„DP + ç¯å½¢å¤„ç†
2. [ä¹˜ç§¯ä¸ºæ­£æ•°çš„æœ€é•¿å­æ•°ç»„é•¿åº¦](https://leetcode.cn/problems/maximum-length-of-subarray-with-positive-product/) - ç¬¦å·DP
3. [ç­‰å·®æ•°åˆ—åˆ’åˆ†](https://leetcode.cn/problems/arithmetic-slices/) - å­æ•°ç»„è®¡æ•°

### è¿›é˜¶é¢˜ç›®
1. [æœ€é•¿æ¹æµå­æ•°ç»„](https://leetcode.cn/problems/longest-turbulent-subarray/) - çŠ¶æ€æœºDP
2. [æœ€å¤§å­çŸ©é˜µ](https://leetcode.cn/problems/max-submatrix-lcci/) - äºŒç»´å­æ•°ç»„
3. [åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/) - å­æ•°ç»„ + äºŒåˆ†

---

## ğŸ¯ ä¸‹æ¬¡é¢„å‘Š

**å¯èƒ½æ–¹å‘**ï¼š
1. ç¯å½¢å­æ•°ç»„é—®é¢˜ï¼ˆå¤„ç†é¦–å°¾ç›¸è¿ï¼‰
2. å­åºåˆ—DPï¼ˆæœ€é•¿é€’å¢å­åºåˆ—LISï¼‰
3. åŒºé—´DPå…¥é—¨

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Day37ç¬”è®°](./Day37-11.6-å¤šçŠ¶æ€DPè¿›é˜¶+å­æ•°ç»„ç³»åˆ—.md)
- [DPæ–¹æ³•è®º](../é€’å½’ä¸“é¢˜/é€’å½’æ–¹æ³•è®ºä½“ç³».md)

---

**å­¦ä¹ çŠ¶æ€**ï¼šè¿›è¡Œä¸­ ğŸ”¥


