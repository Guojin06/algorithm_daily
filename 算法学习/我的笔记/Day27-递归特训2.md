# Day27 - é€’å½’ç‰¹è®­ç¬¬2å¤©

> **è®­ç»ƒç›®æ ‡**ï¼šç»§ç»­æ·±åŒ–é€’å½’æ–¹æ³•è®ºï¼Œå®Œæˆ6é“ç»¼åˆç»ƒä¹ é¢˜

---

## å­¦ä¹ è®¡åˆ’
- è®­ç»ƒæ—¶é•¿ï¼šæ ¹æ®æƒ…å†µè°ƒæ•´
- é¢˜ç›®æ•°é‡ï¼š6é“ï¼ˆæ¯”ç‰¹è¯¾ç¨‹ä¸“é¢˜å››ç»¼åˆç»ƒä¹ ï¼‰
- è®­ç»ƒæ–¹æ³•ï¼šä¸¥æ ¼æŒ‰ç…§é€’å½’æ–¹æ³•è®ºäº”æ­¥æ³• + å®Œå–„æ–¹æ³•è®º

---

## 1. LeetCode 77 - ç»„åˆ

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _ç»„åˆ_C++
- LeetCodeç¼–å·ï¼š77
- éš¾åº¦ï¼šä¸­ç­‰

### é¢˜ç›®ç†è§£
ç»™å®šä¸¤ä¸ªæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å›èŒƒå›´ `[1, n]` ä¸­æ‰€æœ‰å¯èƒ½çš„ `k` ä¸ªæ•°çš„ç»„åˆã€‚

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`n = 4, k = 2`
- è¾“å‡ºï¼š`[[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]`

**ç‰¹ç‚¹**ï¼š
- æ˜¯"ç»„åˆ"é—®é¢˜ï¼Œä¸æ˜¯"æ’åˆ—"ï¼ˆ[1,2]å’Œ[2,1]ç®—åŒä¸€ä¸ªï¼‰
- éœ€è¦å›ºå®šé•¿åº¦k
- ç±»ä¼¼å­é›†é—®é¢˜ï¼Œä½†æœ‰é•¿åº¦é™åˆ¶

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(n, k, pos) çš„è¯­ä¹‰ï¼š
ä»ä½ç½®poså¼€å§‹ï¼Œåœ¨[pos, n]èŒƒå›´å†…é€‰æ‹©å…ƒç´ ï¼Œå‡‘å¤Ÿkä¸ªæ•°çš„ç»„åˆ
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
if(path.size() >= k)  // å·²ç»å‡‘å¤Ÿkä¸ªæ•°äº†
    è®°å½•ç»“æœ
    return
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ä½ç½®posï¼Œå¯ä»¥é€‰æ‹©posã€pos+1ã€...ã€nä¸­çš„ä»»æ„ä¸€ä¸ª
- é€‰æ‹©iåï¼Œå­é—®é¢˜å˜æˆï¼šä»i+1å¼€å§‹ç»§ç»­é€‰æ‹©

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
for(int i = pos; i <= n; i++) {  // ä»poså¼€å§‹å¾€åéå†
    åšé€‰æ‹©ï¼špath.push_back(i)
    é€’å½’ï¼šdfs(n, k, i+1)  // ä¸‹ä¸€å±‚ä»i+1å¼€å§‹
    æ’¤é”€ï¼špath.pop_back()
}
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šä»poså¼€å§‹é€‰ â†’ é€’å½’è°ƒç”¨ï¼šä»i+1å¼€å§‹é€‰
- âœ… å‡ºå£æ¡ä»¶ï¼špath.size() == k â†’ æ­£å¥½å‡‘å¤Ÿkä¸ª
- âœ… é€’å½’ä½“ï¼šéå†[pos, n]ï¼Œé€‰æ‹©åé€’å½’[i+1, n]

---

### åˆå§‹é”™è¯¯ä»£ç 

```cpp
class Solution {
public:
    vector<vector<int>> ret;
    vector<int> path;

    vector<vector<int>> combine(int n, int k) {
        dfs(n,k,1);
        return ret;
    }
    void dfs(int n, int k , int pos)
    {
        //å‡ºå£
        if(path.size() >= k)
        {
            ret.push_back(path);
            return;
        }
        //å‡½æ•°ä½“
        for(int i = 1 ; i< n;i++)          // âŒ é”™è¯¯1ï¼šä»1å¼€å§‹ï¼Œä¸” < n
        {
            path.push_back(pos);            // âŒ é”™è¯¯2ï¼špush posè€Œä¸æ˜¯i
            dfs(n,k,i+1);
            path.pop_back();
        }
    }
};
```

**é”™è¯¯è¾“å‡º**ï¼š
- è¾“å…¥ï¼š`n=4, k=2`
- è¾“å‡ºï¼š`[[1,2],[1,2],[1,2],[1,3],[1,3],[1,3],[1,4],[1,4],[1,4]]`
- é¢„æœŸï¼š`[[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]`

---

### é”™è¯¯åˆ†æ

#### **é”™è¯¯1ï¼š`for(int i = 1; i < n; i++)`**

**é—®é¢˜1**ï¼šä»1å¼€å§‹ï¼Œè€Œä¸æ˜¯ä»poså¼€å§‹
```
ç¬¬1å±‚: pos=1, ä½†éå†i=1,2,3 (ä»1å¼€å§‹)
  â””â”€ ç¬¬2å±‚: pos=2, ä½†éå†i=1,2,3 (è¿˜æ˜¯ä»1å¼€å§‹ï¼)
      â””â”€ æ— æ³•ä¿è¯"åªå¾€åé€‰"ï¼Œä¼šäº§ç”Ÿé‡å¤
```

**é—®é¢˜2**ï¼š`i < n` ä¼šæ¼æ‰n
```
n=4æ—¶ï¼Œi < 4ï¼Œåªä¼šéå†1,2,3ï¼Œæ¼æ‰4
```

**æ­£ç¡®å†™æ³•**ï¼š`for(int i = pos; i <= n; i++)`
- ä»poså¼€å§‹ï¼šç¡®ä¿"åªå¾€åé€‰"
- `<= n`ï¼šåŒ…å«n

#### **é”™è¯¯2ï¼š`path.push_back(pos)`**

è¿™æ˜¯**è‡´å‘½é”™è¯¯**ï¼
```
ä½ çš„é€»è¾‘ï¼š
  ç¬¬1å±‚pos=1: éå†i=1,2,3ï¼Œä½†éƒ½push(pos=1)
    ç»“æœï¼špathæ°¸è¿œæ˜¯[1, ...]
  
  ç¬¬2å±‚pos=2: éå†i=1,2,3ï¼Œä½†éƒ½push(pos=2)
    ç»“æœï¼špathæ°¸è¿œæ˜¯[1, 2]
```

**æ­£ç¡®å†™æ³•**ï¼š`path.push_back(i)`
- åº”è¯¥æ·»åŠ å½“å‰éå†çš„iï¼Œä¸æ˜¯å›ºå®šçš„pos
- posåªæ˜¯èµ·ç‚¹æ§åˆ¶ï¼ŒçœŸæ­£é€‰æ‹©çš„æ•°æ˜¯i

---

### æ­£ç¡®ä»£ç 

```cpp
class Solution {
public:
    vector<vector<int>> ret;
    vector<int> path;

    vector<vector<int>> combine(int n, int k) {
        dfs(n,k,1);
        return ret;
    }
    void dfs(int n, int k , int pos)
    {
        // 1. é€’å½’å‡ºå£
        if(path.size() >= k)
        {
            ret.push_back(path);
            return;
        }
        
        // 2. é€’å½’ä½“
        for(int i = pos; i <= n; i++)  // âœ… ä»poså¼€å§‹ï¼Œä¸”<=n
        {
            // åšé€‰æ‹©
            path.push_back(i);         // âœ… push iï¼Œä¸æ˜¯posï¼
            
            // é€’å½’
            dfs(n,k,i+1);             // ä¸‹ä¸€å±‚ä»i+1å¼€å§‹
            
            // æ¢å¤ç°åœº
            path.pop_back();
        }
    }
};
```

---

### å†³ç­–æ ‘ï¼ˆn=4, k=2ï¼‰

```
                        [] (pos=1)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
        |                |                |        |
      é€‰1              é€‰2              é€‰3      é€‰4
    [1] pos=2        [2] pos=3        [3] pos=4  [4] pos=5
    /  |  \            /    \            |         |
   2   3   4          3      4           4        (ç©º)
 [1,2] [1,3] [1,4]  [2,3]  [2,4]      [3,4]
  âœ…    âœ…    âœ…      âœ…      âœ…         âœ…
```

**æ‰§è¡Œè½¨è¿¹**ï¼š
```
dfs(4,2,1)  path=[]
  â”œâ”€ i=1: path=[1], dfs(4,2,2)
  â”‚   â”œâ”€ i=2: path=[1,2] âœ… è®°å½•
  â”‚   â”œâ”€ i=3: path=[1,3] âœ… è®°å½•
  â”‚   â””â”€ i=4: path=[1,4] âœ… è®°å½•
  â”œâ”€ i=2: path=[2], dfs(4,2,3)
  â”‚   â”œâ”€ i=3: path=[2,3] âœ… è®°å½•
  â”‚   â””â”€ i=4: path=[2,4] âœ… è®°å½•
  â”œâ”€ i=3: path=[3], dfs(4,2,4)
  â”‚   â””â”€ i=4: path=[3,4] âœ… è®°å½•
  â””â”€ i=4: path=[4], dfs(4,2,5)
      (å¾ªç¯ä¸æ‰§è¡Œ)
```

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- æ‰§è¡Œç”¨æ—¶ï¼š0 ms
- å†…å­˜æ¶ˆè€—ï¼šç¬¦åˆé¢„æœŸ

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. **ç»„åˆé—®é¢˜ = å­é›†é—®é¢˜ + é•¿åº¦é™åˆ¶**

| ç‰¹å¾ | å­é›†é—®é¢˜ | ç»„åˆé—®é¢˜ |
|------|---------|---------|
| å‡ºå£æ¡ä»¶ | æ— ï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½è®°å½•ï¼‰ | `path.size() == k` |
| è®°å½•æ—¶æœº | æ¯æ¬¡è¿›å…¥é€’å½’ | å‡‘å¤Ÿkä¸ªæ—¶ |
| ç»“æœæ•°é‡ | 2^n | C(n,k) |

#### 2. **poså‚æ•°çš„å…³é”®ä½œç”¨**

```cpp
for(int i = pos; i <= n; i++)  // ä»poså¼€å§‹
    dfs(n, k, i+1)             // ä¸‹ä¸€å±‚ä»i+1å¼€å§‹
```

**ä½œç”¨**ï¼š
1. ç¡®ä¿"åªå¾€åé€‰"ï¼Œé¿å…é‡å¤ï¼ˆ[1,2]å’Œ[2,1]ï¼‰
2. æ¯å±‚çš„é€‰æ‹©èŒƒå›´é€æ¸ç¼©å°
3. ä¸éœ€è¦checkæ•°ç»„

#### 3. **forå¾ªç¯çš„ä¸‰ä¸ªå…³é”®ç‚¹**

| å…³é”®ç‚¹ | é”™è¯¯å†™æ³• | æ­£ç¡®å†™æ³• | åŸå›  |
|-------|---------|---------|------|
| èµ·ç‚¹ | `i = 1` | `i = pos` | ä¿è¯åªå¾€åé€‰ |
| ç»ˆç‚¹ | `i < n` | `i <= n` | nä¹Ÿè¦é€‰åˆ° |
| pushçš„å€¼ | `push(pos)` | `push(i)` | posæ˜¯èµ·ç‚¹ï¼Œiæ˜¯å½“å‰å€¼ |

#### 4. **å›æº¯å››ç±»å‹å¯¹æ¯”**

| ç±»å‹ | checkæ•°ç»„ | indexå‚æ•° | forèµ·ç‚¹ | é€’å½’å‚æ•° | æœ¬é¢˜ |
|------|-----------|-----------|---------|----------|------|
| å…¨æ’åˆ— | âœ… éœ€è¦ | âŒ ä¸éœ€è¦ | 0 | ä¸å˜ | âŒ |
| å­é›†/ç»„åˆ | âŒ ä¸éœ€è¦ | âœ… éœ€è¦ | index | i+1 | âœ… æ˜¯è¿™ä¸ªï¼ |
| å¤šé›†åˆç»„åˆ | âŒ ä¸éœ€è¦ | âœ… éœ€è¦ | 0 | index+1 | âŒ |
| å‰ªæç”Ÿæˆ | âŒ ä¸éœ€è¦ | ç‰¹æ®Šå˜é‡ | - | çŠ¶æ€å‚æ•° | âŒ |

#### 5. **pos vs i çš„åŒºåˆ«**

```cpp
void dfs(int n, int k, int pos) {  // posï¼šèµ·ç‚¹æ§åˆ¶å‚æ•°
    for(int i = pos; i <= n; i++) {  // iï¼šå½“å‰éå†çš„å€¼
        path.push_back(i);  // âœ… push iï¼ˆå½“å‰å€¼ï¼‰
        // path.push_back(pos);  // âŒ posæ˜¯å¸¸é‡ï¼Œä¸èƒ½push
        dfs(n, k, i+1);  // é€’å½’æ—¶ä¼ i+1
    }
}
```

---

### æ–¹æ³•è®ºåæ€

#### âœ… **æœ‰å¸®åŠ©çš„åœ°æ–¹**
1. **äº”æ­¥æ³•**æ¸…æ™°åœ°å¼•å¯¼äº†æ€è·¯ï¼š
   - ç¬¬3æ­¥"ç¡®å®šå­é—®é¢˜"å¸®åŠ©ç†è§£ä¸ºä»€ä¹ˆè¦ä¼ i+1
   - ç¬¬5æ­¥"è¯­ä¹‰ä¸€è‡´æ€§"æ£€æŸ¥å‡ºäº†forå¾ªç¯çš„é—®é¢˜

2. **å›æº¯å››ç±»å‹è¡¨æ ¼**ï¼š
   - å¿«é€Ÿå®šä½åˆ°"å­é›†/ç»„åˆ"ç±»å‹
   - æ˜ç¡®äº†éœ€è¦poså‚æ•°ï¼Œä¸éœ€è¦checkæ•°ç»„

#### âš ï¸ **çŠ¯é”™çš„åœ°æ–¹**
1. **forå¾ªç¯å†™æ³•æ··æ·†**ï¼š
   - ç†è®ºçŸ¥é“è¦ä»poså¼€å§‹ï¼Œä½†å†™çš„æ—¶å€™ä¹ æƒ¯æ€§å†™i=1
   - **å»ºè®®**ï¼šåœ¨æ–¹æ³•è®ºä¸­å¼ºè°ƒ"forå¾ªç¯ä¸‰è¦ç´ "

2. **pushçš„å€¼æé”™**ï¼š
   - æ··æ·†äº†posï¼ˆèµ·ç‚¹å‚æ•°ï¼‰å’Œiï¼ˆå½“å‰å€¼ï¼‰
   - **å»ºè®®**ï¼šåœ¨æ–¹æ³•è®ºä¸­æ˜ç¡®"posæ˜¯å¯¼èˆªï¼Œiæ˜¯è´§ç‰©"

#### ğŸ’¡ **æ ¸å¿ƒæ”¶è·**
1. **ç»„åˆ = å­é›† + å›ºå®šé•¿åº¦k**
2. **poså‚æ•°çš„ä½œç”¨æ˜¯"å¯¼èˆª"ï¼Œiæ‰æ˜¯"çœŸæ­£é€‰æ‹©çš„å€¼"**
3. **forå¾ªç¯å¿…é¡»ä»poså¼€å§‹ï¼Œä¿è¯åªå¾€åé€‰**
4. **`i <= n` ä¸æ˜¯ `i < n`ï¼Œå¦åˆ™ä¼šæ¼æ‰æœ€åä¸€ä¸ªå…ƒç´ **

---

## 2. LeetCode 494 - ç›®æ ‡å’Œ

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _ç›®æ ‡å’Œ_C++
- LeetCodeç¼–å·ï¼š494
- éš¾åº¦ï¼šä¸­ç­‰

### é¢˜ç›®ç†è§£
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target`ã€‚å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  `+` æˆ– `-`ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œè¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº `target` çš„ä¸åŒè¡¨è¾¾å¼çš„æ•°ç›®ã€‚

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`nums = [1,1,1,1,1], target = 3`
- è¾“å‡ºï¼š`5`
- è§£é‡Šï¼š
  ```
  -1 + 1 + 1 + 1 + 1 = 3
  +1 - 1 + 1 + 1 + 1 = 3
  +1 + 1 - 1 + 1 + 1 = 3
  +1 + 1 + 1 - 1 + 1 = 3
  +1 + 1 + 1 + 1 - 1 = 3
  ```

**ç‰¹ç‚¹**ï¼š
- **æ¯ä¸ªæ•°éƒ½å¿…é¡»ä½¿ç”¨**
- **åªæ˜¯ç¬¦å·ä¸åŒ**ï¼ˆ+æˆ–-ï¼‰
- ä¸æ˜¯"é€‰ä¸é€‰"çš„é—®é¢˜ï¼Œè€Œæ˜¯"åŠ +è¿˜æ˜¯åŠ -"çš„é—®é¢˜

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(nums, pos, sum, target) çš„è¯­ä¹‰ï¼š
ä»ä½ç½®poså¼€å§‹ï¼Œå½“å‰ç´¯è®¡å’Œä¸ºsumï¼Œå°è¯•æ‰€æœ‰æ–¹å¼ä½¿æœ€ç»ˆå’Œç­‰äºtarget
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
if(pos >= nums.size())  // å¤„ç†å®Œæ‰€æœ‰æ•°å­—
    if(sum == target)   // æ£€æŸ¥æ˜¯å¦æ»¡è¶³æ¡ä»¶
        ret++
    return
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ä½ç½®posï¼Œæœ‰2ä¸ªé€‰æ‹©ï¼š
  1. ç»™nums[pos]åŠ ä¸Šæ­£å·ï¼šsum + nums[pos]
  2. ç»™nums[pos]åŠ ä¸Šè´Ÿå·ï¼šsum - nums[pos]
- é€‰æ‹©åï¼Œå­é—®é¢˜å˜æˆï¼šå¤„ç†pos+1ä½ç½®

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
// ä¸éœ€è¦forå¾ªç¯ï¼æ¯ä¸ªä½ç½®åªæœ‰2ä¸ªå›ºå®šé€‰æ‹©
dfs(nums, pos+1, sum + nums[pos], target)  // é€‰æ‹©+
dfs(nums, pos+1, sum - nums[pos], target)  // é€‰æ‹©-
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šå¤„ç†posä½ç½® â†’ é€’å½’è°ƒç”¨ï¼šå¤„ç†pos+1ä½ç½®
- âœ… å‡ºå£æ¡ä»¶ï¼špos >= nums.size() â†’ æ‰€æœ‰æ•°å¤„ç†å®Œæ¯•
- âœ… é€’å½’ä½“ï¼šæ¯ä¸ªä½ç½®2ä¸ªé€‰æ‹©ï¼ˆ+/-ï¼‰ï¼Œä¸ä¼šé—æ¼æˆ–é‡å¤

---

### åˆå§‹é”™è¯¯ä»£ç 

```cpp
class Solution {
public:
    int ret = 0;
    vector<int> path;  // âŒ ä¸éœ€è¦path
    
    int findTargetSumWays(vector<int>& nums, int target) {
        dfs(nums, 0, target);
        return ret;
    }
    
    void dfs(vector<int>& nums, int pos, int target) {
        // å‡ºå£
        if(path.size() >= nums.size() && target == 0)  // âŒ é”™è¯¯1ï¼šå‡ºå£æ¡ä»¶ä¸å®Œæ•´
            ret += 1;
            
        // é€’å½’ä½“
        for(int i = pos; i < nums.size(); i++)  // âŒ é”™è¯¯2ï¼šä¸éœ€è¦forå¾ªç¯ï¼
        {
            // +
            path.push_back(i);
            target = target - nums[i];  // âŒ é”™è¯¯3ï¼šä¿®æ”¹target
            dfs(nums, i+1, target);
            path.pop_back();
            target = target + nums[i];

            // -
            path.push_back(i);
            target = target + nums[i];  // âŒ é”™è¯¯3ï¼šä¿®æ”¹target
            dfs(nums, i+1, target);
            path.pop_back();
            target = target - nums[i];
        }
    }
};
```

**é”™è¯¯ç»“æœ**ï¼š
- è¶…å‡ºæ—¶é—´é™åˆ¶
- 21 / 142 ä¸ªé€šè¿‡çš„æµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•ç”¨ä¾‹ï¼š`nums = [0,0,0,...,0,1]` (20ä¸ª0)

---

### é”™è¯¯åˆ†æ

#### **é”™è¯¯1ï¼šæ··æ·†äº†"ç»„åˆ"å’Œ"ç¬¦å·é€‰æ‹©"**

**å…³é”®åŒºåˆ«**ï¼š

| ç»´åº¦ | ç»„åˆé—®é¢˜ï¼ˆLeetCode 77ï¼‰ | ç›®æ ‡å’Œï¼ˆæœ¬é¢˜ï¼‰ |
|------|----------------------|--------------|
| **é—®é¢˜æ€§è´¨** | é€‰ä¸é€‰æŸä¸ªæ•° | æ¯ä¸ªæ•°éƒ½ç”¨ï¼Œé€‰ç¬¦å· |
| **å†³ç­–æ–¹å¼** | ä»[pos, n]ä¸­é€‰ | åªå¤„ç†posä½ç½® |
| **éœ€è¦forå¾ªç¯** | âœ… éœ€è¦ | âŒ ä¸éœ€è¦ |
| **æ¯å±‚è°ƒç”¨æ¬¡æ•°** | n-posæ¬¡ | å›ºå®š2æ¬¡ |
| **æ—¶é—´å¤æ‚åº¦** | O(nÃ—2^n) | O(2^n) |

**é”™è¯¯å†³ç­–æ ‘**ï¼ˆä½ çš„ç†è§£ï¼‰ï¼š
```
dfs(pos=0)
â”œâ”€ for i=0: é€‰nums[0]ï¼Œ+æˆ–-
â”œâ”€ for i=1: é€‰nums[1]ï¼Œ+æˆ–-  â† é”™ï¼è¿™ä¼šè·³è¿‡nums[0]
â””â”€ for i=2: é€‰nums[2]ï¼Œ+æˆ–-  â† é”™ï¼è¿™ä¼šè·³è¿‡nums[0]å’Œnums[1]
```

**æ­£ç¡®å†³ç­–æ ‘**ï¼š
```
dfs(pos=0)
â”œâ”€ +nums[0], dfs(pos=1)
â”‚   â”œâ”€ +nums[1], dfs(pos=2)
â”‚   â””â”€ -nums[1], dfs(pos=2)
â””â”€ -nums[0], dfs(pos=1)
    â”œâ”€ +nums[1], dfs(pos=2)
    â””â”€ -nums[1], dfs(pos=2)
```

#### **é”™è¯¯2ï¼šforå¾ªç¯å¯¼è‡´æ—¶é—´å¤æ‚åº¦çˆ†ç‚¸**

**ä½ çš„ä»£ç å¤æ‚åº¦åˆ†æ**ï¼ˆn=20ï¼‰ï¼š
```
ç¬¬1å±‚ (pos=0): 
  for i=0 to 19:  20ä¸ªé€‰æ‹©
    æ¯ä¸ªiæœ‰2ä¸ªé€‰æ‹©(+/-) = 40æ¬¡è°ƒç”¨

ç¬¬2å±‚ (pos=1):
  for i=1 to 19:  19ä¸ªé€‰æ‹©
    æ¯ä¸ªiæœ‰2ä¸ªé€‰æ‹©(+/-) = 38æ¬¡è°ƒç”¨
    
... 

æ€»å¤æ‚åº¦ï¼šO(2^n Ã— n!) æˆ–æ›´ç³Ÿ
n=20: å¤©æ–‡æ•°å­— â†’ è¶…æ—¶ï¼
```

**æ­£ç¡®ä»£ç å¤æ‚åº¦åˆ†æ**ï¼ˆn=20ï¼‰ï¼š
```
ç¬¬1å±‚: 2æ¬¡è°ƒç”¨
ç¬¬2å±‚: 2Ã—2 = 4æ¬¡è°ƒç”¨
ç¬¬3å±‚: 4Ã—2 = 8æ¬¡è°ƒç”¨
...
ç¬¬nå±‚: 2^næ¬¡è°ƒç”¨

æ€»å¤æ‚åº¦ï¼šO(2^n)
n=20: 2^20 = 1,048,576 âœ… å¯ä»¥æ¥å—
```

#### **é”™è¯¯3ï¼šå‡ºå£æ¡ä»¶ä¸å®Œæ•´å¯¼è‡´æ•°ç»„è¶Šç•Œ**

**ä½ çš„å‡ºå£æ¡ä»¶**ï¼š
```cpp
if(pos >= nums.size() && sum == target) {  // âŒ åªå¤„ç†ä¸€ç§æƒ…å†µ
    ret++;
    return;
}
// å¦‚æœ pos >= nums.size() ä½† sum != target å‘¢ï¼Ÿ
// æ²¡æœ‰returnï¼ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼

dfs(nums, pos+1, sum+nums[pos], target);  // ğŸ’¥ nums[pos]è¶Šç•Œï¼
```

**æ­£ç¡®çš„å‡ºå£æ¡ä»¶**ï¼š
```cpp
if(pos >= nums.size()) {  // âœ… åªè¦åˆ°è¾¾è¾¹ç•Œå°±è¿”å›
    if(sum == target) ret++;
    return;  // æ— è®ºå¦‚ä½•éƒ½è¦è¿”å›ï¼
}
```

#### **é”™è¯¯4ï¼šä¿®æ”¹targetè€Œä¸æ˜¯ç»´æŠ¤sum**

**ä½ çš„åšæ³•**ï¼š
```cpp
target = target - nums[i];  // ä¿®æ”¹target
dfs(nums, i+1, target);
target = target + nums[i];  // æ¢å¤
```

**é—®é¢˜**ï¼š
- targetæ˜¯ç›®æ ‡å€¼ï¼Œä¸åº”è¯¥è¢«ä¿®æ”¹
- åº”è¯¥ç”¨sumå˜é‡è®°å½•å½“å‰ç´¯è®¡å’Œ

**æ­£ç¡®åšæ³•**ï¼š
```cpp
dfs(nums, pos+1, sum + nums[pos], target);  // sumå˜åŒ–ï¼Œtargetä¸å˜
```

---

### æ­£ç¡®ä»£ç 

```cpp
class Solution {
public:
    int ret = 0;
    
    int findTargetSumWays(vector<int>& nums, int target) {
        dfs(nums, 0, 0, target);
        return ret;
    }
    
    void dfs(vector<int>& nums, int pos, int sum, int target) {
        // 1. é€’å½’å‡ºå£ï¼ˆå¤„ç†å®Œæ‰€æœ‰æ•°å­—ï¼‰
        if(pos >= nums.size()) {
            if(sum == target) ret++;  // æ£€æŸ¥æ˜¯å¦æ»¡è¶³æ¡ä»¶
            return;
        }
        
        // 2. é€’å½’ä½“ï¼ˆä¸éœ€è¦forå¾ªç¯ï¼ï¼‰
        // é€‰æ‹©1ï¼šç»™nums[pos]åŠ æ­£å·
        dfs(nums, pos + 1, sum + nums[pos], target);
        
        // é€‰æ‹©2ï¼šç»™nums[pos]åŠ è´Ÿå·
        dfs(nums, pos + 1, sum - nums[pos], target);
    }
};
```

---

### å†³ç­–æ ‘ï¼ˆnums=[1,2,3], target=0ï¼‰

```
                    [] (pos=0, sum=0)
                   /              \
               +1(1)              -1(-1)  â† ç¬¬1ä¸ªæ•°
              /      \           /      \
          +2(3)    -2(-1)    +2(1)    -2(-3)  â† ç¬¬2ä¸ªæ•°
         /   \     /   \     /   \     /   \
       +3  -3   +3  -3   +3  -3   +3  -3    â† ç¬¬3ä¸ªæ•°
       (6) (0) (2)(-4) (4)(-2) (0)(-6)
           âœ…              âœ…           âœ…

è·¯å¾„1: +1+2-3=0 âœ…
è·¯å¾„2: -1+2+3=4
è·¯å¾„3: -1+2-3=-2
...
æ€»å…±: 2^3 = 8æ¡è·¯å¾„
```

**æ‰§è¡Œè½¨è¿¹**ï¼š
```
dfs(pos=0, sum=0)
â”œâ”€ +1: dfs(pos=1, sum=1)
â”‚   â”œâ”€ +2: dfs(pos=2, sum=3)
â”‚   â”‚   â”œâ”€ +3: dfs(pos=3, sum=6) â†’ pos>=3, sum!=0
â”‚   â”‚   â””â”€ -3: dfs(pos=3, sum=0) â†’ pos>=3, sum==0 âœ… ret++
â”‚   â””â”€ -2: dfs(pos=2, sum=-1)
â”‚       â”œâ”€ +3: dfs(pos=3, sum=2)
â”‚       â””â”€ -3: dfs(pos=3, sum=-4)
â””â”€ -1: dfs(pos=0, sum=-1)
    â””â”€ ...
```

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- æ‰§è¡Œç”¨æ—¶ï¼šç¬¦åˆé¢„æœŸ
- å†…å­˜æ¶ˆè€—ï¼šç¬¦åˆé¢„æœŸ

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. **é—®é¢˜åˆ†ç±»ï¼šç¬¦å·é€‰æ‹© vs ç»„åˆé€‰æ‹©**

| ç±»å‹ | ç‰¹å¾ | æ˜¯å¦ç”¨for | å¤æ‚åº¦ | ç¤ºä¾‹ |
|------|------|----------|--------|------|
| **ç¬¦å·é€‰æ‹©** | æ¯ä¸ªæ•°éƒ½ç”¨ï¼Œé€‰ç¬¦å· | âŒ ä¸éœ€è¦ | O(2^n) | ç›®æ ‡å’Œã€æ‹¬å·ç”Ÿæˆ |
| **ç»„åˆé€‰æ‹©** | é€‰ä¸é€‰æŸä¸ªæ•° | âœ… éœ€è¦ | O(nÃ—2^n) | ç»„åˆã€å­é›† |
| **æ’åˆ—é€‰æ‹©** | é€‰å“ªä¸ªæ•° | âœ… éœ€è¦+check | O(n!) | å…¨æ’åˆ— |

#### 2. **é€’å½’ç»“æ„è¯†åˆ«**

**çœ‹é¢˜ç›®è¦æ±‚**ï¼š
```
"æ¯ä¸ªæ•°éƒ½è¦ç”¨" â†’ ä¸éœ€è¦forå¾ªç¯
"é€‰kä¸ªæ•°" â†’ éœ€è¦forå¾ªç¯
"æ’åˆ—æ‰€æœ‰æ•°" â†’ éœ€è¦forå¾ªç¯+checkæ•°ç»„
```

**çœ‹å†³ç­–æ–¹å¼**ï¼š
```
æ¯ä¸ªä½ç½®å›ºå®škä¸ªé€‰æ‹© â†’ ä¸éœ€è¦forå¾ªç¯
æ¯ä¸ªä½ç½®å¯ä»¥é€‰[pos,n]çš„ä»»æ„æ•° â†’ éœ€è¦forå¾ªç¯
```

#### 3. **å¤æ‚åº¦å¯¹æ¯”**

| ä»£ç ç»“æ„ | æ—¶é—´å¤æ‚åº¦ | n=20æ—¶ | æ˜¯å¦è¶…æ—¶ |
|---------|-----------|--------|----------|
| ä¸ç”¨forå¾ªç¯ | O(2^n) | 2^20=1M | âœ… ä¸ä¼š |
| forä»poså¼€å§‹ | O(nÃ—2^n) | 20Ã—2^20=20M | âœ… ä¸ä¼š |
| forä»0å¼€å§‹ | O(n!) | 20!â‰ˆ10^18 | âŒ ä¼š |
| **ä½ çš„é”™è¯¯ä»£ç ** | O(2^nÃ—n!) | å¤©æ–‡æ•°å­— | âŒ ä¼š |

#### 4. **å‚æ•°è®¾è®¡**

| å‚æ•° | ä½œç”¨ | æ˜¯å¦ä¿®æ”¹ | ä¼ é€’æ–¹å¼ |
|------|------|---------|---------|
| `nums` | åŸå§‹æ•°ç»„ | âŒ ä¸ä¿®æ”¹ | å¼•ç”¨ä¼ é€’ |
| `pos` | å½“å‰ä½ç½® | âœ… ä¿®æ”¹(+1) | å€¼ä¼ é€’ |
| `sum` | å½“å‰å’Œ | âœ… ä¿®æ”¹(Â±nums[pos]) | å€¼ä¼ é€’ |
| `target` | ç›®æ ‡å€¼ | âŒ ä¸ä¿®æ”¹ | å€¼ä¼ é€’ |
| `ret` | ç»“æœè®¡æ•° | âœ… ä¿®æ”¹(++) | å…¨å±€å˜é‡ |

#### 5. **å‡ºå£æ¡ä»¶çš„å®Œæ•´æ€§**

**åŸåˆ™**ï¼š
```cpp
if (åˆ°è¾¾è¾¹ç•Œ) {
    å¤„ç†ç»“æœ;
    return;  // âœ… å¿…é¡»è¿”å›ï¼
}
// åªæœ‰æœªåˆ°è¾¾è¾¹ç•Œæ—¶ï¼Œæ‰èƒ½è®¿é—®æ•°ç»„
```

**å¸¸è§é”™è¯¯**ï¼š
```cpp
if (åˆ°è¾¾è¾¹ç•Œ && æ»¡è¶³æ¡ä»¶) {  // âŒ åªå¤„ç†æ»¡è¶³æ¡ä»¶çš„æƒ…å†µ
    ret++;
    return;
}
// å¦‚æœåˆ°è¾¾è¾¹ç•Œä½†ä¸æ»¡è¶³æ¡ä»¶å‘¢ï¼Ÿæ²¡æœ‰returnï¼Œä¼šç»§ç»­æ‰§è¡Œ â†’ è¶Šç•Œï¼
```

---

### æ–¹æ³•è®ºåæ€

#### âœ… **æœ‰å¸®åŠ©çš„åœ°æ–¹**
1. **ç¬¬3æ­¥"ç¡®å®šå­é—®é¢˜"**ï¼š
   - å¸®åŠ©è¯†åˆ«å‡º"æ¯ä¸ªä½ç½®2ä¸ªé€‰æ‹©"
   - æ˜ç¡®äº†ä¸éœ€è¦forå¾ªç¯

2. **å›æº¯å››ç±»å‹è¡¨æ ¼**ï¼š
   - æœ¬é¢˜ä¸å±äºç»„åˆ/å­é›†ç±»å‹
   - å±äº"å›ºå®šåˆ†æ”¯æ•°"ç±»å‹

#### âš ï¸ **çŠ¯é”™çš„åœ°æ–¹**
1. **æ··æ·†äº†é—®é¢˜ç±»å‹**ï¼š
   - è¯¯è®¤ä¸ºæ˜¯ç»„åˆé—®é¢˜ï¼Œç”¨äº†forå¾ªç¯
   - å®é™…æ˜¯ç¬¦å·é€‰æ‹©é—®é¢˜ï¼Œä¸éœ€è¦forå¾ªç¯

2. **å‡ºå£æ¡ä»¶ä¸å®Œæ•´**ï¼š
   - åªå¤„ç†äº† `pos>=n && sum==target` çš„æƒ…å†µ
   - å¿˜è®°äº† `pos>=n && sum!=target` ä¹Ÿè¦è¿”å›

3. **å‚æ•°è®¾è®¡æ··ä¹±**ï¼š
   - ä¿®æ”¹äº†targetï¼ˆç›®æ ‡å€¼ä¸åº”è¯¥å˜ï¼‰
   - åº”è¯¥ç”¨sumè®°å½•å½“å‰å’Œ

#### ğŸ’¡ **æ ¸å¿ƒæ”¶è·**
1. **è¯†åˆ«é—®é¢˜ç±»å‹æ˜¯å…³é”®**ï¼š
   - "æ¯ä¸ªæ•°éƒ½ç”¨" â†’ ä¸éœ€è¦forå¾ªç¯
   - "é€‰kä¸ªæ•°" â†’ éœ€è¦forå¾ªç¯

2. **å‡ºå£æ¡ä»¶å¿…é¡»å®Œæ•´**ï¼š
   - åˆ°è¾¾è¾¹ç•Œå°±å¿…é¡»returnï¼Œä¸èƒ½åªå¤„ç†éƒ¨åˆ†æƒ…å†µ

3. **å¤æ‚åº¦åˆ†æ**ï¼š
   - æ²¡æœ‰forå¾ªç¯ï¼šO(2^n)ï¼Œnå¯ä»¥åˆ°20-25
   - æœ‰forå¾ªç¯ä»poså¼€å§‹ï¼šO(nÃ—2^n)ï¼Œnå¯ä»¥åˆ°20
   - æœ‰forå¾ªç¯ä»0å¼€å§‹ï¼šO(n!)ï¼Œnåªèƒ½åˆ°10-12

4. **å‚æ•°è¯­ä¹‰è¦æ¸…æ™°**ï¼š
   - targetæ˜¯ç›®æ ‡ï¼Œä¸åº”è¯¥è¢«ä¿®æ”¹
   - sumæ˜¯çŠ¶æ€ï¼Œåº”è¯¥ä¼ é€’å¹¶ä¿®æ”¹

---

## 3. LeetCode 39 - ç»„åˆæ€»å’Œ

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _ç»„åˆæ€»å’Œ_C++
- LeetCodeç¼–å·ï¼š39
- éš¾åº¦ï¼šä¸­ç­‰

### é¢˜ç›®ç†è§£
ç»™å®šä¸€ä¸ª**æ— é‡å¤å…ƒç´ **çš„æ•´æ•°æ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° `target`ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚

**å…³é”®ç‰¹ç‚¹**ï¼š
- â­ **åŒä¸€ä¸ªæ•°å­—å¯ä»¥æ— é™æ¬¡é‡å¤é€‰æ‹©**
- æ•°ç»„ä¸­çš„æ•°å­—æ˜¯æ— é‡å¤çš„
- è¿”å›çš„æ˜¯ç»„åˆï¼Œä¸æ˜¯æ’åˆ—ï¼ˆ[2,3]å’Œ[3,2]ç®—åŒä¸€ä¸ªï¼‰

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`candidates = [2,3,6,7], target = 7`
- è¾“å‡ºï¼š`[[2,2,3],[7]]`
- è§£é‡Šï¼š
  ```
  2 + 2 + 3 = 7
  7 = 7
  ```

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(candidates, pos, target) çš„è¯­ä¹‰ï¼š
ä»ä½ç½®poså¼€å§‹ï¼Œåœ¨candidatesä¸­é€‰æ‹©æ•°å­—ï¼ˆå¯é‡å¤é€‰ï¼‰ï¼Œå‡‘å‡ºtarget
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
å‡ºå£1: target == 0  â†’ å‡‘å¤Ÿäº†ï¼Œè®°å½•ç»“æœ
å‡ºå£2: target < 0   â†’ è¶…äº†ï¼Œå‰ªæè¿”å›
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ä½ç½®posï¼Œå¯ä»¥é€‰æ‹©ï¼š
  1. é€‰ `candidates[pos]`ï¼Œç»§ç»­ä»poså¼€å§‹ï¼ˆå…è®¸é‡å¤ï¼‰
  2. é€‰ `candidates[pos+1]`ï¼Œè·³åˆ°ä¸‹ä¸€ä¸ªæ•°
  3. ...
- æ¯æ¬¡é€‰æ‹©åï¼Œ`target` å‡å»é€‰æ‹©çš„æ•°

**å…³é”®å†³ç­–**ï¼š
- **é€’å½’å‚æ•°ä¼ `i`è¿˜æ˜¯`i+1`ï¼Ÿ**
  - æœ¬é¢˜ï¼šä¼ `i`ï¼ˆå…è®¸é‡å¤é€‰æ‹©åŒä¸€ä¸ªæ•°ï¼‰
  - æ™®é€šç»„åˆï¼šä¼ `i+1`ï¼ˆæ¯ä¸ªæ•°åªèƒ½é€‰ä¸€æ¬¡ï¼‰

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
for(int i = pos; i < candidates.size(); i++) {
    åšé€‰æ‹©: path.push_back(candidates[i])
    é€’å½’: dfs(candidates, i, target - candidates[i])  // ä¼ iï¼
    æ’¤é”€: path.pop_back()
}
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šä»poså¼€å§‹é€‰æ•°å‡‘target
- âœ… é€’å½’è°ƒç”¨ï¼šä¼ `i`å…è®¸é‡å¤é€‰ï¼Œforå¾ªç¯éå†æ‰€æœ‰å¯èƒ½
- âœ… å‡ºå£æ¡ä»¶ï¼štarget==0è®°å½•ï¼Œtarget<0å‰ªæ

---

### åˆå§‹é”™è¯¯ä»£ç 

```cpp
class Solution {
public:
    vector<vector<int>> ret;
    vector<int> path;
    
    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
        dfs(candidates, target);  // âŒ ç¼ºå°‘poså‚æ•°
        return ret;
    }
    
    void dfs(vector<int>& nums, int target) {  // âŒ ç¼ºå°‘poså‚æ•°
        // å‡ºå£
        if(target == 0) {
            ret.push_back(path);
            return;
        }
        if(target < 0) return;
        
        // é€’å½’ä½“
        for(int i = 0; i < nums.size(); i++) {  // âŒ ä»0å¼€å§‹ï¼Œä¸æ˜¯pos
            path.push_back(nums[i]);
            dfs(nums, target - nums[i]);  // âŒ æ²¡æœ‰ä¼ é€’ä½ç½®ä¿¡æ¯
            path.pop_back();
        }
    }
};
```

**é”™è¯¯è¾“å‡º**ï¼š
- è¾“å…¥ï¼š`candidates = [2,3,6,7], target = 7`
- è¾“å‡ºï¼š`[[2,2,3],[2,3,2],[3,2,2],[7]]`
- é¢„æœŸï¼š`[[2,2,3],[7]]`
- **é—®é¢˜**ï¼šäº§ç”Ÿäº†é‡å¤ç»„åˆï¼

---

### é”™è¯¯åˆ†æ

#### **è‡´å‘½é”™è¯¯ï¼šç¼ºå°‘poså‚æ•°**

**é—®é¢˜æ ¹æº**ï¼š
```cpp
for(int i = 0; i < nums.size(); i++)  // âŒ æ¯æ¬¡éƒ½ä»0å¼€å§‹
```

**å¯¼è‡´çš„é—®é¢˜**ï¼š
- æ¯å±‚é€’å½’éƒ½ä»æ•°ç»„å¼€å¤´å¼€å§‹éå†
- ä¼šäº§ç”Ÿé‡å¤çš„ç»„åˆ
- ä¾‹å¦‚ï¼š`[2,3]` å’Œ `[3,2]` éƒ½ä¼šè¢«ç”Ÿæˆ

**é”™è¯¯å†³ç­–æ ‘**ï¼š
```
dfs(target=7)
â”œâ”€ i=0: é€‰2 â†’ dfs(target=5)
â”‚   â”œâ”€ i=0: é€‰2 â†’ dfs(target=3)
â”‚   â”‚   â””â”€ i=1: é€‰3 â†’ [2,2,3] âœ…
â”‚   â””â”€ i=1: é€‰3 â†’ dfs(target=2)
â”‚       â””â”€ i=0: é€‰2 â†’ [2,3,2] âŒ é‡å¤ï¼
â”‚
â””â”€ i=1: é€‰3 â†’ dfs(target=4)
    â””â”€ i=0: é€‰2 â†’ dfs(target=2)
        â””â”€ i=0: é€‰2 â†’ [3,2,2] âŒ é‡å¤ï¼
```

**ä¸ºä»€ä¹ˆé‡å¤ï¼Ÿ**
```
è·¯å¾„1: å…ˆé€‰2ï¼Œå†é€‰3 â†’ [2,3]
è·¯å¾„2: å…ˆé€‰3ï¼Œå†é€‰2 â†’ [3,2]
è¿™ä¸¤ä¸ªæ˜¯ç›¸åŒçš„ç»„åˆï¼ˆä¸å…³å¿ƒé¡ºåºï¼‰
```

#### **è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ poså‚æ•°**

**poså‚æ•°çš„ä½œç”¨**ï¼š
```
ç¡®ä¿"åªå¾€åé€‰ï¼Œä¸å›å¤´"

âœ… æ­£ç¡®è·¯å¾„ï¼š2 â†’ 2 â†’ 3  (pos: 0 â†’ 0 â†’ 1)
âŒ é¿å…è·¯å¾„ï¼š2 â†’ 3 â†’ 2  (pos=1æ—¶ä¸èƒ½å›åˆ°2)
âŒ é¿å…è·¯å¾„ï¼š3 â†’ 2 â†’ 2  (pos=1æ—¶ä¸èƒ½å›åˆ°2)
```

---

### æ­£ç¡®ä»£ç 

```cpp
class Solution {
public:
    vector<vector<int>> ret;
    vector<int> path;
    
    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
        dfs(candidates, 0, target);  // âœ… ä¼ å…¥pos=0
        return ret;
    }
    
    void dfs(vector<int>& nums, int pos, int target) {  // âœ… æ·»åŠ poså‚æ•°
        // 1. é€’å½’å‡ºå£
        if(target == 0) {
            ret.push_back(path);
            return;
        }
        if(target < 0) return;  // å‰ªæ
        
        // 2. é€’å½’ä½“
        for(int i = pos; i < nums.size(); i++) {  // âœ… ä»poså¼€å§‹
            // åšé€‰æ‹©
            path.push_back(nums[i]);
            
            // é€’å½’ï¼ˆä¼ iï¼Œå…è®¸é‡å¤é€‰æ‹©ï¼‰
            dfs(nums, i, target - nums[i]);  // âœ… ä¼ iï¼Œä¸æ˜¯i+1
            
            // æ¢å¤ç°åœº
            path.pop_back();
        }
    }
};
```

---

### å†³ç­–æ ‘ï¼ˆæ­£ç¡®ç‰ˆæœ¬ï¼‰

```
dfs(pos=0, target=7)
â”œâ”€ i=0: é€‰2 â†’ dfs(pos=0, target=5)
â”‚   â”œâ”€ i=0: é€‰2 â†’ dfs(pos=0, target=3)
â”‚   â”‚   â”œâ”€ i=0: é€‰2 â†’ dfs(pos=0, target=1)
â”‚   â”‚   â”‚   â””â”€ (æ‰€æœ‰é€‰æ‹©éƒ½>1ï¼Œå‰ªæ)
â”‚   â”‚   â””â”€ i=1: é€‰3 â†’ dfs(pos=1, target=0) âœ… [2,2,3]
â”‚   â”œâ”€ i=1: é€‰3 â†’ dfs(pos=1, target=2)
â”‚   â”‚   â””â”€ (pos=1ï¼Œåªèƒ½é€‰3,6,7ï¼Œæ— æ³•å‡‘å‡º2)
â”‚   â””â”€ i=2: é€‰6 â†’ dfs(pos=2, target=-1) âŒ å‰ªæ
â”‚
â”œâ”€ i=1: é€‰3 â†’ dfs(pos=1, target=4)
â”‚   â””â”€ (pos=1ï¼Œæ— æ³•å‡‘å‡º4)
â”‚
â”œâ”€ i=2: é€‰6 â†’ dfs(pos=2, target=1)
â”‚   â””â”€ (æ— æ³•å‡‘å‡º1)
â”‚
â””â”€ i=3: é€‰7 â†’ dfs(pos=3, target=0) âœ… [7]

ç»“æœï¼š[[2,2,3], [7]]
```

**å…³é”®ç‚¹**ï¼š
- é€‰äº†2åï¼Œpos=0ï¼Œè¿˜èƒ½å†é€‰2ï¼ˆé‡å¤é€‰æ‹©ï¼‰
- é€‰äº†3åï¼Œpos=1ï¼Œ**ä¸èƒ½å›å»é€‰2**ï¼ˆé¿å…é‡å¤ç»„åˆï¼‰

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- æ‰§è¡Œç”¨æ—¶ï¼šç¬¦åˆé¢„æœŸ
- å†…å­˜æ¶ˆè€—ï¼šç¬¦åˆé¢„æœŸ

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. **ç»„åˆæ€»å’Œ vs æ™®é€šç»„åˆ**

| ç‰¹æ€§ | æ™®é€šç»„åˆï¼ˆLeetCode 77ï¼‰ | ç»„åˆæ€»å’Œï¼ˆæœ¬é¢˜ï¼‰ |
|------|----------------------|------------------|
| **èƒ½å¦é‡å¤é€‰** | âŒ ä¸èƒ½ | âœ… å¯ä»¥ |
| **é€’å½’å‚æ•°** | `dfs(i+1, ...)` | `dfs(i, ...)` |
| **å‡ºå£æ¡ä»¶** | `path.size() == k` | `target == 0` |
| **å‰ªææ¡ä»¶** | æ—  | `target < 0` |

**ä»£ç å¯¹æ¯”**ï¼š
```cpp
// æ™®é€šç»„åˆï¼šæ¯ä¸ªæ•°åªèƒ½é€‰ä¸€æ¬¡
for(int i = pos; i < n; i++) {
    path.push_back(i);
    dfs(i + 1, ...);  // â† i+1ï¼Œä¸èƒ½å›å¤´
    path.pop_back();
}

// ç»„åˆæ€»å’Œï¼šæ¯ä¸ªæ•°å¯ä»¥é€‰å¤šæ¬¡
for(int i = pos; i < n; i++) {
    path.push_back(nums[i]);
    dfs(i, ...);  // â† iï¼Œå¯ä»¥é‡å¤é€‰ï¼
    path.pop_back();
}
```

#### 2. **ä¸ºä»€ä¹ˆä¼ iä¸ä¼šæ­»å¾ªç¯ï¼Ÿ**

**ç–‘é—®**ï¼šé€’å½’ä¼ `i`ï¼Œä¸æ˜¯ä¼šä¸€ç›´é€‰åŒä¸€ä¸ªæ•°å—ï¼Ÿ

**è§£ç­”**ï¼š
```
dfs(pos=0, target=7) é€‰nums[0]=2
  â†’ dfs(pos=0, target=5) åˆé€‰nums[0]=2
    â†’ dfs(pos=0, target=3) åˆé€‰nums[0]=2
      â†’ dfs(pos=0, target=1) åˆé€‰nums[0]=2
        â†’ dfs(pos=0, target=-1) â† target<0ï¼Œå‰ªæè¿”å›ï¼
```

**ä¸ä¼šæ­»å¾ªç¯ï¼Œå› ä¸º**ï¼š
- `target` ä¸æ–­å‡å°
- `target < 0` æ—¶ä¼šå‰ªæè¿”å›
- é€’å½’æ·±åº¦æœ€å¤š `target / min(candidates)`

#### 3. **poså‚æ•°çš„ä¸¤ä¸ªä½œç”¨**

**ä½œç”¨1ï¼šé¿å…é‡å¤ç»„åˆ**
```
æ²¡æœ‰pos: [2,3] å’Œ [3,2] éƒ½ä¼šç”Ÿæˆ
æœ‰pos:    åªç”Ÿæˆ [2,3]
```

**ä½œç”¨2ï¼šæ§åˆ¶é€‰æ‹©èŒƒå›´**
```
pos=0: å¯ä»¥é€‰ [2,3,6,7]
pos=1: å¯ä»¥é€‰ [3,6,7]ï¼ˆä¸èƒ½å›å¤´é€‰2ï¼‰
pos=2: å¯ä»¥é€‰ [6,7]
pos=3: å¯ä»¥é€‰ [7]
```

#### 4. **é€’å½’å‚æ•°ï¼ši vs i+1**

| åœºæ™¯ | é€’å½’å‚æ•° | å«ä¹‰ |
|------|---------|------|
| **å¯ä»¥é‡å¤é€‰** | `dfs(i, ...)` | ä¸‹æ¬¡è¿˜èƒ½ä»iå¼€å§‹ |
| **ä¸èƒ½é‡å¤é€‰** | `dfs(i+1, ...)` | ä¸‹æ¬¡ä»i+1å¼€å§‹ |

**æœ¬é¢˜ä¼ i**ï¼š
- é¢˜ç›®è¯´"å¯ä»¥æ— é™æ¬¡é€‰æ‹©åŒä¸€ä¸ªæ•°"
- ä¼ `i`æ„å‘³ç€ä¸‹ä¸€å±‚è¿˜èƒ½ä»`nums[i]`å¼€å§‹é€‰

#### 5. **ä¸¤ä¸ªå‰ªææ¡ä»¶**

```cpp
// å‰ªæ1ï¼šæˆåŠŸæ¡ä»¶
if(target == 0) {
    ret.push_back(path);
    return;
}

// å‰ªæ2ï¼šå¤±è´¥æ¡ä»¶
if(target < 0) {
    return;  // è¶…äº†ï¼Œæ²¡å¿…è¦ç»§ç»­
}
```

**ä¸ºä»€ä¹ˆéœ€è¦`target < 0`å‰ªæï¼Ÿ**
- å¦‚æœä¸å‰ªæï¼Œä¼šç»§ç»­é€’å½’
- è™½ç„¶æœ€ç»ˆä¹Ÿä¼šå› ä¸ºæ‰€æœ‰é€‰æ‹©éƒ½å¤ªå¤§è€Œè¿”å›
- ä½†ä¼šæµªè´¹å¤§é‡é€’å½’è°ƒç”¨

#### 6. **ç»„åˆé—®é¢˜çš„ä¸‰è¦ç´ æ€»ç»“**

| è¦ç´  | æœ¬é¢˜ | åŸå›  |
|------|------|------|
| **poså‚æ•°** | âœ… å¿…é¡»æœ‰ | é¿å…é‡å¤ç»„åˆï¼ˆ[2,3]å’Œ[3,2]ï¼‰ |
| **forèµ·ç‚¹** | `i = pos` | åªå¾€åé€‰ï¼Œä¸å›å¤´ |
| **é€’å½’å‚æ•°** | `dfs(i, ...)` | å…è®¸é‡å¤é€‰æ‹©åŒä¸€ä¸ªæ•° |

---

### æ–¹æ³•è®ºåæ€

#### âœ… **æœ‰å¸®åŠ©çš„åœ°æ–¹**

1. **äº”æ­¥æ³•æ¸…æ™°æŒ‡å¯¼**ï¼š
   - ç¬¬1æ­¥"æ˜ç¡®è¯­ä¹‰"å¸®åŠ©ç†è§£poså‚æ•°çš„ä½œç”¨
   - ç¬¬3æ­¥"ç¡®å®šå­é—®é¢˜"å¸®åŠ©åˆ¤æ–­ä¼ iè¿˜æ˜¯i+1
   - ç¬¬5æ­¥"è¯­ä¹‰ä¸€è‡´æ€§"æ£€æŸ¥å‡ºäº†forå¾ªç¯èµ·ç‚¹é”™è¯¯

2. **å›æº¯äº”å¤§ç±»å‹è¡¨æ ¼**ï¼š
   - å¿«é€Ÿå®šä½åˆ°"å­é›†/ç»„åˆ"ç±»å‹
   - æ˜ç¡®äº†éœ€è¦poså‚æ•°ï¼Œä¸éœ€è¦checkæ•°ç»„

3. **ä¸æ™®é€šç»„åˆçš„å¯¹æ¯”**ï¼š
   - æ¸…æ¥šåœ°çœ‹åˆ°"ä¼ i vs ä¼ i+1"çš„åŒºåˆ«
   - ç†è§£äº†"å¯é‡å¤é€‰æ‹©"çš„æœ¬è´¨

#### âš ï¸ **çŠ¯é”™çš„åœ°æ–¹**

1. **å¿˜è®°æ·»åŠ poså‚æ•°**ï¼š
   - æ€ç»´å®šå¼ï¼šåªè€ƒè™‘äº†targetå˜åŒ–
   - å¿½ç•¥äº†ä½ç½®æ§åˆ¶çš„é‡è¦æ€§
   - **å»ºè®®**ï¼šç»„åˆé—®é¢˜å¿…é¡»æœ‰poså‚æ•°

2. **ä¸ç†è§£posçš„ä½œç”¨**ï¼š
   - åˆå§‹ä»¥ä¸ºposåªæ˜¯ä¸ºäº†ä¼˜åŒ–
   - å®é™…ä¸Šposæ˜¯**é¿å…é‡å¤çš„å…³é”®**
   - **å»ºè®®**ï¼špos = "åªå¾€åé€‰ï¼Œä¸å›å¤´"

3. **æ··æ·†äº†"é‡å¤é€‰æ‹©"å’Œ"é‡å¤ç»„åˆ"**ï¼š
   - "é‡å¤é€‰æ‹©"ï¼šåŒä¸€ä¸ªæ•°å¯ä»¥é€‰å¤šæ¬¡ â†’ ä¼ i
   - "é‡å¤ç»„åˆ"ï¼š[2,3]å’Œ[3,2]æ˜¯é‡å¤ â†’ éœ€è¦pos
   - **å»ºè®®**ï¼šè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µ

#### ğŸ’¡ **æ ¸å¿ƒæ”¶è·**

1. **ç»„åˆé—®é¢˜å¿…é¡»æœ‰poså‚æ•°**ï¼š
   - posçš„ä½œç”¨æ˜¯é¿å…é‡å¤ç»„åˆ
   - ä¸æ˜¯ä¼˜åŒ–ï¼Œæ˜¯å¿…éœ€

2. **é€’å½’å‚æ•°å†³å®šèƒ½å¦é‡å¤é€‰**ï¼š
   - ä¼ iï¼šå¯ä»¥é‡å¤é€‰åŒä¸€ä¸ªæ•°
   - ä¼ i+1ï¼šä¸èƒ½é‡å¤é€‰

3. **ç»„åˆé—®é¢˜çš„æ ‡å‡†æ¨¡æ¿**ï¼š
   ```cpp
   void dfs(nums, pos, å…¶ä»–å‚æ•°) {
       if(æ»¡è¶³æ¡ä»¶) { è®°å½•ç»“æœ; return; }
       
       for(int i = pos; i < nums.size(); i++) {
           åšé€‰æ‹©;
           dfs(nums, iæˆ–i+1, å…¶ä»–å‚æ•°);  // içœ‹èƒ½å¦é‡å¤
           æ’¤é”€é€‰æ‹©;
       }
   }
   ```

4. **åˆ¤æ–­ä¼ iè¿˜æ˜¯i+1çš„å£è¯€**ï¼š
   ```
   é¢˜ç›®è¯´"å¯ä»¥é‡å¤ä½¿ç”¨" â†’ ä¼ i
   é¢˜ç›®è¯´"æ¯ä¸ªæ•°åªèƒ½ç”¨ä¸€æ¬¡" â†’ ä¼ i+1
   ```

5. **poså‚æ•°çš„è®°å¿†å£è¯€**ï¼š
   ```
   posæ˜¯å¯¼èˆªï¼Œiæ˜¯è´§ç‰©
   forä»posèµ·ï¼Œé€’å½’ä¼ i/i+1
   posé˜²é‡å¤ï¼Œiæ§é‡é€‰
   ```

---

### é‡è¦å¯¹æ¯”å›¾

```
é—®é¢˜åˆ†ç±»ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»„åˆé—®é¢˜ï¼ˆä¸å…³å¿ƒé¡ºåºï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸èƒ½é‡å¤é€‰      â”‚ å¯ä»¥é‡å¤é€‰        â”‚
â”‚ LeetCode 77     â”‚ LeetCode 39ï¼ˆæœ¬é¢˜ï¼‰â”‚
â”‚ dfs(i+1, ...)   â”‚ dfs(i, ...)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…±åŒç‚¹ï¼š
- éƒ½éœ€è¦poså‚æ•°ï¼ˆé¿å…é‡å¤ç»„åˆï¼‰
- foréƒ½ä»poså¼€å§‹
- éƒ½ä¸éœ€è¦checkæ•°ç»„

åŒºåˆ«ï¼š
- é€’å½’å‚æ•°ä¸åŒï¼ˆi+1 vs iï¼‰
```

---

## 4. LeetCode 784 - å­—æ¯å¤§å°å†™å…¨æ’åˆ—

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _å­—æ¯å¤§å°å†™å…¨æ’åˆ—_C++
- LeetCodeç¼–å·ï¼š784
- éš¾åº¦ï¼šä¸­ç­‰

### é¢˜ç›®ç†è§£
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œé€šè¿‡å°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—æ¯è½¬å˜å¤§å°å†™ï¼Œå¯ä»¥è·å¾—ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚è¿”å›æ‰€æœ‰å¯èƒ½å¾—åˆ°çš„å­—ç¬¦ä¸²é›†åˆã€‚

**å…³é”®ç‰¹ç‚¹**ï¼š
- â­ **æ¯ä¸ªå­—ç¬¦éƒ½å¿…é¡»ä¿ç•™**
- å­—æ¯å¯ä»¥é€‰æ‹©å¤§å†™æˆ–å°å†™
- æ•°å­—ä¿æŒä¸å˜
- å­—ç¬¦ä¸²åªåŒ…å«å­—æ¯å’Œæ•°å­—

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`s = "a1b2"`
- è¾“å‡ºï¼š`["a1b2","a1B2","A1b2","A1B2"]`
- è§£é‡Šï¼š
  ```
  'a' â†’ 'a' æˆ– 'A'
  '1' â†’ '1' ï¼ˆæ•°å­—ä¸å˜ï¼‰
  'b' â†’ 'b' æˆ– 'B'
  '2' â†’ '2' ï¼ˆæ•°å­—ä¸å˜ï¼‰
  ```

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(s, pos) çš„è¯­ä¹‰ï¼š
ä»ä½ç½®poså¼€å§‹ï¼Œå¤„ç†å­—ç¬¦ä¸²sçš„æ¯ä¸ªå­—ç¬¦ï¼ˆå¿…é¡»å…¨éƒ¨å¤„ç†ï¼‰
å¯¹å­—æ¯é€‰æ‹©å¤§å†™æˆ–å°å†™ï¼Œæ•°å­—ä¿æŒä¸å˜
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
if(pos >= s.size())  // å¤„ç†å®Œæ‰€æœ‰å­—ç¬¦
    è®°å½•ç»“æœ
    return
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ä½ç½®posï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š
  1. å¦‚æœæ˜¯æ•°å­—ï¼šåªæœ‰1ä¸ªé€‰æ‹©ï¼ˆä¿æŒä¸å˜ï¼‰
  2. å¦‚æœæ˜¯å­—æ¯ï¼šæœ‰2ä¸ªé€‰æ‹©ï¼ˆå°å†™æˆ–å¤§å†™ï¼‰
- æ¯ç§é€‰æ‹©åï¼Œç»§ç»­å¤„ç†pos+1ä½ç½®

**å…³é”®åˆ¤æ–­**ï¼š
- **è¿™é¢˜éœ€è¦forå¾ªç¯å—ï¼ŸâŒ ä¸éœ€è¦ï¼**
- è¿™æ˜¯**ç¬¦å·é€‰æ‹©å‹**ï¼Œä¸æ˜¯ç»„åˆå‹
- æ¯ä¸ªå­—ç¬¦éƒ½å¿…é¡»å¤„ç†ï¼Œåªæ˜¯é€‰æ‹©å±æ€§

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
ä¸éœ€è¦forå¾ªç¯ï¼

if(æ˜¯æ•°å­—) {
    åšé€‰æ‹©: path += s[pos]
    é€’å½’: dfs(s, pos+1)
    æ’¤é”€: path.pop_back()
} else {
    // é€‰æ‹©1ï¼šå°å†™
    åšé€‰æ‹©: path += tolower(s[pos])
    é€’å½’: dfs(s, pos+1)
    æ’¤é”€: path.pop_back()
    
    // é€‰æ‹©2ï¼šå¤§å†™
    åšé€‰æ‹©: path += toupper(s[pos])
    é€’å½’: dfs(s, pos+1)
    æ’¤é”€: path.pop_back()
}
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šå¤„ç†posä½ç½®çš„å­—ç¬¦
- âœ… é€’å½’è°ƒç”¨ï¼šå¤„ç†pos+1ä½ç½®
- âœ… å‡ºå£æ¡ä»¶ï¼špos >= s.size() è¡¨ç¤ºå¤„ç†å®Œæ¯•

---

### åˆå§‹é”™è¯¯ä»£ç 

```cpp
class Solution {
public:
    vector<string> ret;
    string path;
    
    vector<string> letterCasePermutation(string s) {
        int pos = 0;
        dfs(s, pos);
        return ret;
    }
    
    void dfs(string s, int pos) {
        if(pos >= s.size()) {
            ret.push_back(path);
            return;
        }
        
        for(int i = pos; i < s.size(); i++) {  // âŒ ä¸éœ€è¦forå¾ªç¯ï¼
            // æ•°å­—ç›´æ¥åŠ 
            // å­—æ¯ç›´æ¥åŠ ä¸€æ¬¡ï¼Œè½¬æ¢ååŠ ä¸€æ¬¡
            // dfs
            // æ¢å¤ç°åœº
        }
    }
};
```

**é”™è¯¯ç±»å‹**ï¼š
- **æ··æ·†äº†é—®é¢˜ç±»å‹**ï¼šä»¥ä¸ºæ˜¯ç»„åˆé—®é¢˜
- **ç”¨äº†forå¾ªç¯**ï¼šå®é™…ä¸éœ€è¦

---

### é”™è¯¯åˆ†æ

#### **è‡´å‘½é”™è¯¯ï¼šè¯¯ç”¨forå¾ªç¯**

**é—®é¢˜æ ¹æº**ï¼š
```cpp
for(int i = pos; i < s.size(); i++) {  // âŒ è¿™æ˜¯ç»„åˆé—®é¢˜çš„å†™æ³•
    // ...
}
```

**ä¸ºä»€ä¹ˆä¸éœ€è¦forå¾ªç¯ï¼Ÿ**

**ä½ çš„ç†è§£ï¼ˆé”™è¯¯ï¼‰**ï¼š
```
ä»¥ä¸ºæ˜¯ç»„åˆé—®é¢˜ï¼š
- é€‰ä¸é€‰å­—ç¬¦s[0]ï¼Ÿ
- é€‰ä¸é€‰å­—ç¬¦s[1]ï¼Ÿ
- ...
éœ€è¦ç”¨forå¾ªç¯éå†æ‰€æœ‰å­—ç¬¦
```

**æ­£ç¡®ç†è§£**ï¼š
```
è¿™æ˜¯ç¬¦å·é€‰æ‹©é—®é¢˜ï¼š
- s[0]å¿…é¡»ç”¨ï¼Œé€‰å¤§å†™è¿˜æ˜¯å°å†™ï¼Ÿ
- s[1]å¿…é¡»ç”¨ï¼Œé€‰å¤§å†™è¿˜æ˜¯å°å†™ï¼Ÿ
- ...
ä¸éœ€è¦forå¾ªç¯ï¼Œæ¯ä¸ªä½ç½®å›ºå®šå¤„ç†
```

#### **é—®é¢˜ç±»å‹å¯¹æ¯”**

| ç»´åº¦ | ç»„åˆé—®é¢˜ï¼ˆLeetCode 77ï¼‰ | æœ¬é¢˜ï¼ˆç¬¦å·é€‰æ‹©ï¼‰ |
|------|----------------------|-----------------|
| **å†³ç­–å†…å®¹** | é€‰ä¸é€‰æŸä¸ªå…ƒç´  | æ¯ä¸ªå…ƒç´ éƒ½ç”¨ï¼Œé€‰å±æ€§ |
| **æ¯ä¸ªå…ƒç´ ** | å¯èƒ½ä¸é€‰ | å¿…é¡»é€‰ |
| **éœ€è¦forå¾ªç¯** | âœ… éœ€è¦ | âŒ ä¸éœ€è¦ |
| **é€’å½’ç»“æ„** | `for + dfs(i+1)` | ç›´æ¥ `dfs(pos+1)` |
| **åˆ†æ”¯æ•°** | å˜åŒ–ï¼ˆn-posä¸ªï¼‰ | å›ºå®šï¼ˆ1æˆ–2ä¸ªï¼‰ |

**é”™è¯¯å†³ç­–æ ‘**ï¼ˆä½ çš„ç†è§£ï¼‰ï¼š
```
ä»¥ä¸ºæ˜¯è¿™æ ·ï¼š
dfs(pos=0)
â”œâ”€ for i=0: é€‰s[0]='a' â†’ dfs(pos=1)
â”œâ”€ for i=1: é€‰s[1]='1' â†’ dfs(pos=2)  â† é”™ï¼è·³è¿‡äº†s[0]
â””â”€ for i=2: é€‰s[2]='b' â†’ dfs(pos=3)  â† é”™ï¼è·³è¿‡äº†s[0]å’Œs[1]
```

**æ­£ç¡®å†³ç­–æ ‘**ï¼š
```
åº”è¯¥æ˜¯è¿™æ ·ï¼š
dfs(pos=0)
â”œâ”€ 'a'ï¼ˆå°å†™ï¼‰â†’ dfs(pos=1)
â”‚   â””â”€ '1'ï¼ˆæ•°å­—ï¼‰â†’ dfs(pos=2)
â”‚       â”œâ”€ 'b'ï¼ˆå°å†™ï¼‰â†’ "a1b" âœ…
â”‚       â””â”€ 'B'ï¼ˆå¤§å†™ï¼‰â†’ "a1B" âœ…
â””â”€ 'A'ï¼ˆå¤§å†™ï¼‰â†’ dfs(pos=1)
    â””â”€ '1'ï¼ˆæ•°å­—ï¼‰â†’ dfs(pos=2)
        â”œâ”€ 'b'ï¼ˆå°å†™ï¼‰â†’ "A1b" âœ…
        â””â”€ 'B'ï¼ˆå¤§å†™ï¼‰â†’ "A1B" âœ…
```

---

### æ­£ç¡®ä»£ç 

```cpp
class Solution {
public:
    vector<string> ret;
    string path;
    
    vector<string> letterCasePermutation(string s) {
        dfs(s, 0);
        return ret;
    }
    
    void dfs(string s, int pos) {
        // 1. é€’å½’å‡ºå£
        if(pos >= s.size()) {
            ret.push_back(path);
            return;
        }
        
        // 2. ä¸éœ€è¦forå¾ªç¯ï¼æ ¹æ®å­—ç¬¦ç±»å‹å¤„ç†å½“å‰ä½ç½®
        if(isdigit(s[pos])) {
            // æ•°å­—ï¼šåªæœ‰1ä¸ªé€‰æ‹©ï¼ˆä¿æŒä¸å˜ï¼‰
            path += s[pos];
            dfs(s, pos + 1);
            path.pop_back();
        } else {
            // å­—æ¯ï¼šæœ‰2ä¸ªé€‰æ‹©
            
            // é€‰æ‹©1ï¼šè½¬ä¸ºå°å†™
            path += tolower(s[pos]);
            dfs(s, pos + 1);
            path.pop_back();
            
            // é€‰æ‹©2ï¼šè½¬ä¸ºå¤§å†™
            path += toupper(s[pos]);
            dfs(s, pos + 1);
            path.pop_back();
        }
    }
};
```

---

### å†³ç­–æ ‘ï¼ˆs = "a1b"ï¼‰

```
                    "" (pos=0)
                   /          \
              å°å†™'a'        å¤§å†™'A'
            "a" (pos=1)    "A" (pos=1)
                |              |
              æ•°å­—'1'        æ•°å­—'1'
           "a1" (pos=2)   "A1" (pos=2)
             /      \         /      \
        å°å†™'b'  å¤§å†™'B'  å°å†™'b'  å¤§å†™'B'
        "a1b"    "a1B"    "A1b"    "A1B"
         âœ…       âœ…        âœ…        âœ…

ç»“æœï¼š["a1b", "a1B", "A1b", "A1B"]
```

**æ‰§è¡Œè½¨è¿¹**ï¼š
```
dfs(pos=0, path="")
â”œâ”€ é€‰å°å†™'a': path="a", dfs(pos=1)
â”‚   â””â”€ æ•°å­—'1': path="a1", dfs(pos=2)
â”‚       â”œâ”€ é€‰å°å†™'b': path="a1b", dfs(pos=3) âœ… è®°å½•"a1b"
â”‚       â””â”€ é€‰å¤§å†™'B': path="a1B", dfs(pos=3) âœ… è®°å½•"a1B"
â”‚
â””â”€ é€‰å¤§å†™'A': path="A", dfs(pos=1)
    â””â”€ æ•°å­—'1': path="A1", dfs(pos=2)
        â”œâ”€ é€‰å°å†™'b': path="A1b", dfs(pos=3) âœ… è®°å½•"A1b"
        â””â”€ é€‰å¤§å†™'B': path="A1B", dfs(pos=3) âœ… è®°å½•"A1B"
```

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- æ‰§è¡Œç”¨æ—¶ï¼šç¬¦åˆé¢„æœŸ
- å†…å­˜æ¶ˆè€—ï¼šç¬¦åˆé¢„æœŸ

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. **é—®é¢˜åˆ†ç±»ï¼šç¬¦å·é€‰æ‹© vs ç»„åˆé€‰æ‹©**

| ç±»å‹ | ç‰¹å¾ | æ˜¯å¦ç”¨for | å¤æ‚åº¦ | ç¤ºä¾‹ |
|------|------|----------|--------|------|
| **ç¬¦å·é€‰æ‹©** | æ¯ä¸ªå…ƒç´ éƒ½ç”¨ï¼Œé€‰å±æ€§ | âŒ ä¸éœ€è¦ | O(2^n) | LeetCode 494, 784 |
| **ç»„åˆé€‰æ‹©** | é€‰ä¸é€‰æŸä¸ªå…ƒç´  | âœ… éœ€è¦ | O(nÃ—2^n) | LeetCode 77, 39 |
| **æ’åˆ—é€‰æ‹©** | é€‰å“ªä¸ªå…ƒç´  | âœ… éœ€è¦+check | O(n!) | LeetCode 46, 47 |

**åˆ¤æ–­æ–¹æ³•**ï¼š
```
çœ‹é¢˜ç›®å…³é”®è¯ï¼š
"æ¯ä¸ªå­—ç¬¦éƒ½å‡ºç°" â†’ ç¬¦å·é€‰æ‹©å‹
"é€‰kä¸ªæ•°" â†’ ç»„åˆå‹
"å…¨æ’åˆ—" â†’ æ’åˆ—å‹
```

#### 2. **ç¬¦å·é€‰æ‹©å‹çš„æ ‡å‡†æ¨¡æ¿**

```cpp
void dfs(æ•°ç»„, pos) {
    // 1. é€’å½’å‡ºå£
    if(pos >= n) {
        è®°å½•ç»“æœ;
        return;
    }
    
    // 2. ä¸éœ€è¦forå¾ªç¯ï¼ç›´æ¥å¤„ç†å½“å‰ä½ç½®
    // æ ¹æ®æƒ…å†µï¼Œå¯èƒ½æœ‰kä¸ªé€‰æ‹©
    
    // é€‰æ‹©1
    åšé€‰æ‹©;
    dfs(æ•°ç»„, pos+1);  // â† ç›´æ¥ pos+1
    æ’¤é”€é€‰æ‹©;
    
    // é€‰æ‹©2
    åšé€‰æ‹©;
    dfs(æ•°ç»„, pos+1);
    æ’¤é”€é€‰æ‹©;
    
    // ... å…¶ä»–é€‰æ‹©
}
```

**å…³é”®ç‚¹**ï¼š
- âŒ **ä¸éœ€è¦forå¾ªç¯**
- âœ… æ¯ä¸ªä½ç½®å›ºå®škä¸ªé€‰æ‹©
- âœ… é€’å½’å‚æ•°ç›´æ¥ `pos+1`

#### 3. **æœ¬é¢˜ä¸ç›®æ ‡å’Œçš„ç›¸ä¼¼æ€§**

| ç‰¹æ€§ | LeetCode 494ï¼ˆç›®æ ‡å’Œï¼‰ | æœ¬é¢˜ï¼ˆå­—æ¯å¤§å°å†™ï¼‰ |
|------|----------------------|------------------|
| **æ¯ä¸ªå…ƒç´ éƒ½ç”¨** | âœ… æ˜¯ | âœ… æ˜¯ |
| **é€‰æ‹©å†…å®¹** | åŠ +æˆ–åŠ - | å¤§å†™æˆ–å°å†™ï¼ˆæˆ–ä¸å˜ï¼‰ |
| **forå¾ªç¯** | âŒ ä¸éœ€è¦ | âŒ ä¸éœ€è¦ |
| **åˆ†æ”¯æ•°** | å›ºå®š2ä¸ª | æ•°å­—1ä¸ªï¼Œå­—æ¯2ä¸ª |
| **é€’å½’ç»“æ„** | `dfs(pos+1)` | `dfs(pos+1)` |

**éƒ½æ˜¯ç¬¦å·é€‰æ‹©å‹é—®é¢˜ï¼**

#### 4. **é€’å½’ç»“æ„å¯¹æ¯”**

**ç»„åˆé—®é¢˜ï¼ˆéœ€è¦forå¾ªç¯ï¼‰**ï¼š
```cpp
void dfs(nums, pos) {
    for(int i = pos; i < n; i++) {  // â† éœ€è¦forå¾ªç¯
        path.push_back(nums[i]);
        dfs(nums, i+1);  // é€‰ä¸é€‰ã€é€‰å“ªä¸ª
        path.pop_back();
    }
}

å†³ç­–æ ‘å®½åº¦ï¼šé€å±‚é€’å‡ï¼ˆn, n-1, n-2, ...ï¼‰
```

**ç¬¦å·é€‰æ‹©é—®é¢˜ï¼ˆä¸éœ€è¦forå¾ªç¯ï¼‰**ï¼š
```cpp
void dfs(s, pos) {
    // ä¸éœ€è¦forå¾ªç¯
    
    // é€‰æ‹©1
    dfs(s, pos+1);
    
    // é€‰æ‹©2
    dfs(s, pos+1);
}

å†³ç­–æ ‘å®½åº¦ï¼šå›ºå®šï¼ˆæ¯å±‚kä¸ªåˆ†æ”¯ï¼‰
```

#### 5. **C++å­—ç¬¦å¤„ç†å‡½æ•°**

```cpp
// åˆ¤æ–­å­—ç¬¦ç±»å‹
isdigit(ch)   // æ˜¯å¦ä¸ºæ•°å­— '0'-'9'
isalpha(ch)   // æ˜¯å¦ä¸ºå­—æ¯
islower(ch)   // æ˜¯å¦ä¸ºå°å†™å­—æ¯
isupper(ch)   // æ˜¯å¦ä¸ºå¤§å†™å­—æ¯

// å¤§å°å†™è½¬æ¢
tolower(ch)   // è½¬ä¸ºå°å†™ï¼ˆå¦‚æœæ˜¯å¤§å†™ï¼‰
toupper(ch)   // è½¬ä¸ºå¤§å†™ï¼ˆå¦‚æœæ˜¯å°å†™ï¼‰

// å­—ç¬¦ä¸²æ“ä½œ
path += ch;        // æ·»åŠ å­—ç¬¦
path.pop_back();   // åˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦
```

**æ³¨æ„**ï¼š
- `tolower`å’Œ`toupper`ä¸ä¼šæ”¹å˜æ•°å­—
- å¦‚æœå·²ç»æ˜¯å¯¹åº”å¤§å°å†™ï¼Œä¼šä¿æŒä¸å˜

#### 6. **ä¸ºä»€ä¹ˆä¸ç”¨valueä¼ é€’ï¼Ÿ**

```cpp
// âŒ å¦‚æœè¿™æ ·å†™
void dfs(string s, int pos, string path) {  // pathæŒ‰å€¼ä¼ é€’
    if(pos >= s.size()) {
        ret.push_back(path);
        return;
    }
    
    // ä¸éœ€è¦æ‰‹åŠ¨æ¢å¤pathï¼ˆè‡ªåŠ¨æ¢å¤ï¼‰
    dfs(s, pos+1, path + tolower(s[pos]));
    dfs(s, pos+1, path + toupper(s[pos]));
}

// âœ… ä¹Ÿæ˜¯å¯¹çš„ï¼ä½†æ•ˆç‡ç¨ä½
```

**ä½¿ç”¨å…¨å±€pathçš„ä¼˜ç‚¹**ï¼š
- é¿å…é¢‘ç¹æ‹·è´string
- æ•ˆç‡æ›´é«˜

#### 7. **å¤æ‚åº¦åˆ†æ**

**æ—¶é—´å¤æ‚åº¦**ï¼šO(2^n Ã— n)
- æœ‰nä¸ªå­—æ¯æ—¶ï¼Œå†³ç­–æ ‘æœ‰2^nä¸ªå¶å­èŠ‚ç‚¹
- æ¯ä¸ªå¶å­èŠ‚ç‚¹è®°å½•ç»“æœéœ€è¦O(n)æ—¶é—´ï¼ˆæ‹·è´stringï¼‰
- æ•°å­—ä¸å½±å“åˆ†æ”¯æ•°ï¼Œåªå½±å“å¸¸æ•°

**ç©ºé—´å¤æ‚åº¦**ï¼šO(n)
- é€’å½’æ·±åº¦ä¸ºn
- pathå­—ç¬¦ä¸²é•¿åº¦ä¸ºn

**ä¸¾ä¾‹**ï¼ˆs = "a1b2"ï¼‰ï¼š
```
å­—æ¯ï¼š'a', 'b' â†’ 2ä¸ªå­—æ¯
å†³ç­–æ ‘å¶å­æ•°ï¼š2^2 = 4
ç»“æœï¼š["a1b2", "a1B2", "A1b2", "A1B2"]
```

---

### æ–¹æ³•è®ºåæ€

#### âœ… **æœ‰å¸®åŠ©çš„åœ°æ–¹**

1. **å›æº¯äº”å¤§ç±»å‹è¡¨æ ¼**ï¼š
   - å¿«é€Ÿå®šä½åˆ°"ç¬¦å·é€‰æ‹©å‹"
   - æ˜ç¡®äº†ä¸éœ€è¦forå¾ªç¯
   - ä¸ç›®æ ‡å’Œï¼ˆLeetCode 494ï¼‰æ˜¯åŒä¸€ç±»å‹

2. **äº”æ­¥æ³•æ˜ç¡®æ€è·¯**ï¼š
   - ç¬¬1æ­¥"æ˜ç¡®è¯­ä¹‰"ï¼šæ¯ä¸ªå­—ç¬¦éƒ½å¿…é¡»å¤„ç†
   - ç¬¬3æ­¥"ç¡®å®šå­é—®é¢˜"ï¼šæ•°å­—1ä¸ªé€‰æ‹©ï¼Œå­—æ¯2ä¸ªé€‰æ‹©
   - ç¬¬4æ­¥"è®¾è®¡é€’å½’ä½“"ï¼šä¸éœ€è¦forå¾ªç¯

3. **é—®é¢˜ç±»å‹åˆ¤æ–­**ï¼š
   - "æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°"æ˜¯å…³é”®è¯
   - åˆ¤æ–­å‡ºæ˜¯ç¬¦å·é€‰æ‹©å‹ï¼Œä¸æ˜¯ç»„åˆå‹

#### âš ï¸ **çŠ¯é”™çš„åœ°æ–¹**

1. **æƒ¯æ€§æ€ç»´ç”¨forå¾ªç¯**ï¼š
   - çœ‹åˆ°éå†å­—ç¬¦ä¸²ï¼Œä¹ æƒ¯æ€§æƒ³ç”¨forå¾ªç¯
   - æ²¡æœ‰åˆ¤æ–­æ˜¯"é€‰ä¸é€‰"è¿˜æ˜¯"é€‰å±æ€§"
   - **å»ºè®®**ï¼šå…ˆåˆ¤æ–­é—®é¢˜ç±»å‹ï¼Œå†å†³å®šç”¨ä¸ç”¨for

2. **æ··æ·†ç»„åˆå’Œç¬¦å·é€‰æ‹©**ï¼š
   - ç»„åˆï¼šé€‰ä¸é€‰æŸä¸ªå…ƒç´  â†’ éœ€è¦for
   - ç¬¦å·é€‰æ‹©ï¼šæ¯ä¸ªéƒ½ç”¨ï¼Œé€‰å±æ€§ â†’ ä¸éœ€è¦for
   - **å»ºè®®**ï¼šè®°ä½å£è¯€"æ¯ä¸ªéƒ½ç”¨ = ä¸ç”¨for"

3. **ä¸ç¡®å®šé€’å½’ç»“æ„**ï¼š
   - å¼€å§‹æ—¶ä¸çŸ¥é“å¦‚ä½•ç»„ç»‡ä»£ç 
   - ä¸ç¡®å®šæ•°å­—å’Œå­—æ¯å¦‚ä½•åˆ†åˆ«å¤„ç†
   - **å»ºè®®**ï¼šæ ¹æ®é€‰æ‹©æ•°ç¡®å®šåˆ†æ”¯

#### ğŸ’¡ **æ ¸å¿ƒæ”¶è·**

1. **ç¬¦å·é€‰æ‹©å‹çš„è¯†åˆ«**ï¼š
   ```
   å…³é”®è¯ï¼š"æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°/éƒ½ä½¿ç”¨"
   ç‰¹å¾ï¼šä¸æ˜¯é€‰ä¸é€‰ï¼Œè€Œæ˜¯é€‰å±æ€§
   ç»“æ„ï¼šä¸éœ€è¦forå¾ªç¯
   ```

2. **åˆ¤æ–­æ˜¯å¦éœ€è¦forå¾ªç¯**ï¼š
   ```
   éœ€è¦forï¼šé€‰ä¸é€‰æŸä¸ªå…ƒç´ ï¼ˆç»„åˆã€æ’åˆ—ï¼‰
   ä¸éœ€è¦forï¼šæ¯ä¸ªéƒ½ç”¨ï¼Œé€‰å±æ€§ï¼ˆç¬¦å·é€‰æ‹©ï¼‰
   ```

3. **ç¬¦å·é€‰æ‹©å‹æ¨¡æ¿**ï¼š
   ```cpp
   void dfs(pos) {
       if(pos >= n) { è®°å½•; return; }
       
       // æ ¹æ®å½“å‰å…ƒç´ ç±»å‹ï¼Œæœ‰kä¸ªé€‰æ‹©
       // é€‰æ‹©1
       dfs(pos+1);
       
       // é€‰æ‹©2
       dfs(pos+1);
   }
   ```

4. **ä¸‰å¤§é€’å½’ç±»å‹æ€»ç»“**ï¼š
   ```
   æ’åˆ—ï¼šforä»0å¼€å§‹ + checkæ•°ç»„
   ç»„åˆï¼šforä»poså¼€å§‹ï¼Œä¼ iæˆ–i+1
   ç¬¦å·é€‰æ‹©ï¼šä¸ç”¨forï¼Œå›ºå®škä¸ªåˆ†æ”¯
   ```

5. **è®°å¿†å£è¯€**ï¼š
   ```
   "é€‰ä¸é€‰" â†’ éœ€è¦for â†’ ç»„åˆå‹
   "é€‰å“ªä¸ª" â†’ éœ€è¦for+check â†’ æ’åˆ—å‹
   "éƒ½è¦ç”¨" â†’ ä¸ç”¨for â†’ ç¬¦å·é€‰æ‹©å‹
   ```

---

### é‡è¦å¯¹æ¯”å›¾

```
å›æº¯é—®é¢˜åˆ†ç±»å†³ç­–æ ‘ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»ä½¿ç”¨å—ï¼Ÿ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
   YES           NO
    â”‚             â”‚
    â†“             â†“
ç¬¦å·é€‰æ‹©å‹    æ˜¯å¦å…³å¿ƒé¡ºåºï¼Ÿ
(ä¸ç”¨for)         â”‚
LeetCode      â”Œâ”€â”€â”€â”´â”€â”€â”€â”
494, 784     YES     NO
             â”‚        â”‚
             â†“        â†“
           æ’åˆ—å‹   ç»„åˆå‹
        (for+check) (forä»pos)
        LeetCode    LeetCode
        46, 47      77, 39, 78
```

**å¿«é€Ÿåˆ¤æ–­å£è¯€**ï¼š
```
1. çœ‹"æ¯ä¸ªéƒ½ç”¨"å—ï¼Ÿâ†’ æ˜¯ï¼šç¬¦å·é€‰æ‹©å‹
2. å¦åˆ™çœ‹"å…³å¿ƒé¡ºåº"å—ï¼Ÿâ†’ æ˜¯ï¼šæ’åˆ—å‹
3. å¦åˆ™ï¼šç»„åˆå‹
```

---

## 5. LeetCode 526 - ä¼˜ç¾çš„æ’åˆ—

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _ä¼˜ç¾çš„æ’åˆ—_C++
- LeetCodeç¼–å·ï¼š526
- éš¾åº¦ï¼šä¸­ç­‰

### é¢˜ç›®ç†è§£
å‡è®¾æœ‰ä» `1` åˆ° `n` çš„ `n` ä¸ªæ•´æ•°ã€‚ç”¨è¿™äº›æ•´æ•°æ„é€ ä¸€ä¸ªæ•°ç»„ `perm`ï¼ˆä¸‹æ ‡ä»1å¼€å§‹ï¼‰ï¼Œä½¿å¾—æ•°ç»„æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

**ä¼˜ç¾æ¡ä»¶**ï¼š
å¯¹äºæ¯ä¸ª `i`ï¼ˆ1 â‰¤ i â‰¤ nï¼‰ï¼Œä¸‹é¢æ¡ä»¶ä¸­**è‡³å°‘æ»¡è¶³ä¸€ä¸ª**ï¼š
- `perm[i]` èƒ½è¢« `i` æ•´é™¤ï¼ˆ`perm[i] % i == 0`ï¼‰
- `i` èƒ½è¢« `perm[i]` æ•´é™¤ï¼ˆ`i % perm[i] == 0`ï¼‰

è¿”å›å¯ä»¥æ„é€ çš„"ä¼˜ç¾æ’åˆ—"çš„**æ•°é‡**ã€‚

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`n = 2`
- è¾“å‡ºï¼š`2`
- è§£é‡Šï¼š
  ```
  [1, 2]: 1%1=0 âœ…, 2%2=0 âœ… â†’ ä¼˜ç¾
  [2, 1]: 2%1=0 âœ…, 2%1=0 âœ… â†’ ä¼˜ç¾
  ```

**å…³é”®ç†è§£**ï¼š
- â­ **æ˜¯æ’åˆ—é—®é¢˜**ï¼šæ¯ä¸ªæ•°å­—1~néƒ½è¦ç”¨ä¸€æ¬¡
- â­ **å…³å¿ƒé¡ºåº**ï¼š[1,2]å’Œ[2,1]æ˜¯ä¸åŒçš„æ’åˆ—
- â­ **æœ‰é¢å¤–é™åˆ¶**ï¼šä¸æ˜¯æ‰€æœ‰æ’åˆ—éƒ½ä¼˜ç¾ï¼Œéœ€è¦æ£€æŸ¥æ¡ä»¶
- â­ **åªè®¡æ•°**ï¼šä¸éœ€è¦è¿”å›å…·ä½“æ’åˆ—ï¼Œåªè¿”å›æ•°é‡

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(n, pos) çš„è¯­ä¹‰ï¼š
åœ¨ä½ç½®posä¸Šæ”¾ä¸€ä¸ªæ•°å­—ï¼ˆä»1~nä¸­é€‰ä¸€ä¸ªæœªä½¿ç”¨çš„ï¼‰
ä½¿å¾—æ»¡è¶³ä¼˜ç¾æ¡ä»¶ï¼Œç»§ç»­å¡«ä¸‹ä¸€ä¸ªä½ç½®
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
if(pos > n)  // å¡«å®Œäº†æ‰€æœ‰ä½ç½®ï¼ˆä½ç½®1~nï¼‰
    ret++    // æ‰¾åˆ°ä¸€ç§ä¼˜ç¾æ’åˆ—
    return
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ä½ç½®posï¼Œéœ€è¦ä»1~nä¸­é€‰ä¸€ä¸ªæœªä½¿ç”¨çš„æ•°å­—
- é€‰æ‹©æ¡ä»¶ï¼š
  1. æ•°å­—æœªè¢«ä½¿ç”¨ï¼ˆcheckæ•°ç»„ï¼‰
  2. æ»¡è¶³ä¼˜ç¾æ¡ä»¶ï¼ˆnum%pos==0 æˆ– pos%num==0ï¼‰
- é€‰æ‹©åï¼Œç»§ç»­å¡«pos+1ä½ç½®

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
for(int num = 1; num <= n; num++) {  // å°è¯•æ¯ä¸ªæ•°å­—
    if(check[num]) continue;  // å·²ä½¿ç”¨
    
    if(num % pos == 0 || pos % num == 0) {  // ä¼˜ç¾æ¡ä»¶
        åšé€‰æ‹©: check[num] = true
        é€’å½’: dfs(n, pos+1)
        æ’¤é”€: check[num] = false
    }
}
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šå¡«ä½ç½®pos â†’ é€’å½’è°ƒç”¨ï¼šå¡«ä½ç½®pos+1
- âœ… å‡ºå£æ¡ä»¶ï¼špos > n â†’ æ‰€æœ‰ä½ç½®éƒ½å¡«å®Œ
- âœ… é€’å½’ä½“ï¼šforéå†æ‰€æœ‰æ•°å­—ï¼Œchecké˜²æ­¢é‡å¤ä½¿ç”¨

---

### åˆå§‹é”™è¯¯ä»£ç 

```cpp
class Solution {
public:
    int ret;  // âŒ æœªåˆå§‹åŒ–
    bool check[20];
    
    int countArrangement(int n) {
        for(int i = 0; i < 20; i++) {
            check[i] = false;
        }
        int pos = 0;  // âŒ ä»0å¼€å§‹
        dfs(n, pos);
        return ret;
    }
    
    void dfs(int n, int pos) {
        // å‡ºå£
        if(pos > n) {
            ret++;
            return;
        }
        
        // å°è¯•åœ¨ä½ç½®posä¸Šæ”¾æ¯ä¸ªæ•°å­—
        for(int num = 1; num <= n; num++) {
            if(check[num]) continue;
            
            // å‰ªæï¼šæ£€æŸ¥ä¼˜ç¾æ¡ä»¶
            if(num % pos == 0 || pos % num == 0) {  // ğŸ’¥ pos=0æ—¶é™¤ä»¥é›¶ï¼
                check[num] = true;
                dfs(n, pos + 1);
                check[num] = false;
            }
        }
    }
};
```

**é”™è¯¯ç»“æœ**ï¼š
- è¿è¡Œæ—¶é”™è¯¯ï¼š`division by zero`
- 0 / 15 ä¸ªé€šè¿‡çš„æµ‹è¯•ç”¨ä¾‹

---

### é”™è¯¯åˆ†æ

#### **è‡´å‘½é”™è¯¯ï¼šposä»0å¼€å§‹å¯¼è‡´é™¤ä»¥é›¶**

**é—®é¢˜æ ¹æº**ï¼š
```cpp
int pos = 0;  // âŒ posä»0å¼€å§‹
dfs(n, pos);

void dfs(int n, int pos) {
    for(int num = 1; num <= n; num++) {
        if(num % pos == 0 || pos % num == 0)  // ğŸ’¥ å½“pos=0æ—¶ï¼Œé™¤ä»¥0ï¼
    }
}
```

**ä¸ºä»€ä¹ˆä¼šé™¤ä»¥é›¶ï¼Ÿ**
```
ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼špos=0
æ‰§è¡Œåˆ°ï¼šnum % pos â†’ num % 0 â†’ é™¤ä»¥é›¶é”™è¯¯ï¼
```

**ä¸ºä»€ä¹ˆè¦ä»1å¼€å§‹ï¼Ÿ**

é¢˜ç›®å®šä¹‰ï¼š
```
"å¯¹äºæ¯ä¸ª iï¼ˆ1 â‰¤ i â‰¤ nï¼‰"
```

è¯´æ˜ï¼š
- ä½ç½®ç¼–å·ä»**1**å¼€å§‹ï¼Œä¸æ˜¯0
- ä½ç½®1, ä½ç½®2, ..., ä½ç½®n
- æ‰€ä»¥ `dfs(n, 1)` è€Œä¸æ˜¯ `dfs(n, 0)`

#### **é”™è¯¯2ï¼šå…¨å±€å˜é‡æœªåˆå§‹åŒ–**

```cpp
int ret;  // âŒ æœªåˆå§‹åŒ–ï¼Œå€¼ä¸ç¡®å®š
```

**é—®é¢˜**ï¼š
- C++ä¸­å…¨å±€å˜é‡å¦‚æœä¸åˆå§‹åŒ–ï¼Œå€¼æ˜¯ä¸ç¡®å®šçš„
- å¯èƒ½æ˜¯0ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–å€¼
- ä¼šå¯¼è‡´ç»“æœé”™è¯¯

**æ­£ç¡®åšæ³•**ï¼š
```cpp
int ret = 0;  // âœ… æ˜¾å¼åˆå§‹åŒ–ä¸º0
```

---

### æ­£ç¡®ä»£ç 

```cpp
class Solution {
public:
    int ret = 0;  // âœ… å¿…é¡»åˆå§‹åŒ–
    bool check[20];
    
    int countArrangement(int n) {
        // åˆå§‹åŒ–checkæ•°ç»„
        for(int i = 0; i < 20; i++) {
            check[i] = false;
        }
        
        dfs(n, 1);  // âœ… ä»ä½ç½®1å¼€å§‹ï¼Œä¸æ˜¯0
        return ret;
    }
    
    void dfs(int n, int pos) {
        // 1. é€’å½’å‡ºå£ï¼ˆå¡«å®Œäº†æ‰€æœ‰ä½ç½®ï¼‰
        if(pos > n) {
            ret++;  // æ‰¾åˆ°ä¸€ç§ä¼˜ç¾æ’åˆ—
            return;
        }
        
        // 2. é€’å½’ä½“ï¼šå°è¯•åœ¨ä½ç½®posä¸Šæ”¾æ¯ä¸ªæ•°å­—
        for(int num = 1; num <= n; num++) {
            // å‰ªæ1ï¼šæ•°å­—å·²ç»ç”¨è¿‡
            if(check[num]) continue;
            
            // å‰ªæ2ï¼šä¸æ»¡è¶³ä¼˜ç¾æ¡ä»¶
            if(num % pos == 0 || pos % num == 0) {
                // åšé€‰æ‹©
                check[num] = true;
                
                // é€’å½’
                dfs(n, pos + 1);
                
                // æ¢å¤ç°åœº
                check[num] = false;
            }
        }
    }
};
```

---

### å†³ç­–æ ‘ï¼ˆn=2ï¼‰

```
dfs(n=2, pos=1)
â”œâ”€ num=1: 1%1=0 âœ…
â”‚   check[1]=true
â”‚   â””â”€ dfs(n=2, pos=2)
â”‚       â”œâ”€ num=1: check[1]=true âŒ è·³è¿‡
â”‚       â””â”€ num=2: 2%2=0 âœ…
â”‚           check[2]=true
â”‚           â””â”€ dfs(n=2, pos=3)
â”‚               â””â”€ pos=3>2 âœ… ret++ â†’ ret=1ï¼ˆæ’åˆ—[1,2]ï¼‰
â”‚           check[2]=falseï¼ˆæ¢å¤ï¼‰
â”‚   check[1]=falseï¼ˆæ¢å¤ï¼‰
â”‚
â””â”€ num=2: 2%1=0 âœ…
    check[2]=true
    â””â”€ dfs(n=2, pos=2)
        â”œâ”€ num=1: 2%1=0 âœ…
        â”‚   check[1]=true
        â”‚   â””â”€ dfs(n=2, pos=3)
        â”‚       â””â”€ pos=3>2 âœ… ret++ â†’ ret=2ï¼ˆæ’åˆ—[2,1]ï¼‰
        â”‚   check[1]=falseï¼ˆæ¢å¤ï¼‰
        â””â”€ num=2: check[2]=true âŒ è·³è¿‡
    check[2]=falseï¼ˆæ¢å¤ï¼‰

æœ€ç»ˆï¼šret = 2
ç»“æœï¼š2ç§ä¼˜ç¾æ’åˆ— [1,2] å’Œ [2,1]
```

**æ‰§è¡Œè½¨è¿¹**ï¼š
```
[1, 2]: ä½ç½®1æ”¾1 â†’ ä½ç½®2æ”¾2 â†’ ä¼˜ç¾ âœ…
[2, 1]: ä½ç½®1æ”¾2 â†’ ä½ç½®2æ”¾1 â†’ ä¼˜ç¾ âœ…
```

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- æ‰§è¡Œç”¨æ—¶ï¼šç¬¦åˆé¢„æœŸ
- å†…å­˜æ¶ˆè€—ï¼šç¬¦åˆé¢„æœŸ

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. **ä½ç½®ç¼–å·çš„ç†è§£**

**é¢˜ç›®ä¸­çš„"ä½ç½®"**ï¼š
```
ä½ç½®ç¼–å·ï¼š1, 2, 3, ..., nï¼ˆä»1å¼€å§‹ï¼‰
æ•°ç»„ä¸‹æ ‡ï¼š0, 1, 2, ..., n-1ï¼ˆä»0å¼€å§‹ï¼‰
```

**ä¸ºä»€ä¹ˆposä»1å¼€å§‹ï¼Ÿ**
```
é¢˜ç›®è¯´"å¯¹äºæ¯ä¸ª iï¼ˆ1 â‰¤ i â‰¤ nï¼‰"
æ‰€ä»¥ä½ç½®å°±æ˜¯1åˆ°nï¼Œä¸æ˜¯0åˆ°n-1
```

**pos=0ä¼šæ€æ ·ï¼Ÿ**
```
num % 0 â†’ é™¤ä»¥é›¶é”™è¯¯ ğŸ’¥
```

#### 2. **ä¼˜ç¾æ¡ä»¶çš„åˆ¤æ–­**

```cpp
if(num % pos == 0 || pos % num == 0)
```

**ä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯**ï¼š

| ä½ç½®pos | æ•°å­—num | æ¡ä»¶1 | æ¡ä»¶2 | ç»“æœ |
|---------|---------|-------|-------|------|
| 2 | 1 | 1%2=1 âŒ | 2%1=0 âœ… | å¯ä»¥æ”¾ âœ… |
| 2 | 2 | 2%2=0 âœ… | - | å¯ä»¥æ”¾ âœ… |
| 2 | 3 | 3%2=1 âŒ | 2%3=2 âŒ | ä¸èƒ½æ”¾ âŒ |
| 3 | 1 | 1%3=2 âŒ | 3%1=0 âœ… | å¯ä»¥æ”¾ âœ… |
| 3 | 3 | 3%3=0 âœ… | - | å¯ä»¥æ”¾ âœ… |

**è§„å¾‹**ï¼š
- 1å¯ä»¥æ”¾åœ¨ä»»ä½•ä½ç½®ï¼ˆä»»ä½•æ•°%1=0ï¼‰
- ä½ç½®iå¯ä»¥æ”¾ï¼š1, i, içš„å› å­, içš„å€æ•°

#### 3. **æ’åˆ—é—®é¢˜çš„ç‰¹ç‚¹ï¼ˆå¸¦å‰ªæï¼‰**

**æ ‡å‡†æ’åˆ—é—®é¢˜**ï¼ˆLeetCode 46ï¼‰ï¼š
```cpp
for(int i = 0; i < n; i++) {  // å°è¯•æ‰€æœ‰æ•°å­—
    if(check[i]) continue;
    // æ”¾å…¥ï¼Œé€’å½’ï¼Œæ¢å¤
}
```

**å¸¦å‰ªæçš„æ’åˆ—**ï¼ˆæœ¬é¢˜ï¼‰ï¼š
```cpp
for(int num = 1; num <= n; num++) {  // å°è¯•æ‰€æœ‰æ•°å­—
    if(check[num]) continue;  // å‰ªæ1ï¼šå·²ä½¿ç”¨
    
    if(æ»¡è¶³é¢å¤–æ¡ä»¶) {  // å‰ªæ2ï¼šä¼˜ç¾æ¡ä»¶
        // æ”¾å…¥ï¼Œé€’å½’ï¼Œæ¢å¤
    }
}
```

#### 4. **å…¨å±€å˜é‡çš„åˆå§‹åŒ–**

```cpp
// âŒ é”™è¯¯ï¼šæœªåˆå§‹åŒ–
int ret;  // å€¼ä¸ç¡®å®š

// âœ… æ­£ç¡®ï¼šæ˜¾å¼åˆå§‹åŒ–
int ret = 0;  // å€¼ä¸º0
```

**ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–ï¼Ÿ**
- C++å…¨å±€å˜é‡ä¸åˆå§‹åŒ–ï¼Œå€¼æ˜¯ä¸ç¡®å®šçš„
- å¯èƒ½æ˜¯0ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–éšæœºå€¼
- ä¼šå¯¼è‡´ç»“æœé”™è¯¯

#### 5. **å‰ªæçš„é‡è¦æ€§**

**å¦‚æœä¸å‰ªæ**ï¼š
```cpp
// å°è¯•æ‰€æœ‰æ’åˆ—ï¼Œå†æ£€æŸ¥
for(int num = 1; num <= n; num++) {
    if(check[num]) continue;
    
    check[num] = true;
    dfs(n, pos+1);
    check[num] = false;
}
// åœ¨å‡ºå£å¤„æ£€æŸ¥æ˜¯å¦ä¼˜ç¾...

æ—¶é—´å¤æ‚åº¦ï¼šO(n! Ã— n)
```

**æœ‰å‰ªæ**ï¼š
```cpp
// åªå°è¯•æ»¡è¶³æ¡ä»¶çš„æ•°å­—
for(int num = 1; num <= n; num++) {
    if(check[num]) continue;
    
    if(num % pos == 0 || pos % num == 0) {  // â† æå‰å‰ªæ
        check[num] = true;
        dfs(n, pos+1);
        check[num] = false;
    }
}

æ—¶é—´å¤æ‚åº¦ï¼šå¤§å¹…é™ä½
```

**å‰ªææ•ˆæœ**ï¼ˆn=3ï¼‰ï¼š
```
ä¸å‰ªæï¼šéœ€è¦æ£€æŸ¥ 3! = 6 ç§æ’åˆ—
å‰ªæåï¼šå¾ˆå¤šåˆ†æ”¯ç›´æ¥è¢«ç æ‰ï¼Œå®é™…é€’å½’æ¬¡æ•°å°‘å¾ˆå¤š
```

#### 6. **é—®é¢˜ç±»å‹å¯¹æ¯”**

| é¢˜ç›® | ç±»å‹ | forèµ·ç‚¹ | checkæ•°ç»„ | é¢å¤–æ¡ä»¶ | posèµ·å§‹ |
|------|------|---------|-----------|---------|---------|
| LeetCode 46ï¼ˆå…¨æ’åˆ—ï¼‰ | æ’åˆ—å‹ | 0 | âœ… | âŒ æ—  | 0 |
| LeetCode 47ï¼ˆå…¨æ’åˆ—IIï¼‰ | æ’åˆ—å‹ | 0 | âœ… | âœ… å»é‡ | 0 |
| **LeetCode 526ï¼ˆæœ¬é¢˜ï¼‰** | **æ’åˆ—å‹** | **1** | âœ… | âœ… **ä¼˜ç¾æ¡ä»¶** | **1** â­ |

**æœ¬é¢˜ç‰¹æ®Šä¹‹å¤„**ï¼š
- posä»**1**å¼€å§‹ï¼ˆé¢˜ç›®è¦æ±‚ï¼‰
- æœ‰é¢å¤–çš„ä¼˜ç¾æ¡ä»¶å‰ªæ

---

### æ–¹æ³•è®ºåæ€

#### âœ… **æœ‰å¸®åŠ©çš„åœ°æ–¹**

1. **å›æº¯äº”å¤§ç±»å‹è¡¨æ ¼**ï¼š
   - å¿«é€Ÿå®šä½åˆ°"æ’åˆ—å‹"
   - æ˜ç¡®äº†éœ€è¦forå¾ªç¯+checkæ•°ç»„
   - çŸ¥é“è¦ä»æ•°å­—1~nä¸­é€‰æ‹©

2. **äº”æ­¥æ³•æŒ‡å¯¼æ€è·¯**ï¼š
   - ç¬¬1æ­¥"æ˜ç¡®è¯­ä¹‰"ï¼šå¡«ä½ç½®pos
   - ç¬¬2æ­¥"æ‰¾å‡ºå£"ï¼špos > n è¡¨ç¤ºå¡«å®Œ
   - ç¬¬4æ­¥"è®¾è®¡é€’å½’ä½“"ï¼šforéå†+å‰ªæ

3. **å‰ªææ€æƒ³**ï¼š
   - ä¸æ˜¯æ‰€æœ‰æ•°å­—éƒ½èƒ½æ”¾åœ¨æ¯ä¸ªä½ç½®
   - æå‰æ£€æŸ¥ä¼˜ç¾æ¡ä»¶ï¼Œé¿å…æ— æ•ˆé€’å½’

#### âš ï¸ **çŠ¯é”™çš„åœ°æ–¹**

1. **posä»0å¼€å§‹**ï¼š
   - ä¹ æƒ¯æ€§è®¤ä¸ºä¸‹æ ‡ä»0å¼€å§‹
   - æ²¡æ³¨æ„é¢˜ç›®è¯´"ä½ç½®iä»1å¼€å§‹"
   - å¯¼è‡´é™¤ä»¥é›¶é”™è¯¯
   - **å»ºè®®**ï¼šä»”ç»†çœ‹é¢˜ç›®çš„ç¼–å·è§„åˆ™

2. **å…¨å±€å˜é‡å¿˜è®°åˆå§‹åŒ–**ï¼š
   - ä»¥ä¸ºå…¨å±€å˜é‡é»˜è®¤ä¸º0
   - å®é™…ä¸ŠC++ä¸ä¿è¯åˆå§‹åŒ–
   - **å»ºè®®**ï¼šå…¨å±€å˜é‡ä¸€å®šè¦æ˜¾å¼åˆå§‹åŒ–

3. **æ²¡æœ‰ç†è§£"ä½ç½®"çš„å«ä¹‰**ï¼š
   - æ··æ·†äº†"ä½ç½®"å’Œ"æ•°ç»„ä¸‹æ ‡"
   - é¢˜ç›®è¯´çš„ä½ç½®æ˜¯é€»è¾‘æ¦‚å¿µï¼Œä»1å¼€å§‹
   - **å»ºè®®**ï¼šåŒºåˆ†"ä½ç½®ç¼–å·"å’Œ"æ•°ç»„ä¸‹æ ‡"

#### ğŸ’¡ **æ ¸å¿ƒæ”¶è·**

1. **ä½ç½®ç¼–å·è¦çœ‹é¢˜ç›®**ï¼š
   ```
   é¢˜ç›®è¯´"ç¬¬iä¸ªä½ç½®ï¼ˆiä»1å¼€å§‹ï¼‰" â†’ posä»1å¼€å§‹
   é¢˜ç›®è¯´"ä¸‹æ ‡iï¼ˆ0â‰¤i<nï¼‰" â†’ posä»0å¼€å§‹
   ```

2. **é™¤æ³•æ“ä½œè¦æ£€æŸ¥é™¤æ•°ä¸ä¸º0**ï¼š
   ```
   num % pos  â†’ å¦‚æœposå¯èƒ½ä¸º0ï¼Œä¼šå‡ºé”™
   è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿posä»1å¼€å§‹
   ```

3. **å…¨å±€å˜é‡å¿…é¡»åˆå§‹åŒ–**ï¼š
   ```cpp
   int ret = 0;  // âœ… æ˜¾å¼åˆå§‹åŒ–
   // int ret;   // âŒ å€¼ä¸ç¡®å®š
   ```

4. **å‰ªæå¯ä»¥å¤§å¹…é™ä½æ—¶é—´å¤æ‚åº¦**ï¼š
   ```
   æ— å‰ªæï¼šO(n!)
   æœ‰å‰ªæï¼šå®é™…é€’å½’æ¬¡æ•°å°‘å¾ˆå¤š
   ```

5. **æ’åˆ—é—®é¢˜+é¢å¤–æ¡ä»¶çš„æ¨¡æ¿**ï¼š
   ```cpp
   void dfs(pos) {
       if(pos > n) { è®°å½•; return; }
       
       for(int num = 1; num <= n; num++) {
           if(check[num]) continue;  // å‰ªæ1
           if(!æ»¡è¶³é¢å¤–æ¡ä»¶) continue;  // å‰ªæ2
           
           check[num] = true;
           dfs(pos+1);
           check[num] = false;
       }
   }
   ```

---

### é‡è¦å¯¹æ¯”å›¾

```
ä½ç½®ç¼–å·çš„ä¸¤ç§æƒ…å†µï¼š

æƒ…å†µ1ï¼šä»0å¼€å§‹ï¼ˆæ ‡å‡†æ’åˆ—ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½ç½®ï¼š   0    1    2      â”‚
â”‚ æ•°å­—ï¼š  [a,   b,   c]     â”‚
â”‚ è°ƒç”¨ï¼šdfs(0) â†’ dfs(1) ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç¤ºä¾‹ï¼šLeetCode 46, 47

æƒ…å†µ2ï¼šä»1å¼€å§‹ï¼ˆæœ¬é¢˜ï¼‰â­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½ç½®ï¼š   1    2    3      â”‚
â”‚ æ•°å­—ï¼š  [a,   b,   c]     â”‚
â”‚ è°ƒç”¨ï¼šdfs(1) â†’ dfs(2) ... â”‚
â”‚ æ¡ä»¶ï¼šnum%pos==0 ...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç¤ºä¾‹ï¼šLeetCode 526

å…³é”®ï¼š
- çœ‹é¢˜ç›®æ€ä¹ˆå®šä¹‰"ä½ç½®/ä¸‹æ ‡"
- pos=0 æ—¶ä¸èƒ½åšé™¤æ•°ï¼
```

---

## 6. LeetCode 51 - Nçš‡å

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _Nçš‡å_C++
- LeetCodeç¼–å·ï¼š51
- éš¾åº¦ï¼šå›°éš¾ âš ï¸

### é¢˜ç›®ç†è§£
åœ¨ `nÃ—n` çš„æ£‹ç›˜ä¸Šæ”¾ç½® `n` ä¸ªçš‡åï¼Œä½¿å¾—å®ƒä»¬äº’ä¸æ”»å‡»ã€‚è¿”å›æ‰€æœ‰ä¸åŒçš„è§£å†³æ–¹æ¡ˆã€‚

**çš‡åçš„æ”»å‡»è§„åˆ™**ï¼šå¯ä»¥æ”»å‡»**åŒä¸€è¡Œã€åŒä¸€åˆ—ã€ä¸¤æ¡å¯¹è§’çº¿**çš„æ‰€æœ‰ä½ç½®

**å…³é”®ç†è§£**ï¼š
- â­ **æ¯è¡Œå¿…é¡»æ°å¥½æ”¾ä¸€ä¸ªçš‡å** â†’ é—®é¢˜å˜æˆï¼šç¬¬iè¡Œçš„çš‡åæ”¾åœ¨å“ªä¸€åˆ—ï¼Ÿ
- â­ **éœ€è¦æ£€æŸ¥**ï¼šåˆ—å†²çª + ä¸¤æ¡å¯¹è§’çº¿å†²çª

---

### æ–¹æ³•è®ºåº”ç”¨

**ç¬¬1æ­¥ï¼šæ˜ç¡®å‡½æ•°è¯­ä¹‰**
```
dfs(row, n)ï¼šåœ¨ç¬¬rowè¡Œæ”¾ä¸€ä¸ªçš‡åï¼ˆé€‰æ‹©0~n-1åˆ—ä¸­çš„ä¸€ä¸ªï¼‰
```

**ç¬¬2æ­¥ï¼šæ‰¾é€’å½’å‡ºå£**
```
if(row == n)ï¼šæ‰€æœ‰è¡Œéƒ½æ”¾å®Œäº†ï¼Œè®°å½•ä¸€ä¸ªè§£
```

**ç¬¬3æ­¥ï¼šç¡®å®šå­é—®é¢˜**
- å½“å‰åœ¨ç¬¬rowè¡Œï¼Œå°è¯•æ¯ä¸€åˆ—c
- æ£€æŸ¥ä½ç½®(row, c)æ˜¯å¦åˆæ³•
- å¦‚æœåˆæ³•ï¼Œæ”¾çš‡åï¼Œé€’å½’å¤„ç†row+1è¡Œ

**ç¬¬4æ­¥ï¼šè®¾è®¡é€’å½’ä½“**
```
for(int c = 0; c < n; c++) {
    if(ä½ç½®(row,c)åˆæ³•) {
        åšé€‰æ‹© + æ ‡è®°
        dfs(row+1, n)
        æ’¤é”€ + å–æ¶ˆæ ‡è®°
    }
}
```

**ç¬¬5æ­¥ï¼šæ£€æŸ¥è¯­ä¹‰ä¸€è‡´æ€§**
- âœ… å‡½æ•°è¯­ä¹‰ï¼šå¤„ç†rowè¡Œ â†’ é€’å½’è°ƒç”¨ï¼šå¤„ç†row+1è¡Œ
- âœ… é€’å½’ä½“ï¼šforéå†æ‰€æœ‰åˆ—ï¼Œæ£€æŸ¥çº¦æŸ

---

### è§£é¢˜ä»£ç 

```cpp
class Solution {
public:
    vector<vector<string>> ret;
    vector<string> board;  // âœ… stringï¼Œä¸æ˜¯stirng
    bool col[20];          // åˆ—æ ‡è®°
    bool diag1[40];        // å·¦ä¸Š-å³ä¸‹å¯¹è§’çº¿æ ‡è®°
    bool diag2[40];        // å³ä¸Š-å·¦ä¸‹å¯¹è§’çº¿æ ‡è®°
    
    vector<vector<string>> solveNQueens(int n) {
        // åˆå§‹åŒ–æ£‹ç›˜ï¼šnè¡Œï¼Œæ¯è¡Œnä¸ª'.'
        board = vector<string>(n, string(n, '.'));
        
        // åˆå§‹åŒ–æ ‡è®°æ•°ç»„
        memset(col, false, sizeof(col));
        memset(diag1, false, sizeof(diag1));
        memset(diag2, false, sizeof(diag2));
        
        dfs(0, n);
        return ret;
    }
    
    void dfs(int row, int n) {
        // 1. é€’å½’å‡ºå£
        if(row == n) {
            ret.push_back(board);
            return;
        }
        
        // 2. å°è¯•åœ¨ç¬¬rowè¡Œçš„æ¯ä¸€åˆ—æ”¾çš‡å
        for(int c = 0; c < n; c++) {
            // æ£€æŸ¥ä½ç½®(row, c)æ˜¯å¦åˆæ³•
            if(!col[c] && !diag1[row - c + n] && !diag2[row + c]) {
                // åšé€‰æ‹©
                board[row][c] = 'Q';
                col[c] = true;
                diag1[row - c + n] = true;
                diag2[row + c] = true;
                
                // é€’å½’
                dfs(row + 1, n);
                
                // æ¢å¤ç°åœº
                board[row][c] = '.';
                col[c] = false;
                diag1[row - c + n] = false;
                diag2[row + c] = false;
            }
        }
    }
};
```

---

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### **å¯¹è§’çº¿åˆ¤å®šçš„å·§å¦™ä¹‹å¤„** â­â­â­

**æ ¸å¿ƒæ€æƒ³**ï¼šç”¨ `row - col` å’Œ `row + col` æ¥å”¯ä¸€æ ‡è¯†å¯¹è§’çº¿ï¼

**å·¦ä¸Š-å³ä¸‹å¯¹è§’çº¿**ï¼š
```
åŒä¸€å¯¹è§’çº¿ä¸Šï¼šrow - col ç›¸åŒ

     col: 0    1    2    3
row 0:   0   -1   -2   -3
row 1:   1    0   -1   -2
row 2:   2    1    0   -1
row 3:   3    2    1    0

å¯¹è§’çº¿(0,0)-(1,1)-(2,2)-(3,3)ï¼šrow-coléƒ½æ˜¯0
åŠ ä¸Šné˜²æ­¢è´Ÿæ•°ï¼šdiag1[row - c + n]
```

**å³ä¸Š-å·¦ä¸‹å¯¹è§’çº¿**ï¼š
```
åŒä¸€å¯¹è§’çº¿ä¸Šï¼šrow + col ç›¸åŒ

     col: 0    1    2    3
row 0:   0    1    2    3
row 1:   1    2    3    4
row 2:   2    3    4    5
row 3:   3    4    5    6

å¯¹è§’çº¿(0,3)-(1,2)-(2,1)-(3,0)ï¼šrow+coléƒ½æ˜¯3
ç›´æ¥ç”¨ï¼šdiag2[row + c]
```

**ä¸ºä»€ä¹ˆå·§å¦™ï¼Ÿ**
- ä¼ ç»Ÿï¼šéå†æ•´æ¡å¯¹è§’çº¿ O(n)
- ä¼˜åŒ–ï¼šæ•°å­¦ç‰¹æ€§ï¼ŒO(1)åˆ¤æ–­ï¼

---

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹

---

### æ–¹æ³•è®ºåæ€

**æ ¸å¿ƒæ”¶è·**ï¼š
1. **å¯¹è§’çº¿åˆ¤å®šå…¬å¼**ï¼š`row - col + n` å’Œ `row + col`
2. **é€è¡Œæ”¾ç½®æ€æƒ³**ï¼šæ¯è¡Œæ°å¥½1ä¸ªï¼Œé—®é¢˜ç®€åŒ–ä¸ºé€‰å“ªä¸€åˆ—
3. **ç©ºé—´æ¢æ—¶é—´**ï¼šæ ‡è®°æ•°ç»„O(1)åˆ¤æ–­ï¼Œè€Œä¸æ˜¯O(n)éå†
4. **æ•°å­¦æŠ½è±¡èƒ½åŠ›**ï¼šç”¨ç®€å•å…¬å¼æ›¿ä»£å¤æ‚éå†

---

## 7. LeetCode 52 - Nçš‡å II

### é¢˜ç›®ä¿¡æ¯
- æ¯”ç‰¹è¯¾ç¨‹ï¼šä¸“é¢˜å››_ç»¼åˆç»ƒä¹ _Nçš‡åII_C++
- LeetCodeç¼–å·ï¼š52
- éš¾åº¦ï¼šå›°éš¾

### é¢˜ç›®ç†è§£
ä¸Nçš‡åIç›¸åŒï¼Œä½†**åªè¿”å›è§£çš„æ•°é‡**ï¼Œä¸éœ€è¦å…·ä½“æ–¹æ¡ˆã€‚

### æ ¸å¿ƒåŒºåˆ«

```cpp
// Nçš‡å Iï¼šè¿”å›æ‰€æœ‰æ–¹æ¡ˆ
ret.push_back(board);  // éœ€è¦å®Œæ•´æ£‹ç›˜

// Nçš‡å IIï¼šåªç»Ÿè®¡æ•°é‡
ret++;  // åªéœ€è¦è®¡æ•°
```

### è§£é¢˜ä»£ç 

```cpp
class Solution {
public:
    int ret = 0;
    // ä¼˜åŒ–ï¼šä¸éœ€è¦boardå˜é‡
    bool col[20];
    bool diag1[40];
    bool diag2[40];
    
    int totalNQueens(int n) {
        memset(col, false, sizeof(col));
        memset(diag1, false, sizeof(diag1));
        memset(diag2, false, sizeof(diag2));
        
        dfs(0, n);
        return ret;
    }
    
    void dfs(int row, int n) {
        if(row == n) {
            ret++;  // â† åªç»Ÿè®¡ï¼Œä¸è®°å½•æ–¹æ¡ˆ
            return;
        }
        
        for(int c = 0; c < n; c++) {
            if(!col[c] && !diag1[row - c + n] && !diag2[row + c]) {
                // åªæ ‡è®°ï¼Œä¸ä¿®æ”¹æ£‹ç›˜
                col[c] = true;
                diag1[row - c + n] = true;
                diag2[row + c] = true;
                
                dfs(row + 1, n);
                
                col[c] = false;
                diag1[row - c + n] = false;
                diag2[row + c] = false;
            }
        }
    }
};
```

### æäº¤ç»“æœ
- âœ… é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹

### æ ¸å¿ƒæ”¶è·

**ä¼˜åŒ–ç‚¹**ï¼š
1. **ä¸éœ€è¦ `board` å˜é‡** - èŠ‚çœ O(nÂ²) ç©ºé—´
2. **ä¸éœ€è¦ä¿®æ”¹æ£‹ç›˜** - èŠ‚çœå­—ç¬¦ä¸²ä¿®æ”¹æ“ä½œæ—¶é—´
3. **åªéœ€è¦3ä¸ªcheckæ•°ç»„** - æ ¸å¿ƒé€»è¾‘å®Œå…¨ä¸€æ ·

**å¯¹æ¯”**ï¼š
| ç‰¹æ€§ | Nçš‡åI | Nçš‡åII |
|------|--------|---------|
| è¿”å›å€¼ | `vector<vector<string>>` | `int` |
| éœ€è¦board | âœ… | âŒ |
| é€’å½’å‡ºå£ | `ret.push_back(board)` | `ret++` |
| ç©ºé—´å¤æ‚åº¦ | O(nÂ²) | O(n) |

---

## ä»Šæ—¥æ€»ç»“

### å®Œæˆæƒ…å†µ
- âœ… LeetCode 77 - ç»„åˆ
- âœ… LeetCode 494 - ç›®æ ‡å’Œ
- âœ… LeetCode 39 - ç»„åˆæ€»å’Œ
- âœ… LeetCode 784 - å­—æ¯å¤§å°å†™å…¨æ’åˆ—
- âœ… LeetCode 526 - ä¼˜ç¾çš„æ’åˆ—
- âœ… LeetCode 51 - Nçš‡å â­â­â­
- âœ… LeetCode 52 - Nçš‡å II â­â­â­

### æ–¹æ³•è®ºæµ‹è¯•ç»“æœ
**æœ‰å¸®åŠ©çš„åœ°æ–¹**ï¼š
ï¼ˆè®°å½•å“ªäº›æ­¥éª¤/æ£€æŸ¥ç‚¹ç‰¹åˆ«æœ‰ç”¨ï¼‰

**éœ€è¦å®Œå–„çš„åœ°æ–¹**ï¼š
ï¼ˆè®°å½•å“ªäº›åœ°æ–¹ä¸å¤Ÿæ¸…æ™°ï¼Œéœ€è¦è¡¥å……ï¼‰

### æ ¸å¿ƒæ”¶è·
ï¼ˆè®°å½•ä»Šå¤©çš„æ ¸å¿ƒæ”¶è·ï¼‰

### æ–¹æ³•è®ºè¿­ä»£å»ºè®®
ï¼ˆè®°å½•å¯¹æ–¹æ³•è®ºçš„æ”¹è¿›å»ºè®®ï¼‰

---

## é¢˜ç›®éš¾åº¦è¯„ä¼°

| é¢˜ç›® | é¢„ä¼°éš¾åº¦ | å®é™…éš¾åº¦ | è€—æ—¶ |
|------|---------|---------|------|
| 77-ç»„åˆ | â­â­â­ | | |
| 494-ç›®æ ‡å’Œ | â­â­â­â­ | | |
| 39-ç»„åˆæ€»å’Œ | â­â­â­ | | |
| 784-å­—æ¯å¤§å°å†™ | â­â­â­ | | |
| 526-ä¼˜ç¾æ’åˆ— | â­â­â­â­ | | |
| 51-Nçš‡å | â­â­â­â­â­ | | |

**å¤‡æ³¨**ï¼š
- Nçš‡åæ˜¯ç»å…¸çš„å›°éš¾é¢˜ï¼Œå¯ä»¥æœ€ååš
- å»ºè®®é¡ºåºï¼š77 â†’ 39 â†’ 784 â†’ 494 â†’ 526 â†’ 51

