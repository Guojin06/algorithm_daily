# Day07 - 10æœˆ8æ—¥å­¦ä¹ ç¬”è®°

**å¼€å§‹æ—¶é—´ï¼š** 2025å¹´10æœˆ8æ—¥  
**ä»Šæ—¥ä¸“é¢˜ï¼š** å‰ç¼€å’Œï¼ˆç®—æ³•ç²¾å“è¯¾1ï¼‰

## ğŸ“ å¿«é€Ÿå›é¡¾ Day06 å…³é”®ç‚¹ï¼ˆ5åˆ†é’Ÿï¼‰

### æ»‘åŠ¨çª—å£å…³é”®ç‚¹ï¼š
1. **å›ºå®šçª—å£** - å…ˆå»ºçª—å£ â†’ forå¾ªç¯æ»‘åŠ¨ â†’ å…ˆå‡ºåè¿›
2. **å¯å˜çª—å£** - for right â†’ whileæ¡ä»¶ä¸æ»¡è¶³ â†’ æ›´æ–°ç»“æœ
3. **validè®¡æ•°å™¨** - è®°å½•å­—ç¬¦ç§ç±»æ•°ï¼Œä¸æ˜¯æ€»ä¸ªæ•°
4. **æ€ç»´è½¬æ¢** - ä¸¤ç«¯ç§»é™¤ â†’ ä¸­é—´æœ€é•¿å­æ•°ç»„

---

## ğŸ¯ ä»Šæ—¥é¢˜ç›®ï¼ˆ5é¢˜å‰ç¼€å’Œä¸“é¢˜ - ç®—æ³•ç²¾å“è¯¾1ï¼‰

**ä»Šå¤©ç›®æ ‡ï¼š** æŒæ¡å‰ç¼€å’Œçš„æ ¸å¿ƒæ€æƒ³å’Œåº”ç”¨åœºæ™¯ï¼

**é¢˜ç›®æ¥æºï¼š** æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md - å‰ç¼€å’Œéƒ¨åˆ†

**å‰ç¼€å’Œæ ¸å¿ƒæ€æƒ³ï¼š**
```cpp
// 1. é¢„å¤„ç†å‰ç¼€å’Œæ•°ç»„
dp[i] = dp[i-1] + arr[i];  // dp[i] è¡¨ç¤º [0,i] åŒºé—´çš„å’Œ

// 2. O(1)æ—¶é—´æ±‚ä»»æ„åŒºé—´å’Œ
åŒºé—´[l, r]çš„å’Œ = dp[r] - dp[l-1];
```

---

### ç¬¬1é¢˜ï¼šå¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ï¼ˆLeetCode 724ï¼‰

**é¢˜ç›®æè¿°ï¼š**
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·è®¡ç®—æ•°ç»„çš„ **ä¸­å¿ƒä¸‹æ ‡** ã€‚

æ•°ç»„ **ä¸­å¿ƒä¸‹æ ‡** æ˜¯æ•°ç»„çš„ä¸€ä¸ªä¸‹æ ‡ï¼Œå…¶å·¦ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œç­‰äºå³ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œã€‚

å¦‚æœä¸­å¿ƒä¸‹æ ‡ä½äºæ•°ç»„æœ€å·¦ç«¯ï¼Œé‚£ä¹ˆå·¦ä¾§æ•°ä¹‹å’Œè§†ä¸º `0` ï¼Œå› ä¸ºåœ¨ä¸‹æ ‡çš„å·¦ä¾§ä¸å­˜åœ¨å…ƒç´ ã€‚è¿™ä¸€ç‚¹å¯¹äºå³ä¾§åŒæ ·é€‚ç”¨ã€‚

å¦‚æœæ•°ç»„æœ‰å¤šä¸ªä¸­å¿ƒä¸‹æ ‡ï¼Œåº”è¯¥è¿”å› **æœ€é è¿‘å·¦è¾¹** çš„é‚£ä¸€ä¸ªã€‚å¦‚æœæ•°ç»„ä¸å­˜åœ¨ä¸­å¿ƒä¸‹æ ‡ï¼Œè¿”å› `-1` ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼šnums = [1, 7, 3, 6, 5, 6]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
ä¸­å¿ƒä¸‹æ ‡æ˜¯ 3 ã€‚
å·¦ä¾§æ•°ä¹‹å’Œ sum = nums[0] + nums[1] + nums[2] = 1 + 7 + 3 = 11 ï¼Œ
å³ä¾§æ•°ä¹‹å’Œ sum = nums[4] + nums[5] = 5 + 6 = 11 ï¼ŒäºŒè€…ç›¸ç­‰ã€‚

è¾“å…¥ï¼šnums = [1, 2, 3]
è¾“å‡ºï¼š-1
è§£é‡Šï¼šæ•°ç»„ä¸­ä¸å­˜åœ¨æ»¡è¶³æ­¤æ¡ä»¶çš„ä¸­å¿ƒä¸‹æ ‡ã€‚
```

**æç¤ºï¼š**
- `1 <= nums.length <= 10^4`
- `-1000 <= nums[i] <= 1000`

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/find-pivot-index/

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬27é¢˜

**æ€è·¯æç¤ºï¼š**
- å…ˆæ±‚å‡ºæ•°ç»„æ€»å’Œ `sum`
- éå†æ•°ç»„ï¼Œç»´æŠ¤å·¦ä¾§å’Œ `leftSum`
- å³ä¾§å’Œ = `sum - leftSum - nums[i]`
- å¦‚æœå·¦ä¾§å’Œ == å³ä¾§å’Œï¼Œè¿”å› `i`

---

**æˆ‘çš„æ€è·¯ï¼š**
iä½œä¸ºä¸­å¿ƒä¸‹æ ‡ï¼Œå·¦ä¾§ä¸ºfï¼Œå³ä¾§ä¸ºgï¼Œä¸¤ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯ä»å·¦å¾€å³ï¼Œä¸€ä¸ªæ˜¯ä»å³å¾€å·¦ï¼Œç„¶ååˆ¤æ–­f[i] == g[i]å³å¯
æ³¨æ„å‰ç¼€å’Œfä»1å¼€å§‹ï¼Œgä»n-2å¼€å§‹ï¼ˆå› ä¸ºé˜²æ­¢è¶Šç•Œï¼‰



---

**æˆ‘çš„ä»£ç ï¼š**
```cpp
// åœ¨è¿™é‡Œå†™ä½ çš„ä»£ç 
class Solution {
public:
    int pivotIndex(vector<int>& nums) {
    int n = nums.size();
    vector<int> f(n),g(n);

    //1.å·¦å‰ç¼€å’Œ
    for(int i = 1; i < n ; i++)
    {
        f[i] = f[i-1] + nums[i-1];
    }
    for(int i = n-2; i >= 0; i--)
    {
        g[i] = g[i+1] + nums[i+1];
    }
    for(int i = 0 ; i < n ; i++)
    {
        if(g[i] == f[i])
        return i ;
    }
    return -1;
    }
};
```

**æäº¤ç»“æœï¼š**
ac

---

**æˆ‘çš„é”™è¯¯ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š**




---

**æ­£ç¡®ä»£ç ï¼š**
```cpp
// ACä»£ç 
```

---

**å¤æ‚åº¦åˆ†æï¼š**
- **æ—¶é—´å¤æ‚åº¦ï¼š** Oï¼ˆnï¼‰
- **ç©ºé—´å¤æ‚åº¦ï¼š** Oï¼ˆnï¼‰

---

**æˆ‘çš„æ”¶è·ï¼š**




---

### ç¬¬2é¢˜ï¼šé™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ï¼ˆLeetCode 238ï¼‰â­â­

**é¢˜ç›®æè¿°ï¼š**
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å› æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` ç­‰äº `nums` ä¸­é™¤ `nums[i]` ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ ã€‚

é¢˜ç›®æ•°æ® **ä¿è¯** æ•°ç»„ `nums`ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  **32 ä½** æ•´æ•°èŒƒå›´å†…ã€‚

è¯· **ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œ**ä¸”åœ¨ `O(n)` æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥: nums = [1,2,3,4]
è¾“å‡º: [24,12,8,6]

è¾“å…¥: nums = [-1,1,0,-3,3]
è¾“å‡º: [0,0,9,0,0]
```

**æç¤ºï¼š**
- `2 <= nums.length <= 10^5`
- `-30 <= nums[i] <= 30`
- **ä¿è¯** æ•°ç»„ `nums`ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  **32 ä½** æ•´æ•°èŒƒå›´å†…

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/product-of-array-except-self/

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬28é¢˜

**æ€è·¯æç¤ºï¼š**
- ç±»ä¼¼å‰ç¼€å’Œï¼Œä½†è¿™é‡Œæ˜¯ **å‰ç¼€ç§¯** å’Œ **åç¼€ç§¯**
- ç”¨ä¸¤ä¸ªæ•°ç»„ï¼š`lprod[i]` è¡¨ç¤º i å·¦è¾¹æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼Œ`rprod[i]` è¡¨ç¤º i å³è¾¹æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯
- ç»“æœï¼š`ret[i] = lprod[i] * rprod[i]`

---

**æˆ‘çš„æ€è·¯ï¼š**




---

**æˆ‘çš„ä»£ç ï¼š**
```cpp
// åœ¨è¿™é‡Œå†™ä½ çš„ä»£ç 
class Solution {
public:
    vector<int> productExceptSelf(vector<int>& nums) {
        int n = nums.size();
        vector<int> f(n),g(n);
        vector<int> ret(n);
        //è¾¹ç•Œå¤„ç†
        f[0] = 1;
        g[n-1] = 1;
        for(int i = 1; i < n ; i++)
        {
            f[i] = f[i-1]*nums[i-1];
        }
        for(int i = n-2; i >= 0; i--)
        {
            g[i] = g[i+1]*nums[i+1];
        }

        //å¤„ç†ä¹˜æ³•
        for(int i = 0; i < n ; i++)
        {
            ret[i] = f[i]*g[i];
     
        }
        return ret;
    }
};
```

**æäº¤ç»“æœï¼š**
ac

---

**æˆ‘çš„é”™è¯¯ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š**
æœ€å¼€å§‹è¾¹ç•Œå¤„ç†æ”¾åœ¨äº†å‰ç¼€å’Œå¤„ç†çš„ä¸‹é¢ï¼Œå¯¼è‡´ç»“æœé”™è¯¯ï¼Œè¿™é‡Œæˆ‘æ²¡ææ‡‚ï¼Œåæ¥æˆ‘æ”¾ä¸Šé¢å°±acäº†
è¿˜æœ‰é¢˜ç›®é‡Œé¢çš„ä¸è¶…è¿‡32ä½æ•´æ•°èŒƒå›´ï¼Œä¸çŸ¥é“è¿™ä¸ªé™åˆ¶æ˜¯å¹²å˜›çš„ï¼Œåšå®Œä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰å½±å“

**â“ æ•™ç»ƒè§£ç­”ï¼š**
1. **è¾¹ç•Œå¤„ç†ä½ç½®ï¼š** å¿…é¡»åœ¨å‰ç¼€ç§¯è®¡ç®—ä¹‹å‰ï¼å› ä¸º `f[0] = 1, g[n-1] = 1` æ˜¯åˆå§‹å€¼ï¼Œå¦‚æœæ”¾åœ¨åé¢ä¼šè¦†ç›–æ‰å·²ç»è®¡ç®—å¥½çš„å€¼ã€‚ä½ çš„åšæ³•æ˜¯å¯¹çš„ï¼âœ…

2. **32ä½æ•´æ•°èŒƒå›´ï¼š** è¿™æ˜¯å‘Šè¯‰ä½ **ä¸ç”¨æ‹…å¿ƒæº¢å‡º**ï¼ä¹˜ç§¯ä¸ä¼šè¶…è¿‡ `INT_MAX`ï¼Œä¸éœ€è¦ç”¨ `long long`ã€‚å¦‚æœæ²¡è¿™ä¸ªä¿è¯ï¼Œå¯èƒ½éœ€è¦è€ƒè™‘æº¢å‡ºé—®é¢˜ã€‚

3. **ç©ºé—´å¤æ‚åº¦ï¼š** æ˜¯çš„ï¼**O(n)**ï¼Œå› ä¸ºç”¨äº†3ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼ˆf, g, retï¼‰ã€‚

---

**æ­£ç¡®ä»£ç ï¼š**
```cpp
// ä½ çš„ä»£ç å°±æ˜¯ACä»£ç ï¼âœ…
```

---

**å¤æ‚åº¦åˆ†æï¼š**
- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n) - ä¸‰æ¬¡éå†
- **ç©ºé—´å¤æ‚åº¦ï¼š** O(n) - ä¸‰ä¸ªæ•°ç»„

---

**æˆ‘çš„æ”¶è·ï¼š**




---

### ç¬¬3é¢˜ï¼šå’Œä¸ºkçš„å­æ•°ç»„ï¼ˆLeetCode 560ï¼‰â­â­â­

**é¢˜ç›®æè¿°ï¼š**
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› **è¯¥æ•°ç»„ä¸­å’Œä¸º `k` çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°** ã€‚

**å­æ•°ç»„**æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„è¿ç»­éç©ºåºåˆ—ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼šnums = [1,1,1], k = 2
è¾“å‡ºï¼š2

è¾“å…¥ï¼šnums = [1,2,3], k = 3
è¾“å‡ºï¼š2
```

**æç¤ºï¼š**
- `1 <= nums.length <= 2 * 10^4`
- `-1000 <= nums[i] <= 1000`
- `-10^7 <= k <= 10^7`

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/subarray-sum-equals-k/

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬29é¢˜

**æ€è·¯æç¤ºï¼š**
- **æ ¸å¿ƒæ€æƒ³ï¼š** å‰ç¼€å’Œ + å“ˆå¸Œè¡¨
- å¦‚æœ `sum[i] - sum[j] = k`ï¼Œåˆ™ `sum[j] = sum[i] - k`
- ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªå‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
- éå†æ—¶ï¼ŒæŸ¥æ‰¾ `sum - k` åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°çš„æ¬¡æ•°

---

**æˆ‘çš„æ€è·¯ï¼š**
æ€è·¯æ¯”è¾ƒä¹±ï¼Œçœ‹äº†è®²è§£è§†é¢‘ã€‚æœ€å¼€å§‹æ˜¯æš´åŠ›æ³•ï¼Œç„¶åæ˜¯å‰ç¼€å’Œï¼Œæœ€åæ˜¯å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨ç”¨æ¥å¿«é€ŸæŸ¥æ‰¾å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ï¼Œä½†æ˜¯è¿™ä¸ªé‡Œé¢çš„ç»†èŠ‚æˆ‘è¿˜æ˜¯æ²¡æå¤ªæ‡‚

---

**æˆ‘çš„ä»£ç ï¼š**
```cpp
// çœ‹äº†è®²è§£åå†™çš„
class Solution {
public:
    int subarraySum(vector<int>& nums, int k) {
        unordered_map<int,int> hash; // ç»Ÿè®¡å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
        hash[0] = 1;
        int sum = 0, ret = 0;
        for(auto x: nums) {
            sum += x; // è®¡ç®—å½“å‰ä½ç½®çš„å‰ç¼€å’Œ
            if(hash.count(sum - k)) ret += hash[sum - k]; // ç»Ÿè®¡ä¸ªæ•°ï¼Œçœ‹æœ‰æ²¡æœ‰æ»¡è¶³æ­¤æ—¶å‰ç¼€å’Œä¸ºsum - kçš„å‰ç¼€å’Œå­˜åœ¨ä¸å¦
            hash[sum]++;//è®°å½•å½“å‰å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ï¼Œä¸‹ä¸€é¢˜æ˜¯è®°å½•å½“å‰å‰ç¼€å’Œä½™æ•°å‡ºç°çš„æ¬¡æ•°å¼‚æ›²åŒå·¥ï¼Œåˆ¤æ–­ä¸­è¦çš„å•¥å°±è®°å½•å•¥ï¼Œæ¯”å¦‚è¦åˆ¤æ–­ä½™æ•°ï¼Œå°±è®°å½•ä½™æ•°å‡ºç°çš„æ¬¡æ•°
        }
        return ret;
    }
};
```

**æäº¤ç»“æœï¼š** AC âœ…

---

**â“ æˆ‘çš„ç†è§£ï¼ˆç»è¿‡æ€è€ƒåï¼‰ï¼š**

**æ ¸å¿ƒç†è§£ï¼š**
1. **hash[x] = y çš„å«ä¹‰ï¼š** å€¼ä¸ºxçš„å‰ç¼€å’Œå‡ºç°äº†yæ¬¡
2. **ä¸ºä»€ä¹ˆæŸ¥ `hash[sum - k]`ï¼š**
   - å½“å‰ä½ç½®içš„å‰ç¼€å’Œæ˜¯ sum
   - è¦æ‰¾å’Œä¸ºkçš„å­æ•°ç»„
   - å¦‚æœä¹‹å‰ä½ç½®jçš„å‰ç¼€å’Œæ˜¯ sum - k
   - é‚£ä¹ˆä»j+1åˆ°içš„å’Œ = sum - (sum - k) = k âœ…
3. **sumä¸æ–­å³ç§»ï¼Œä¸æ–­ç´¯åŠ ï¼Œæ¯æ¬¡éƒ½æ˜¯æ–°çš„å‰ç¼€å’Œ**
4. **hashé‡Œå­˜çš„æ˜¯å†å²æ‰€æœ‰å‰ç¼€å’ŒåŠå…¶å‡ºç°æ¬¡æ•°**

---

**ğŸ’¡ æ•™ç»ƒè¯¦ç»†è®²è§£ï¼ˆASCIIå›¾è§£ç‰ˆï¼‰ï¼š**

**å®Œæ•´æµç¨‹å›¾ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¼€å§‹ç®—æ³•                                  â”‚
â”‚  åˆå§‹åŒ–: hash = {0: 1},  sum = 0,  ret = 0                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´  x      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  sum += x                   â”‚
         â”‚  (è®¡ç®—å½“å‰å‰ç¼€å’Œ)            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  æŸ¥æ‰¾ hash[sum - k]         â”‚
         â”‚  æ˜¯å¦å­˜åœ¨?                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚
          å­˜åœ¨  â”‚             â”‚  ä¸å­˜åœ¨
                â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ret += hash  â”‚    â”‚  ä»€ä¹ˆéƒ½  â”‚
    â”‚  [sum - k]   â”‚    â”‚  ä¸åš    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
           â”‚                  â”‚
           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  hash[sum]++                â”‚
         â”‚  (è®°å½•å½“å‰å‰ç¼€å’Œå‡ºç°æ¬¡æ•°)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ å—?           â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          æœ‰    â”‚             â”‚  æ²¡æœ‰
                â”‚             â”‚
                â–¼             â–¼
         (å›åˆ°éå†)    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ è¿”å› ret â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**å…·ä½“ä¾‹å­æ¼”ç¤ºï¼šnums = [1, 2, 3], k = 3**

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
åˆå§‹çŠ¶æ€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
hash = {0: 1}    sum = 0    ret = 0

è¯´æ˜: hash[0]=1 è¡¨ç¤º"è™šæ‹Ÿèµ·ç‚¹"çš„å‰ç¼€å’Œæ˜¯0


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬1è½®: éå† x = 1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â‘  sum = 0 + 1 = 1     (ç°åœ¨çš„å‰ç¼€å’Œ)

â‘¡ æŸ¥æ‰¾ hash[1 - 3] = hash[-2] ?
   âŒ ä¸å­˜åœ¨ï¼Œè·³è¿‡

â‘¢ hash[1] = 1         (è®°å½•å‰ç¼€å’Œ1å‡ºç°è¿‡)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å½“å‰çŠ¶æ€:
hash = {0: 1, 1: 1}
sum = 1
ret = 0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬2è½®: éå† x = 2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â‘  sum = 1 + 2 = 3     (ç°åœ¨çš„å‰ç¼€å’Œ)

â‘¡ æŸ¥æ‰¾ hash[3 - 3] = hash[0] ?
   âœ… å­˜åœ¨! hash[0] = 1
   
   å«ä¹‰: ä¹‹å‰æœ‰1ä¸ªä½ç½®çš„å‰ç¼€å’Œæ˜¯0
         ä»é‚£ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªåˆ°ç°åœ¨ï¼Œå’Œä¸º3
         å°±æ˜¯å­æ•°ç»„ [1, 2]
   
   ret += 1  â†’  ret = 1

â‘¢ hash[3] = 1         (è®°å½•å‰ç¼€å’Œ3å‡ºç°è¿‡)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å½“å‰çŠ¶æ€:
hash = {0: 1, 1: 1, 3: 1}
sum = 3
ret = 1  â† æ‰¾åˆ°1ä¸ªå­æ•°ç»„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬3è½®: éå† x = 3
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â‘  sum = 3 + 3 = 6     (ç°åœ¨çš„å‰ç¼€å’Œ)

â‘¡ æŸ¥æ‰¾ hash[6 - 3] = hash[3] ?
   âœ… å­˜åœ¨! hash[3] = 1
   
   å«ä¹‰: ä¹‹å‰æœ‰1ä¸ªä½ç½®çš„å‰ç¼€å’Œæ˜¯3
         ä»é‚£ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªåˆ°ç°åœ¨ï¼Œå’Œä¸º3
         å°±æ˜¯å­æ•°ç»„ [3]
   
   ret += 1  â†’  ret = 2

â‘¢ hash[6] = 1         (è®°å½•å‰ç¼€å’Œ6å‡ºç°è¿‡)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æœ€ç»ˆçŠ¶æ€:
hash = {0: 1, 1: 1, 3: 1, 6: 1}
sum = 6
ret = 2  â† æ‰¾åˆ°2ä¸ªå­æ•°ç»„: [1,2] å’Œ [3]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
è¿”å›ç»“æœ: 2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**å“ˆå¸Œè¡¨å˜åŒ–å›¾ï¼š**

```
éå†è¿‡ç¨‹ä¸­ hash çš„å˜åŒ–:

åˆå§‹:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 0  â”‚ 1  â”‚  â† hash[0] = 1
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

éå† x=1 å:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 0  â”‚ 1  â”‚  â”‚ 1  â”‚ 1  â”‚  â† æ–°å¢ hash[1] = 1
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

éå† x=2 å:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 0  â”‚ 1  â”‚  â”‚ 1  â”‚ 1  â”‚  â”‚ 3  â”‚ 1  â”‚  â† æ–°å¢ hash[3] = 1
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
                                â†‘
                          æŸ¥åˆ°äº†! ret += 1

éå† x=3 å:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 0  â”‚ 1  â”‚  â”‚ 1  â”‚ 1  â”‚  â”‚ 3  â”‚ 1  â”‚  â”‚ 6  â”‚ 1  â”‚  â† æ–°å¢
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
                              â†‘
                        åˆæŸ¥åˆ°äº†! ret += 1
```

---

**å‰ç¼€å’Œçš„å·®å€¼å›¾è§£ï¼š**

```
æ•°ç»„:     [1,    2,    3]
ä¸‹æ ‡:      0     1     2

å‰ç¼€å’Œ:    1     3     6
          â†‘     â†‘     â†‘
          â”‚     â”‚     â”‚
        åªæœ‰1  1+2  1+2+3


è¦æ‰¾å’Œä¸º3çš„å­æ•°ç»„:

æƒ…å†µ1: å­æ•°ç»„ [1, 2]
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    1  2 â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      å‰ç¼€å’Œ[1] - å‰ç¼€å’Œ[-1] = 3 - 0 = 3 âœ…
      (å‰ç¼€å’Œ[-1]å°±æ˜¯hash[0]=1)

æƒ…å†µ2: å­æ•°ç»„ [3]
             â”Œâ”€â”€â”€â”
             â”‚ 3 â”‚
             â””â”€â”€â”€â”˜
      å‰ç¼€å’Œ[2] - å‰ç¼€å’Œ[1] = 6 - 3 = 3 âœ…
```

---

**ä¸ºä»€ä¹ˆè¦åŠ  hash[sum - k] çš„å€¼ï¼Ÿ**

```
ä¾‹å­: nums = [1, -1, 1, -1], k = 0

éå†åˆ°æœ€å:
sum = 0

æŸ¥æ‰¾ hash[0 - 0] = hash[0] = ?

hash[0] å¯èƒ½ç­‰äº 3 (å‡ºç°äº†3æ¬¡)

æ„æ€æ˜¯: æœ‰3ä¸ªä½ç½®çš„å‰ç¼€å’Œæ˜¯0
        ä»è¿™3ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªåˆ°ç°åœ¨
        æœ‰3ä¸ªå­æ•°ç»„çš„å’Œéƒ½æ˜¯0

æ‰€ä»¥: ret += 3  (ä¸æ˜¯ ret += 1)
```

---

**å…³é”®ç‚¹æ€»ç»“ï¼š**
1. **`hash[0] = 1` çš„å«ä¹‰ï¼š** è¡¨ç¤º"ä»æ•°ç»„å¼€å¤´"è¿™ä¸ªè™šæ‹Ÿä½ç½®ï¼Œç”¨äºæ‰¾ä»å¤´å¼€å§‹çš„å­æ•°ç»„
2. **`hash[å‰ç¼€å’Œ] = æ¬¡æ•°`ï¼š** è®°å½•æ¯ä¸ªå‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
3. **æŸ¥æ‰¾ `hash[sum - k]`ï¼š** å› ä¸º `sum - (sum - k) = k`ï¼Œæ‰¾åˆ°ä¹‹å‰çš„å‰ç¼€å’Œå°±èƒ½ç¡®å®šå­æ•°ç»„
4. **`ret += hash[sum - k]`ï¼š** æœ‰å¤šå°‘ä¸ªå†å²å‰ç¼€å’Œç­‰äº`sum-k`ï¼Œå°±æœ‰å¤šå°‘ä¸ªå’Œä¸ºkçš„å­æ•°ç»„

---

**æ­£ç¡®ä»£ç ï¼š**
```cpp
// ä½ çš„ä»£ç æ˜¯å¯¹çš„ï¼âœ…
```

---

**å¤æ‚åº¦åˆ†æï¼š**
- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n) - ä¸€æ¬¡éå†
- **ç©ºé—´å¤æ‚åº¦ï¼š** O(n) - å“ˆå¸Œè¡¨æœ€å¤šå­˜nä¸ªå‰ç¼€å’Œ

---

**æˆ‘çš„æ”¶è·ï¼š**
1. å‰ç¼€å’Œ+å“ˆå¸Œè¡¨çš„æ ¸å¿ƒï¼š`sum[i] - sum[j] = k` è½¬æ¢ä¸º `sum[j] = sum[i] - k`
2. `hash[0] = 1` ç”¨äºå¤„ç†ä»å¤´å¼€å§‹çš„å­æ•°ç»„
3. å“ˆå¸Œè¡¨è®°å½•**æ¬¡æ•°**ï¼Œå› ä¸ºå¯èƒ½æœ‰å¤šä¸ªä½ç½®çš„å‰ç¼€å’Œç›¸åŒ




---

### ç¬¬4é¢˜ï¼šå’Œå¯è¢«Kæ•´é™¤çš„å­æ•°ç»„ï¼ˆLeetCode 974ï¼‰

**é¢˜ç›®æè¿°ï¼š**
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¿”å›å…¶ä¸­å…ƒç´ ä¹‹å’Œå¯è¢« `k` æ•´é™¤çš„éç©º **å­æ•°ç»„** çš„æ•°ç›®ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­ **è¿ç»­** çš„éƒ¨åˆ†ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼šnums = [4,5,0,-2,-3,1], k = 5
è¾“å‡ºï¼š7
è§£é‡Šï¼šæœ‰ 7 ä¸ªå­æ•°ç»„æ»¡è¶³å…¶å…ƒç´ ä¹‹å’Œå¯è¢« k = 5 æ•´é™¤ï¼š
[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]

è¾“å…¥: nums = [5], k = 9
è¾“å‡º: 0
```

**æç¤ºï¼š**
- `1 <= nums.length <= 3 * 10^4`
- `-10^4 <= nums[i] <= 10^4`
- `2 <= k <= 10^4`

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/subarray-sums-divisible-by-k/

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬30é¢˜

**æ€è·¯æç¤ºï¼š**
- ç±»ä¼¼ "å’Œä¸ºkçš„å­æ•°ç»„"ï¼Œä½†è¿™é‡Œæ˜¯ **æ•´é™¤k**
- å¦‚æœ `(sum[i] - sum[j]) % k == 0`ï¼Œåˆ™ `sum[i] % k == sum[j] % k`
- ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ª **ä½™æ•°** å‡ºç°çš„æ¬¡æ•°
- **æ³¨æ„å¤„ç†è´Ÿæ•°å–æ¨¡ï¼** C++ä¸­è´Ÿæ•°å–æ¨¡ç»“æœå¯èƒ½æ˜¯è´Ÿæ•°

---

**æˆ‘çš„æ€è·¯ï¼š**




---

**æˆ‘çš„ä»£ç ï¼š**
```cpp
// åœ¨è¿™é‡Œå†™ä½ çš„ä»£ç 
class Solution {
public:
    int subarraysDivByK(vector<int>& nums, int k) {
         unordered_map<int,int> hash; // ç»Ÿè®¡å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
        hash[0] = 1;
        int sum = 0, ret = 0;
        for(auto x: nums) {
            sum += x; // è®¡ç®—å½“å‰ä½ç½®çš„å‰ç¼€å’Œ
            for(int i = 1; i*k < sum ;i++)
            if(hash.count(sum - k*i)) ret += hash[sum - k]; // ç»Ÿè®¡ä¸ªæ•°ï¼Œçœ‹æœ‰æ²¡æœ‰æ»¡è¶³æ­¤æ—¶å‰ç¼€å’Œä¸ºsum - kçš„å€æ•°çš„å‰ç¼€å’Œå­˜åœ¨ä¸å¦
            hash[sum]++;
        }
        return ret;
    }
};
```

**æäº¤ç»“æœï¼š**


---

**æäº¤ç»“æœï¼š** âŒ WA (21/76)
- è¾“å…¥ï¼š`nums = [4,5,0,-2,-3,1], k = 5`
- æˆ‘çš„è¾“å‡ºï¼š`2`
- é¢„æœŸç»“æœï¼š`7`

---

**âŒ æˆ‘çš„é”™è¯¯æ€è·¯ï¼š**

æˆ‘ä¸€å¼€å§‹æƒ³ç”¨å¾ªç¯æŸ¥æ‰¾ `sum - k`, `sum - 2k`, `sum - 3k`...

**é—®é¢˜åœ¨å“ªï¼š**
1. âŒ å¾ªç¯æ¡ä»¶ `i*k < sum` ä¸å¯¹ï¼Œå› ä¸ºsumå¯èƒ½æ˜¯**è´Ÿæ•°**
2. âŒ å³ä½¿æ”¹å¯¹ï¼Œè¿™æ ·åšä¼š**æ¼æ‰å¾ˆå¤šæƒ…å†µ**ï¼ˆåªæ£€æŸ¥äº†ä¸€éƒ¨åˆ†å¯èƒ½ï¼‰
3. âŒ æ—¶é—´å¤æ‚åº¦å˜æˆ O(nÂ²)

**ä¸ºä»€ä¹ˆè¿™ä¸ªæ€è·¯ä¸è¡Œï¼š**
```
ä¾‹å¦‚: sum = 14, k = 5
æˆ‘ä¼šæŸ¥æ‰¾: hash[14-5=9], hash[14-10=4]

ä½†å®é™…ä¸Šï¼Œå¦‚æœä¹‹å‰æœ‰å‰ç¼€å’Œæ˜¯4æˆ–9æˆ–14æˆ–19...
åªè¦å®ƒä»¬ mod 5 çš„ä½™æ•°å’Œ14ä¸€æ ·ï¼Œéƒ½åº”è¯¥ç»Ÿè®¡ï¼

æˆ‘çš„æ–¹æ³•æ¼æ‰äº†å¾ˆå¤šæƒ…å†µ
```

---

**âœ… æ­£ç¡®æ€è·¯ï¼šç”¨"ä½™æ•°"ä»£æ›¿å‰ç¼€å’Œï¼**

**æ ¸å¿ƒè½¬æ¢ï¼š**
```
é—®é¢˜: æ‰¾å’Œèƒ½è¢«kæ•´é™¤çš„å­æ•°ç»„

å¦‚æœå­æ•°ç»„[i, j]çš„å’Œèƒ½è¢«kæ•´é™¤:
  (sum[j] - sum[i]) % k == 0
  
ç­‰ä»·äº:
  sum[j] % k == sum[i] % k
  
ä¹Ÿå°±æ˜¯: ä¸¤ä¸ªå‰ç¼€å’Œçš„ä½™æ•°ç›¸åŒï¼
```

**æ•°å­¦åŸç†ï¼š**
```
å‡è®¾:
  sum[j] = a*k + r  (ä½™æ•°æ˜¯r)
  sum[i] = b*k + r  (ä½™æ•°ä¹Ÿæ˜¯r)

é‚£ä¹ˆ:
  sum[j] - sum[i] = (a*k + r) - (b*k + r)
                  = (a - b) * k
                  
  âœ… èƒ½è¢«kæ•´é™¤ï¼
```

**å…·ä½“ä¾‹å­ï¼šnums = [4, 5, 0, -2, -3, 1], k = 5**

```
ä½ç½®   nums  å‰ç¼€å’Œ  ä½™æ•°(mod 5)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
-1     -      0       0      â† è™šæ‹Ÿèµ·ç‚¹
 0      4      4       4
 1      5      9       4      â† ä½™æ•°å’Œä½ç½®0ç›¸åŒï¼
 2      0      9       4      â† ä½™æ•°å’Œä½ç½®0,1ç›¸åŒï¼
 3     -2      7       2
 4     -3      4       4      â† ä½™æ•°å’Œä½ç½®0,1,2ç›¸åŒï¼
 5      1      5       0      â† ä½™æ•°å’Œèµ·ç‚¹ç›¸åŒï¼

ä½™æ•°0: 2ä¸ªä½ç½®(èµ·ç‚¹, ä½ç½®5)  â†’ 1ä¸ªå­æ•°ç»„
ä½™æ•°4: 4ä¸ªä½ç½®(0,1,2,4)     â†’ 6ä¸ªå­æ•°ç»„
ä½™æ•°2: 1ä¸ªä½ç½®              â†’ 0ä¸ªå­æ•°ç»„

æ€»å…±: 1 + 6 = 7 âœ…
```

**ä¸ºä»€ä¹ˆ4ä¸ªä½ç½®èƒ½ç»„æˆ6ä¸ªå­æ•°ç»„ï¼Ÿ**
```
ä½ç½®0,1,2,4 çš„ä½™æ•°éƒ½æ˜¯4

ä»»æ„ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„å­æ•°ç»„éƒ½æ»¡è¶³æ¡ä»¶:
  [5]         (ä½ç½®0åˆ°1)
  [5,0]       (ä½ç½®0åˆ°2)
  [5,0,-2,-3] (ä½ç½®0åˆ°4)
  [0]         (ä½ç½®1åˆ°2)
  [0,-2,-3]   (ä½ç½®1åˆ°4)
  [-2,-3]     (ä½ç½®2åˆ°4)
  
ç»„åˆæ•° = C(4,2) = 6
```

---

**æ­£ç¡®ä»£ç ï¼š**
```cpp
class Solution {
public:
    int subarraysDivByK(vector<int>& nums, int k) {
        unordered_map<int,int> hash; // ç»Ÿè®¡ä½™æ•°å‡ºç°çš„æ¬¡æ•°
        hash[0] = 1;  // è™šæ‹Ÿèµ·ç‚¹çš„ä½™æ•°æ˜¯0
        int sum = 0, ret = 0;
        
        for(auto x: nums) {
            sum += x;  // è®¡ç®—å‰ç¼€å’Œ
            
            int r = (sum % k + k) % k;  // âš ï¸ å¤„ç†è´Ÿæ•°çš„ä½™æ•°
            
            if(hash.count(r)) {
                ret += hash[r];  // æœ‰å¤šå°‘ä¸ªç›¸åŒä½™æ•°ï¼Œå°±æœ‰å¤šå°‘ä¸ªå­æ•°ç»„
            }
            hash[r]++;  // è®°å½•è¿™ä¸ªä½™æ•°å‡ºç°è¿‡
        }
        
        return ret;
    }
};
```

**âš ï¸ å…³é”®ç‚¹ï¼šä¸ºä»€ä¹ˆè¦ `(sum % k + k) % k`ï¼Ÿ**
```
å¤„ç†è´Ÿæ•°ä½™æ•°ï¼š

C++ ä¸­ï¼š
  -3 % 5 = -3  (è´Ÿæ•°ï¼)
  
ä½†æˆ‘ä»¬éœ€è¦æ­£æ•°ä½™æ•°ï¼š
  -3 % 5 åº”è¯¥ç­‰äº 2
  
æ‰€ä»¥ï¼š
  (-3 % 5 + 5) % 5 = (-3 + 5) % 5 = 2 âœ…
  
é€šç”¨å…¬å¼ï¼š
  (sum % k + k) % k  â†’ ä¿è¯ä½™æ•°æ˜¯æ­£æ•°
```

---

**å¤æ‚åº¦åˆ†æï¼š**
- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n) - éå†ä¸€éæ•°ç»„
- **ç©ºé—´å¤æ‚åº¦ï¼š** O(k) - å“ˆå¸Œè¡¨æœ€å¤šå­˜kä¸ªä¸åŒçš„ä½™æ•°

---

**æˆ‘çš„æ”¶è·ï¼š**
1. **æ€ç»´è½¬æ¢ï¼š** "æ•´é™¤k" â†’ "ä½™æ•°ç›¸åŒ"
2. **å’Œç¬¬3é¢˜çš„åŒºåˆ«ï¼š** ç¬¬3é¢˜æŸ¥æ‰¾çš„æ˜¯å‰ç¼€å’Œï¼Œè¿™é¢˜æŸ¥æ‰¾çš„æ˜¯ä½™æ•°
3. **è´Ÿæ•°å–æ¨¡é™·é˜±ï¼š** C++ä¸­è´Ÿæ•°å–æ¨¡ç»“æœå¯èƒ½æ˜¯è´Ÿæ•°ï¼Œéœ€è¦ `(x % k + k) % k` å¤„ç†
4. **æœ¬è´¨ç›¸åŒï¼š** å’Œç¬¬3é¢˜ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨å“ˆå¸Œè¡¨è®°å½•å†å²çŠ¶æ€ï¼ŒæŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„ç»„åˆ




---

### ç¬¬5é¢˜ï¼šè¿ç»­æ•°ç»„ï¼ˆLeetCode 525ï¼‰

**é¢˜ç›®æè¿°ï¼š**
ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `nums` , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ `0` å’Œ `1` çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥: nums = [0,1]
è¾“å‡º: 2
è¯´æ˜: [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚

è¾“å…¥: nums = [0,1,0]
è¾“å‡º: 2
è¯´æ˜: [0, 1] (æˆ– [1, 0]) æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚
```

**æç¤ºï¼š**
- `1 <= nums.length <= 10^5`
- `nums[i]` ä¸æ˜¯ `0` å°±æ˜¯ `1`

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/contiguous-array/

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬31é¢˜

**æ€è·¯æç¤ºï¼š**
- **æ€ç»´è½¬æ¢ï¼** æŠŠ `0` çœ‹ä½œ `-1`ï¼Œé—®é¢˜å˜æˆï¼šæ‰¾å’Œä¸º `0` çš„æœ€é•¿å­æ•°ç»„
- å¦‚æœ `sum[i] == sum[j]`ï¼Œåˆ™ `[j+1, i]` åŒºé—´çš„å’Œä¸º 0
- ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªå‰ç¼€å’Œ **ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®**
- éå†æ—¶ï¼ŒæŸ¥æ‰¾å½“å‰å‰ç¼€å’Œåœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®ï¼Œæ›´æ–°æœ€å¤§é•¿åº¦

---

**æˆ‘çš„æ€è·¯ï¼š**




---

**æˆ‘çš„ä»£ç ï¼š**
```cpp
// åœ¨è¿™é‡Œå†™ä½ çš„ä»£ç 
```

**æäº¤ç»“æœï¼š**


---

**æˆ‘çš„é”™è¯¯ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š**




---

**æ­£ç¡®ä»£ç ï¼š**
```cpp
// ACä»£ç 
```

---

**å¤æ‚åº¦åˆ†æï¼š**
- **æ—¶é—´å¤æ‚åº¦ï¼š** 
- **ç©ºé—´å¤æ‚åº¦ï¼š** 

---

**æˆ‘çš„æ”¶è·ï¼š**




---

## ğŸ“Š ä»Šæ—¥å®Œæˆæƒ…å†µ

| é¢˜ç›® | çŠ¶æ€ | ç”¨æ—¶ | é”™è¯¯æ¬¡æ•° | å…³é”®æ”¶è· |
|------|------|------|----------|----------|
| å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ | âœ… AC | çº¦15åˆ†é’Ÿ | 0 | å‰ç¼€å’ŒåŸºç¡€åº”ç”¨ |
| é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ | âœ… AC | çº¦20åˆ†é’Ÿ | 0 | å‰åç¼€å’Œåˆ†å¼€å¤„ç† |
| å’Œä¸ºkçš„å­æ•°ç»„ | âœ… AC | çº¦1å°æ—¶ | ç†è§£å›°éš¾ | å‰ç¼€å’Œ+å“ˆå¸Œè¡¨æ ¸å¿ƒæ€æƒ³ |
| å’Œå¯è¢«Kæ•´é™¤çš„å­æ•°ç»„ | âŒ æœªå®Œæˆ | çº¦30åˆ†é’Ÿ | 1æ¬¡WA | ä½™æ•°æ€æƒ³ï¼Œè´Ÿæ•°å–æ¨¡é™·é˜± |
| è¿ç»­æ•°ç»„ | â¸ï¸ æœªå¼€å§‹ | - | - | - |

---

## ğŸ’¡ ä»Šæ—¥æ€»ç»“

**ä»Šå¤©å®Œæˆé¢˜æ•°ï¼š** 3/5 (ç¬¬4é¢˜ç†è§£æ€è·¯ä½†æœªAC)

**ç´¯è®¡å®Œæˆï¼š** 17é¢˜ â†’ 20é¢˜

**ç”¨æ—¶ï¼š** çº¦3å°æ—¶

**ä»Šå¤©çš„å…³é”®æ”¶è·ï¼š**
1. **å‰ç¼€å’Œ+å“ˆå¸Œè¡¨çš„æ ¸å¿ƒæ€æƒ³ï¼š** ç”¨å“ˆå¸Œè¡¨è®°å½•å†å²å‰ç¼€å’Œï¼ŒæŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„ç»„åˆ
2. **"å’Œä¸ºk"é—®é¢˜æ¨¡æ¿ï¼š** `hash[sum-k]` è¡¨ç¤ºä¹‹å‰æœ‰å¤šå°‘ä¸ªå‰ç¼€å’Œèƒ½å’Œå½“å‰å‰ç¼€å’Œç»„æˆå’Œä¸ºkçš„å­æ•°ç»„
3. **`ret += hash[sum-k]` ä¸æ˜¯é‡å¤ï¼š** æœ‰å¤šå°‘ä¸ªå†å²å‰ç¼€å’Œæ»¡è¶³æ¡ä»¶ï¼Œå°±æœ‰å¤šå°‘ä¸ªå­æ•°ç»„
4. **æ€ç»´è½¬æ¢ï¼š** "æ•´é™¤k" â†’ "ä½™æ•°ç›¸åŒ"ï¼ŒæŠŠå¤æ‚é—®é¢˜è½¬åŒ–æˆå‰ç¼€å’Œé—®é¢˜
5. **è´Ÿæ•°å–æ¨¡é™·é˜±ï¼š** C++ä¸­è´Ÿæ•°å–æ¨¡å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œéœ€è¦ `(sum % k + k) % k` å¤„ç†

**æˆ‘é‡åˆ°çš„é—®é¢˜ï¼š**
1. **ç¬¬3é¢˜ç†è§£å›°éš¾ï¼š** èŠ±äº†å¾ˆä¹…æ‰ç†è§£ä¸ºä»€ä¹ˆ `sum` ä¸æ–­ç´¯åŠ å°±æ˜¯å‰ç¼€å’Œï¼Œä»¥åŠä¸ºä»€ä¹ˆ `ret += hash[sum-k]` ä¸ä¼šé‡å¤ç»Ÿè®¡
2. **ç¬¬4é¢˜æ€è·¯é”™è¯¯ï¼š** ä¸€å¼€å§‹æƒ³ç”¨å¾ªç¯æŸ¥æ‰¾kçš„å€æ•°ï¼Œæ²¡æƒ³åˆ°ç”¨ä½™æ•°
3. **æ¦‚å¿µæ··æ·†ï¼š** æŠŠå‰ç¼€å’Œæ•°ç»„å’Œæ»šåŠ¨çš„sumå˜é‡ææ··äº†

**å‰ç¼€å’Œçš„æ ¸å¿ƒå¥—è·¯ï¼š**
1. **åŸºç¡€å‰ç¼€å’Œï¼š** `dp[i] = dp[i-1] + arr[i]`ï¼Œç”¨äºå¿«é€Ÿæ±‚åŒºé—´å’Œ
2. **å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ï¼š** ç”¨å“ˆå¸Œè¡¨è®°å½•å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°æˆ–ä½ç½®ï¼Œæ ¸å¿ƒï¼š`hash[sum-k]` æˆ– `hash[sum%k]`
3. **æ€ç»´è½¬æ¢ï¼š** æŠŠå¤æ‚é—®é¢˜è½¬æ¢æˆå‰ç¼€å’Œé—®é¢˜ï¼ˆå¦‚"æ•´é™¤k" â†’ "ä½™æ•°ç›¸åŒ"ï¼‰
4. **å–æ¨¡æŠ€å·§ï¼š** å¤„ç†æ•´é™¤é—®é¢˜æ—¶ï¼Œç”¨ä½™æ•°ä»£æ›¿å‰ç¼€å’Œï¼Œæ³¨æ„è´Ÿæ•°å–æ¨¡ï¼š`(x % k + k) % k`
5. **`hash[0] = 1` çš„å«ä¹‰ï¼š** è¡¨ç¤ºè™šæ‹Ÿèµ·ç‚¹ï¼Œç”¨äºæ‰¾ä»æ•°ç»„å¼€å¤´å¼€å§‹çš„å­æ•°ç»„

**æ˜å¤©çš„ç›®æ ‡ï¼š**
- å®Œæˆç¬¬4ã€5é¢˜
- ç»§ç»­ç®—æ³•ç²¾å“è¯¾1çš„å…¶ä»–å†…å®¹

---

**å­¦ä¹ è¿›åº¦ï¼š** Day07/150 âœ…
