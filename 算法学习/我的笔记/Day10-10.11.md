# Day10 - 10æœˆ11æ—¥å­¦ä¹ ç¬”è®°

**å¼€å§‹æ—¶é—´ï¼š** 2025å¹´10æœˆ11æ—¥  
**ä»Šæ—¥ä¸“é¢˜ï¼š** æµ‹è¯•æ˜¨å¤©é—ç•™é¢˜ç›® + å®ŒæˆäºŒç»´å‰ç¼€å’Œ

## ğŸ“ å¿«é€Ÿå›é¡¾ Day09 å…³é”®ç‚¹ï¼ˆ5åˆ†é’Ÿï¼‰

### æ˜¨å¤©å®Œæˆæƒ…å†µï¼ˆDay09 - 10.10ï¼‰ï¼š
- âœ… æœç´¢æ’å…¥ä½ç½®ï¼ˆLeetCode 35ï¼‰- WAâ†’ACï¼ˆææ··äº†leftå’Œmidï¼‰
- âœ… xçš„å¹³æ–¹æ ¹ï¼ˆLeetCode 69ï¼‰- Runtime Errorâ†’ACï¼ˆç±»å‹è½¬æ¢é™·é˜±ï¼‰
- **ç´¯è®¡å®Œæˆï¼š** 28é¢˜

### æ˜¨å¤©å­¦åˆ°çš„æ ¸å¿ƒçŸ¥è¯†ï¼š
1. **ç±»å‹è½¬æ¢é™·é˜±ï¼š**
   ```cpp
   long long mid = left + (right - left + 1) / 2;  // âŒ å³è¾¹è¿˜æ˜¯int
   long long mid = left + ((long long)right - left + 1) / 2;  // âœ…
   ```

2. **äºŒåˆ†æŸ¥æ‰¾åˆ¤æ–­æ°¸è¿œæ˜¯ `nums[mid]`ï¼š**
   - ä¸æ˜¯ `nums[left]`ï¼Œä¸æ˜¯ `nums[right]`
   - `left`ã€`right` æ˜¯è¾¹ç•Œï¼Œ`mid` æ˜¯ä¸­é—´ä½ç½®

### å¾…å®Œæˆä»»åŠ¡ï¼š
- â¸ï¸ Day08ç¬¬3é¢˜ï¼šæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼ˆLeetCode 34ï¼‰- ä»£ç å·²å†™ï¼Œå¾…æµ‹è¯•
- â¸ï¸ äºŒç»´å‰ç¼€å’Œæ¨¡æ¿ï¼ˆæ¯”ç‰¹è¯¾ç¨‹ç¬¬26é¢˜ï¼‰
- â¸ï¸ çŸ©é˜µåŒºåŸŸå’Œï¼ˆLeetCode 1314ï¼Œæ¯”ç‰¹è¯¾ç¨‹ç¬¬32é¢˜ï¼‰

---

## ğŸ¯ ä»Šæ—¥ä»»åŠ¡

### ä¸Šåˆä»»åŠ¡ï¼ˆ8:30-10:30ï¼Œ2å°æ—¶ï¼‰

#### âœ… ç¬¬ä¸€ä»¶äº‹ï¼šæµ‹è¯•Day08ç¬¬3é¢˜ï¼ˆ15åˆ†é’Ÿï¼‰

**ç¬¬1é¢˜ï¼šåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼ˆLeetCode 34ï¼‰**

**Day08å†™çš„ä»£ç ï¼š**
```cpp
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        if(nums.size() == 0) return {-1,-1};
        int leftval = 0, rightval = 0;
        int left = 0, right = nums.size() - 1;
        
        // å¤„ç†å·¦ç«¯ç‚¹
        while(left < right) {
            int mid = left + (right - left) / 2;
            if(nums[mid] < target) left = mid + 1;
            else right = mid;
        }
        if(nums[left] != target) return{-1,-1};
        else leftval = left;
        
        // å¤„ç†å³ç«¯ç‚¹
        left = 0, right = nums.size() - 1;
        while(left < right) {
            int mid = left + (right - left + 1) / 2;
            if(nums[mid] <= target) left = mid;
            else right = mid - 1;
        }
        if(nums[left] != target) return{-1,-1};
        else rightval = right;  // â† æ•™ç»ƒæç¤ºï¼šå¯èƒ½æœ‰bugï¼Œåº”è¯¥æ˜¯left
        
        return {leftval, rightval};
    }
};
```

**ä»»åŠ¡ï¼š**
1. æäº¤æµ‹è¯•
2. å¦‚æœæœ‰é”™è¯¯ï¼Œä¿®æ­£ï¼ˆå¯èƒ½æ˜¯ `rightval = right` åº”è¯¥æ”¹æˆ `rightval = left`ï¼‰
3. ACåè®°å½•åˆ°ç¬”è®°

---

**æˆ‘çš„æ€è·¯ï¼š**




---

**æˆ‘çš„ä»£ç ï¼ˆå¦‚æœéœ€è¦ä¿®æ”¹ï¼‰ï¼š**
```cpp

```

**æäº¤ç»“æœï¼š**
âœ… ACï¼æ•™ç»ƒæç¤ºæ­£ç¡®ï¼Œç¡®å®æ˜¯ `rightval = right` åº”è¯¥æ”¹æˆ `rightval = left`


---

**æˆ‘çš„æ”¶è·ï¼š**

äºŒåˆ†æŸ¥æ‰¾æ‰¾å³è¾¹ç•Œæ—¶ï¼Œå¾ªç¯ç»“æŸå `left == right`ï¼Œæ‰€ä»¥åº”è¯¥ç”¨ `left` è€Œä¸æ˜¯ `right`ã€‚è¿™æ˜¯ä¸ªå®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚ï¼


---

#### ç¬¬2é¢˜ï¼šã€æ¨¡æ¿ã€‘äºŒç»´å‰ç¼€å’Œï¼ˆæ¯”ç‰¹è¯¾ç¨‹ç¬¬26é¢˜ï¼‰

**é¢˜ç›®è¯´æ˜ï¼š**
- è¿™æ˜¯æ¯”ç‰¹è¯¾ç¨‹çš„æ¨¡æ¿é¢˜
- ç†è§£äºŒç»´å‰ç¼€å’Œçš„æ¦‚å¿µå’Œå…¬å¼

**äºŒç»´å‰ç¼€å’Œæ ¸å¿ƒå…¬å¼ï¼š**

**1. é¢„å¤„ç†å‰ç¼€å’ŒçŸ©é˜µï¼š**
```
sum[i][j] = çŸ©é˜µ [0,0] åˆ° [i,j] åŒºåŸŸçš„å’Œ

é€’æ¨å…¬å¼ï¼š
sum[i][j] = sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1] + mat[i][j]

å›¾è§£ï¼š
  +-------+---+
  |       | â†‘ |
  | [i-1] | j |
  |  [j]  |   |
  +-------+---+
  | â† i   |å½“å‰|
  +-------+[i,j]

sum[i,j] = ä¸Šé¢çŸ©å½¢ + å·¦è¾¹çŸ©å½¢ - é‡å¤éƒ¨åˆ† + å½“å‰å…ƒç´ 
```

**2. ä½¿ç”¨å‰ç¼€å’ŒçŸ©é˜µæ±‚åŒºåŸŸå’Œï¼š**
```
æ±‚ [x1,y1] åˆ° [x2,y2] çš„åŒºåŸŸå’Œï¼š

area = sum[x2][y2] - sum[x1-1][y2] - sum[x2][y1-1] + sum[x1-1][y1-1]

å›¾è§£ï¼š
  +-------+-------+
  |   A   |   B   |
  +-------+-------+
  |   C   | ç›®æ ‡åŒºåŸŸ|
  +-------+-------+

ç›®æ ‡åŒºåŸŸ = å¤§çŸ©å½¢ - ä¸Šæ–¹B - å·¦æ–¹C + å·¦ä¸Šè§’Aï¼ˆå› ä¸ºè¢«å‡äº†ä¸¤æ¬¡ï¼‰
```

**æ¯”ç‰¹è¯¾ç¨‹è®²è§£ï¼š** æ‰“å¼€ `æ¯”ç‰¹è¯¾ç¨‹/ç®—æ³•ç²¾å“è¯¾1.md`ï¼Œç¬¬26é¢˜

**å­¦ä¹ ä»»åŠ¡ï¼š**
1. é˜…è¯»æ¯”ç‰¹è¯¾ç¨‹è®²è§£
2. ç†è§£å…¬å¼å’Œå›¾è§£
3. æ‰‹æ¨ä¸€ä¸ªä¾‹å­

---

**æˆ‘çš„ç†è§£ï¼š**

å…ˆé¢„å¤„ç†å‰ç¼€å’ŒçŸ©é˜µï¼Œç„¶åä½¿ç”¨å‰ç¼€å’ŒçŸ©é˜µæ±‚åŒºåŸŸå’Œã€‚
æ—¶é—´å¤æ‚åº¦å°±æ˜¯å…ˆéå†çŸ©é˜µæ±‚å‰ç¼€å’Œéœ€è¦O(mn)ï¼Œç„¶åæ±‚åŒºåŸŸå’Œéœ€è¦qæ¬¡ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯O(mn+q)ã€‚


---

#### ç¬¬3é¢˜ï¼šçŸ©é˜µåŒºåŸŸå’Œï¼ˆLeetCode 1314ï¼‰â­â­ - è‹æ ¼æ‹‰åº•å¼æ•™å­¦

**é¢˜ç›®æè¿°ï¼š**
ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `mat` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å›ä¸€ä¸ªçŸ©é˜µ `answer` ï¼Œå…¶ä¸­æ¯ä¸ª `answer[i][j]` æ˜¯æ‰€æœ‰æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„å…ƒç´  `mat[r][c]` çš„å’Œï¼š 
- `i - k <= r <= i + k`
- `j - k <= c <= j + k`
- `(r, c)` åœ¨çŸ©é˜µå†…ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼šmat = [[1,2,3],[4,5,6],[7,8,9]], k = 1
è¾“å‡ºï¼š[[12,21,16],[27,45,33],[24,39,28]]
```

**é¢˜ç›®é“¾æ¥ï¼š** https://leetcode.cn/problems/matrix-block-sum/

---

## ğŸ“ æ•™ç»ƒå¸¦ä½ ä¸€æ­¥æ­¥ææ‡‚ï¼ˆè‹æ ¼æ‹‰åº•å¼æ•™å­¦ï¼‰

### ç¬¬ä¸€æ­¥ï¼šç†è§£é¢˜æ„ï¼ˆç”¨æœ€ç®€å•çš„ä¾‹å­ï¼‰

**é—®é¢˜1ï¼šæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªè¶…çº§ç®€å•çš„ä¾‹å­**

å‡è®¾æœ‰çŸ©é˜µï¼š
```
mat = [[1, 2],
       [3, 4]]
k = 1
```

**æé—®ï¼š** `answer[0][0]` åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿï¼ˆä¹Ÿå°±æ˜¯ `mat[0][0]` å‘¨å›´k=1è·ç¦»å†…çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼‰

**æ€è€ƒåŒºåŸŸï¼š**
```
ä½ç½® [0][0] çš„å€¼æ˜¯ 1
å‘¨å›´ k=1 è·ç¦»å†…çš„å…ƒç´ æœ‰å“ªäº›ï¼Ÿ

     j=0  j=1
i=0  [1]  [2]   â† i-k=0-1=-1ï¼ˆè¶Šç•Œï¼‰ï¼Œi+k=0+1=1
i=1  [3]  [4]   
     â†‘    â†‘
   j-k=0  j+k=1
   
æ‰€ä»¥åŒºåŸŸæ˜¯ï¼š[0][0] åˆ° [1][1]
sum = 1 + 2 + 3 + 4 = 10
```

**âœ… å…³é”®å‘ç°ï¼š** æˆ‘ä»¬éœ€è¦è®¡ç®—çš„æ˜¯ä¸€ä¸ª**çŸ©å½¢åŒºåŸŸ**çš„å’Œï¼

---

### ç¬¬äºŒæ­¥ï¼šå›é¡¾ä¸€ç»´å‰ç¼€å’Œçš„ç´¢å¼•æ˜ å°„

**æé—®ï¼š** åœ¨ä¸€ç»´å‰ç¼€å’Œä¸­ï¼Œä¸ºä»€ä¹ˆè¦è®©å‰ç¼€å’Œæ•°ç»„å¤šå¼€ä¸€ä½ï¼Ÿ

**å›å¿†ä¸€ç»´å‰ç¼€å’Œï¼š**
```cpp
åŸæ•°ç»„ï¼š  nums[0]  nums[1]  nums[2]  nums[3]
å‰ç¼€å’Œï¼šdp[0]=0  dp[1]    dp[2]    dp[3]    dp[4]
         â†‘        â†‘        â†‘        â†‘        â†‘
       å“¨å…µä½   åˆ°nums[0] åˆ°nums[1] åˆ°nums[2] åˆ°nums[3]
                 çš„å’Œ      çš„å’Œ      çš„å’Œ      çš„å’Œ
```

**æ ¸å¿ƒè§„åˆ™ï¼š**
- `dp[i]` è¡¨ç¤º `nums[0]` åˆ° `nums[i-1]` çš„å’Œ
- **æ˜ å°„å…³ç³»ï¼š** `dp[i]` å¯¹åº” `nums[i-1]`

**å¥½å¤„ï¼š** æœ‰äº†å“¨å…µä½ `dp[0]=0`ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒå·¦è¾¹ç•Œè¶Šç•Œäº†ï¼

---

### ç¬¬ä¸‰æ­¥ï¼šäºŒç»´å‰ç¼€å’Œçš„ç´¢å¼•æ˜ å°„ï¼ˆæ ¸å¿ƒéš¾ç‚¹ï¼ï¼‰

**äºŒç»´å‰ç¼€å’Œä¹Ÿæ˜¯ä¸€æ ·çš„æ€è·¯ï¼**

```
åŸçŸ©é˜µ matï¼š        å‰ç¼€å’ŒçŸ©é˜µ dpï¼š
                    
  j=0 j=1 j=2         j=0  j=1  j=2  j=3
i=0 [1] [2] [3]    i=0 [0]  [0]  [0]  [0]  â† å“¨å…µè¡Œ
i=1 [4] [5] [6]    i=1 [0]  ...  ...  ...
i=2 [7] [8] [9]    i=2 [0]  ...  ...  ...
                   i=3 [0]  ...  ...  ...
                        â†‘
                     å“¨å…µåˆ—
```

**æ ¸å¿ƒæ˜ å°„å…³ç³»ï¼ˆæ•²é»‘æ¿ï¼ï¼‰ï¼š**
```
dp[i][j] è¡¨ç¤ºåŸçŸ©é˜µä» [0,0] åˆ° [i-1, j-1] çš„åŒºåŸŸå’Œ

ä¹Ÿå°±æ˜¯è¯´ï¼š
- dp[1][1] â†’ mat[0][0] çš„å’Œ
- dp[2][2] â†’ mat[0][0] åˆ° mat[1][1] çš„å’Œ
- dp[3][3] â†’ mat[0][0] åˆ° mat[2][2] çš„å’Œï¼ˆæ•´ä¸ªçŸ©é˜µï¼‰
```

**æé—®ï¼š** å¦‚æœæˆ‘æƒ³æ±‚ `mat[0][0]` åˆ° `mat[1][1]` çš„åŒºåŸŸå’Œï¼Œåº”è¯¥æŸ¥è¯¢ `dp` çš„å“ªä¸ªä½ç½®ï¼Ÿ

**ç­”æ¡ˆï¼š** `dp[2][2]`ï¼ˆå› ä¸º matçš„[1][1] å¯¹åº” dpçš„[2][2]ï¼‰

**è½¬æ¢å…¬å¼ï¼š**
```
mat[i][j] â†” dp[i+1][j+1]

æƒ³æŸ¥ mat çš„ [x1,y1] åˆ° [x2,y2]
å°±æŸ¥ dp çš„ [x1+1, y1+1] åˆ° [x2+1, y2+1]
```

---

### ç¬¬å››æ­¥ï¼šæ‰‹æ¨ç¤ºä¾‹ï¼ˆç†è§£+1çš„å«ä¹‰ï¼‰

ç”¨é¢˜ç›®ç»™çš„ä¾‹å­ï¼š
```
mat = [[1,2,3],
       [4,5,6],
       [7,8,9]]
k = 1

è®¡ç®— answer[0][0]ï¼ˆä¹Ÿå°±æ˜¯mat[0][0]å‘¨å›´k=1çš„åŒºåŸŸå’Œï¼‰
```

**Step 1ï¼šç¡®å®šåŸçŸ©é˜µçš„åŒºåŸŸè¾¹ç•Œ**
```
mat[0][0] å‘¨å›´ k=1 çš„åŒºåŸŸï¼š
- è¡ŒèŒƒå›´ï¼ši-k åˆ° i+k = 0-1 åˆ° 0+1 = -1 åˆ° 1
  ä½†è¦åœ¨çŸ©é˜µå†…ï¼Œæ‰€ä»¥æ˜¯ max(0, -1) åˆ° min(2, 1) = 0 åˆ° 1
  
- åˆ—èŒƒå›´ï¼šj-k åˆ° j+k = 0-1 åˆ° 0+1 = -1 åˆ° 1
  ä½†è¦åœ¨çŸ©é˜µå†…ï¼Œæ‰€ä»¥æ˜¯ max(0, -1) åˆ° min(2, 1) = 0 åˆ° 1

æ‰€ä»¥åœ¨ mat ä¸­ï¼ŒåŒºåŸŸæ˜¯ [0,0] åˆ° [1,1]
```

**Step 2ï¼šè½¬æ¢åˆ°dpçš„åæ ‡**
```
mat çš„ [0,0] åˆ° [1,1]
â†“
dp çš„ [0+1, 0+1] åˆ° [1+1, 1+1]
=
dp çš„ [1,1] åˆ° [2,2]
```

**Step 3ï¼šä½¿ç”¨æŸ¥è¯¢å…¬å¼**
```
åŒºåŸŸå’Œ = dp[2][2] - dp[0][2] - dp[2][0] + dp[0][0]
```

**æé—®ï¼š** ç°åœ¨ä½ æ˜ç™½ä¸ºä»€ä¹ˆè¦ `+1` äº†å—ï¼Ÿ

---

### ç¬¬äº”æ­¥ï¼šä¿®æ­£ä½ çš„ä»£ç 

**ä½ çš„ä»£ç é”™è¯¯åˆ†æï¼š**

```cpp
// âŒ é”™è¯¯1ï¼šé¢„å¤„ç†æ—¶æ¼äº†å‡å»é‡å¤éƒ¨åˆ†
dp[i][j] = dp[i-1][j] + dp[i][j-1] + mat[i-1][j-1];

// âœ… åº”è¯¥æ˜¯ï¼š
dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + mat[i-1][j-1];
//                                   â†‘ è¿™é‡Œè¦å‡ï¼
```

**ä¸ºä»€ä¹ˆè¦å‡ï¼Ÿ** å› ä¸º `dp[i-1][j]` å’Œ `dp[i][j-1]` éƒ½åŒ…å«äº†å·¦ä¸Šè§’ `dp[i-1][j-1]`ï¼ŒåŠ äº†ä¸¤æ¬¡è¦å‡ä¸€æ¬¡ï¼

---

**âœ… å®Œæ•´æ­£ç¡®ä»£ç ï¼š**

```cpp
class Solution {
public:
    vector<vector<int>> matrixBlockSum(vector<vector<int>>& mat, int k) {
        int m = mat.size(), n = mat[0].size();
        
        // 1. é¢„å¤„ç†å‰ç¼€å’ŒçŸ©é˜µï¼ˆå¤šå¼€ä¸€è¡Œä¸€åˆ—ä½œä¸ºå“¨å…µï¼‰
        vector<vector<int>> dp(m + 1, vector<int>(n + 1));
        
        for(int i = 1; i <= m; i++) {
            for(int j = 1; j <= n; j++) {
                // âœ… æ ¸å¿ƒå…¬å¼ï¼šåŠ åŠ å‡åŠ 
                dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + mat[i-1][j-1];
                //         ä¸Šé¢çŸ©å½¢  + å·¦è¾¹çŸ©å½¢  - é‡å¤éƒ¨åˆ†(å·¦ä¸Š) + å½“å‰å…ƒç´ 
            }
        }
        
        // 2. è®¡ç®—æ¯ä¸ªä½ç½®çš„åŒºåŸŸå’Œ
        vector<vector<int>> ret(m, vector<int>(n));
        
        for(int i = 0; i < m; i++) {
            for(int j = 0; j < n; j++) {
                // Step 1: åœ¨matä¸­ç¡®å®šåŒºåŸŸè¾¹ç•Œ
                int x1 = max(0, i - k);      // èµ·å§‹è¡Œ
                int y1 = max(0, j - k);      // èµ·å§‹åˆ—
                int x2 = min(m - 1, i + k);  // ç»“æŸè¡Œ
                int y2 = min(n - 1, j + k);  // ç»“æŸåˆ—
                
                // Step 2: è½¬æ¢åˆ°dpåæ ‡ï¼ˆ+1ï¼‰
                // Step 3: ä½¿ç”¨æŸ¥è¯¢å…¬å¼
                ret[i][j] = dp[x2+1][y2+1] - dp[x1][y2+1] - dp[x2+1][y1] + dp[x1][y1];
                //          å¤§çŸ©å½¢         - ä¸Šæ–¹çŸ©å½¢    - å·¦æ–¹çŸ©å½¢    + å·¦ä¸Šè§’
            }
        }
        
        return ret;
    }
};
```

---

### ç¬¬å…­æ­¥ï¼šè®°å¿†å£è¯€ï¼ˆæ°¸è¿œä¸ä¼šå¿˜ï¼ï¼‰

**äºŒç»´å‰ç¼€å’Œä¸¤å¤§å…¬å¼ï¼š**

1. **é¢„å¤„ç†ï¼šåŠ åŠ å‡åŠ **
   ```cpp
   dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + mat[i-1][j-1];
   ```

2. **æŸ¥è¯¢ï¼šå¤§å‡ä¸Šå‡å·¦åŠ è§’**
   ```cpp
   sum = dp[x2+1][y2+1] - dp[x1][y2+1] - dp[x2+1][y1] + dp[x1][y1];
   ```

**ç´¢å¼•æ˜ å°„ï¼š**
- `dp` æ¯” `mat` å¤šä¸€è¡Œä¸€åˆ—
- `mat[i][j]` å¯¹åº” `dp[i+1][j+1]`
- æŸ¥è¯¢ `mat` çš„ `[x1,y1]` åˆ° `[x2,y2]`ï¼Œå°±æŸ¥ `dp` çš„ `[x1+1,y1+1]` åˆ° `[x2+1,y2+1]`
- ä½†æŸ¥è¯¢å…¬å¼çš„å·¦ä¸Šè§’è¦ç”¨ `dp[x1][y1]`ï¼ˆä¸+1ï¼‰ï¼Œå› ä¸ºè¦**å®Œå…¨æ’é™¤**è¿™éƒ¨åˆ†

---

**æˆ‘çš„ä»£ç ï¼ˆä¿®æ­£ç‰ˆï¼‰ï¼š**
```cpp
class Solution {
public:
    vector<vector<int>> matrixBlockSum(vector<vector<int>>& mat, int k) {
        int m = mat.size(), n = mat[0].size();
        
        // 1. é¢„å¤„ç†å‰ç¼€å’ŒçŸ©é˜µ
        vector<vector<int>> dp(m + 1, vector<int>(n + 1));
        for(int i = 1; i <= m; i++) {
            for(int j = 1; j <= n; j++) {
                dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + mat[i-1][j-1];
            }
        }
        
        // 2. è®¡ç®—åŒºåŸŸå’Œ
        vector<vector<int>> ret(m, vector<int>(n));
        for(int i = 0; i < m; i++) {
            for(int j = 0; j < n; j++) {
                int x1 = max(0, i - k);
                int y1 = max(0, j - k);
                int x2 = min(m - 1, i + k);
                int y2 = min(n - 1, j + k);
                
                ret[i][j] = dp[x2+1][y2+1] - dp[x1][y2+1] - dp[x2+1][y1] + dp[x1][y1];
            }
        }
        
        return ret;
    }
};
```

**æäº¤ç»“æœï¼š**
âœ… ACï¼

---

**æˆ‘çš„æ”¶è·ï¼š**

### 1. å“¨å…µä½çš„ä½œç”¨ï¼ˆè‡ªå·±æ¨å¯¼å‡ºæ¥çš„ï¼ï¼‰
- `dp` æ¯” `mat` å¤šå¼€ä¸€åœˆï¼ˆ+1ï¼‰ï¼Œç¬¬0è¡Œã€ç¬¬0åˆ—å…¨æ˜¯0
- **ä½œç”¨ï¼š** é˜²æ­¢è¶Šç•Œï¼Œç»Ÿä¸€å…¬å¼ï¼Œä¸ç”¨å†™è¾¹ç•Œåˆ¤æ–­
- **ä»£ä»·ï¼š** ç´¢å¼•æ˜ å°„å‘ç”Ÿå˜åŒ–

### 2. é¢„å¤„ç†çš„æ˜ å°„å…³ç³»
```cpp
dp[i][j] å­˜çš„æ˜¯ mat[0][0] åˆ° mat[i-1][j-1] çš„åŒºåŸŸå’Œ

æ˜ å°„ï¼šmat[i][j] â†” dp[i+1][j+1]
```

### 3. æŸ¥è¯¢å…¬å¼çš„æœ¬è´¨ï¼ˆæœ€é‡è¦ï¼ï¼‰
```cpp
æŸ¥è¯¢ mat çš„ [x1,y1] åˆ° [x2,y2]:

åŒºåŸŸå’Œ = dp[x2+1][y2+1] - dp[x1][y2+1] - dp[x2+1][y1] + dp[x1][y1]
```

**ä¸ºä»€ä¹ˆè¿™æ ·è½¬æ¢ï¼Ÿ**
- åŒ…å«çš„å³ä¸‹è§’ `mat[x2][y2]` â†’ `dp[x2+1][y2+1]`
- æ’é™¤çš„ä¸Šæ–¹åˆ° `mat[x1-1][y2]` â†’ `dp[(x1-1)+1][y2+1]` = `dp[x1][y2+1]`
- æ’é™¤çš„å·¦æ–¹åˆ° `mat[x2][y1-1]` â†’ `dp[x2+1][(y1-1)+1]` = `dp[x2+1][y1]`
- æ’é™¤çš„å·¦ä¸Šè§’ `mat[x1-1][y1-1]` â†’ `dp[x1][y1]`

**å…³é”®ç†è§£ï¼š** 
- çœ‹èµ·æ¥ `x1` æ²¡+1ï¼Œå…¶å®æ˜¯ `(x1-1)+1` æŠµæ¶ˆäº†ï¼
- åŒ…å«çš„è¾¹ç•Œç›´æ¥+1ï¼Œæ’é™¤çš„è¾¹ç•Œæ˜¯ `-1` å† `+1` æŠµæ¶ˆ

### 4. è®°å¿†å£è¯€
```
é¢„å¤„ç†ï¼šåŠ åŠ å‡åŠ 
  dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + mat[i-1][j-1]

æŸ¥è¯¢ï¼šå¤§å‡ä¸Šå‡å·¦åŠ è§’
  åŒ…å«çš„+1ï¼Œæ’é™¤çš„ä¸+1ï¼ˆå®é™…æ˜¯-1å’Œ+1æŠµæ¶ˆï¼‰
```

### 5. é€šç”¨åˆ†ææ–¹æ³•ï¼ˆä»¥åè‡ªå·±ç”¨ï¼‰
1. çœ‹åˆ° `dp(m+1, n+1)` â†’ æœ‰å“¨å…µä½
2. æ¨å¯¼åŸºæœ¬æ˜ å°„ â†’ `dp[i]` å¯¹åº” `mat[i-1]`
3. æŸ¥è¯¢æ—¶ â†’ åŒ…å«çš„è¾¹ç•Œ+1ï¼Œæ’é™¤çš„è¾¹ç•Œ-1å†+1æŠµæ¶ˆ

### ä¸‹åˆä»»åŠ¡ï¼ˆå¦‚æœæœ‰æ—¶é—´ï¼Œå¯é€‰ï¼‰

#### ç¬¬4é¢˜ï¼šç»§ç»­äºŒåˆ†æŸ¥æ‰¾ä¸“é¢˜

**å¯é€‰é¢˜ç›®ï¼š**
- å±±å³°æ•°ç»„çš„å³°é¡¶ï¼ˆLeetCode 852ï¼‰
- å¯»æ‰¾å³°å€¼ï¼ˆLeetCode 162ï¼‰
- æœç´¢æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ï¼ˆLeetCode 153ï¼‰

---

## ğŸ’¡ ä»Šæ—¥æ€»ç»“

**ä»Šå¤©å®Œæˆé¢˜æ•°ï¼š** 3/3

**ç´¯è®¡å®Œæˆï¼š** 28é¢˜ â†’ 31é¢˜

**ç”¨æ—¶ï¼š** çº¦2.5å°æ—¶

**ä»Šå¤©çš„å…³é”®æ”¶è·ï¼š**
1. **æŒæ¡äº†äºŒç»´å‰ç¼€å’Œçš„ç´¢å¼•æ˜ å°„æœ¬è´¨** - é€šè¿‡è‹æ ¼æ‹‰åº•å¼æ•™å­¦ï¼Œè‡ªå·±æ¨å¯¼å‡ºå“¨å…µä½çš„ä½œç”¨å’Œæ˜ å°„è§„å¾‹
2. **ç†è§£äº†æŸ¥è¯¢å…¬å¼ä¸ºä»€ä¹ˆè¿™æ ·å†™** - åŒ…å«çš„è¾¹ç•Œ+1ï¼Œæ’é™¤çš„è¾¹ç•Œå®é™…æ˜¯-1å†+1æŠµæ¶ˆ
3. **å»ºç«‹äº†é€šç”¨åˆ†ææ¡†æ¶** - ä»¥åé‡åˆ°ç±»ä¼¼é—®é¢˜å¯ä»¥è‡ªå·±åˆ†æ

**æˆ‘é‡åˆ°çš„é—®é¢˜ï¼š**
1. é¢„å¤„ç†æ—¶æ¼äº† `- dp[i-1][j-1]`ï¼Œå¯¼è‡´ç»“æœåå¤§
2. ç´¢å¼•æ˜ å°„ä¸€å¼€å§‹å¾ˆæ··ä¹±ï¼Œä¸ç†è§£ä¸ºä»€ä¹ˆæœ‰çš„+1æœ‰çš„ä¸+1

**æ˜å¤©çš„ç›®æ ‡ï¼š**
- ç»§ç»­äºŒåˆ†æŸ¥æ‰¾ä¸“é¢˜ï¼Œå®Œæˆå±±å³°æ•°ç»„ã€å¯»æ‰¾å³°å€¼ç­‰é¢˜ç›®
- å¦‚æœæœ‰æ—¶é—´ï¼Œå›é¡¾ä¸€ä¸‹å‰ç¼€å’Œ+å“ˆå¸Œçš„ä¸¤é“é—ç•™é¢˜

---

**å­¦ä¹ è¿›åº¦ï¼š** Day10/150 âœ…

